{"version":3,"file":"js/app.bff73a4b.js","mappings":"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","sources":["webpack://@cosmicds/blaze-star-nova/./src/Annotation2.ts","webpack://@cosmicds/blaze-star-nova/./src/annotations.ts","webpack://@cosmicds/blaze-star-nova/./src/text.ts","webpack://@cosmicds/blaze-star-nova/./src/wwt-hacks.ts","webpack://@cosmicds/blaze-star-nova/./src/wwt_playback_control.ts","webpack://@cosmicds/blaze-star-nova/./src/BlazeStarNova.vue?2f2c","webpack://@cosmicds/blaze-star-nova/./src/BlazeStarNova.vue","webpack://@cosmicds/blaze-star-nova/./src/BlazeStarNova.vue?e50b","webpack://@cosmicds/blaze-star-nova/./plugins/vuetify.ts","webpack://@cosmicds/blaze-star-nova/./src/SplashScreen.vue?d226","webpack://@cosmicds/blaze-star-nova/./src/SplashScreen.vue","webpack://@cosmicds/blaze-star-nova/./src/SplashScreen.vue?b8e9","webpack://@cosmicds/blaze-star-nova/./src/geolocation.ts","webpack://@cosmicds/blaze-star-nova/./src/GeolocationButton.vue?8585","webpack://@cosmicds/blaze-star-nova/./src/GeolocationButton.vue","webpack://@cosmicds/blaze-star-nova/./src/GeolocationButton.vue?cadd","webpack://@cosmicds/blaze-star-nova/./src/main.ts","webpack://@cosmicds/blaze-star-nova/webpack/bootstrap","webpack://@cosmicds/blaze-star-nova/webpack/runtime/chunk loaded","webpack://@cosmicds/blaze-star-nova/webpack/runtime/define property getters","webpack://@cosmicds/blaze-star-nova/webpack/runtime/global","webpack://@cosmicds/blaze-star-nova/webpack/runtime/hasOwnProperty shorthand","webpack://@cosmicds/blaze-star-nova/webpack/runtime/make namespace object","webpack://@cosmicds/blaze-star-nova/webpack/runtime/jsonp chunk loading","webpack://@cosmicds/blaze-star-nova/webpack/startup"],"sourcesContent":["// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-nocheck\n/* eslint-disable */\n\nimport { Color, Colors, Coordinates, Dates, PointList, LineList, TriangleFanList, TriangleList, Tessellator } from \"@wwtelescope/engine\";\n\nexport class Annotation2 {\n  constructor() {\n    this.addedToPrimitives = false;\n    this.annotationDirty = true;\n    this._opacity = 1;\n    this._showHoverLabel = false;\n  }\n\n  static annotations = [];\n  static lineList = null;\n  static triangleFanPointList = null;\n  static triangleList = null;\n  static batchDirty = true;\n\n  static prepBatch(renderContext) {\n    if (Annotation2.pointList == null || Annotation2.batchDirty) {\n        Annotation2.pointList = new PointList(renderContext);\n        Annotation2.lineList = new LineList();\n        Annotation2.triangleFanPointList = new TriangleFanList();\n        Annotation2.triangleList = new TriangleList();\n        Annotation2.lineList.set_depthBuffered(false);\n        Annotation2.triangleList.depthBuffered = false;\n    }\n\n  }\n\n  static drawBatch(renderContext) {\n    Annotation2.batchDirty = false;\n    if (renderContext.gl == null) {\n        return;\n    }\n    if (Annotation2.pointList != null) {\n        Annotation2.pointList.draw(renderContext, 1, false);\n    }\n    if (Annotation2.lineList != null) {\n        Annotation2.lineList.drawLines(renderContext, 1);\n    }\n    if (Annotation2.triangleFanPointList != null) {\n        Annotation2.triangleFanPointList.draw(renderContext, 1);\n    }\n    if (Annotation2.triangleList != null) {\n        Annotation2.triangleList.draw(renderContext, 1, 0);\n    }\n  };\n\n  static separation(Alpha1, Delta1, Alpha2, Delta2) {\n    Delta1 = Delta1 / 180 * Math.PI;\n    Delta2 = Delta2 / 180 * Math.PI;\n    Alpha1 = Alpha1 / 12 * Math.PI;\n    Alpha2 = Alpha2 / 12 * Math.PI;\n    var x = Math.cos(Delta1) * Math.sin(Delta2) - Math.sin(Delta1) * Math.cos(Delta2) * Math.cos(Alpha2 - Alpha1);\n    var y = Math.cos(Delta2) * Math.sin(Alpha2 - Alpha1);\n    var z = Math.sin(Delta1) * Math.sin(Delta2) + Math.cos(Delta1) * Math.cos(Delta2) * Math.cos(Alpha2 - Alpha1);\n    var vvalue = Math.atan2(Math.sqrt(x * x + y * y), z);\n    vvalue = vvalue / Math.PI * 180;\n    if (vvalue < 0) {\n        vvalue += 180;\n    }\n    return vvalue;\n  };\n\n  static colorToUint(col) {\n    return (col.a) << 24 | (col.r << 16) | (col.g) << 8 | col.b;\n  }\n\n  static colorToUintAlpha(col, opacity) {\n    return opacity << 24 | col.r << 16 | col.g << 8 | col.b;\n  };\n\n  get_opacity() {\n    return this._opacity;\n  }\n\n  set_opacity(value) {\n    Annotation2.batchDirty = true;\n    this._opacity = value;\n    return value;\n  }\n\n  draw(renderContext) {}\n\n  get_id() { return this._id; }\n  set_id(value) {\n    this._id = value;\n    return value;\n  }\n\n  get_tag() { return this._tag; }\n  set_tag(value) {\n    this._tag = value;\n    return value;\n  }\n\n  get_label() {\n      return this._label;\n  }\n\n  set_label(value) {\n      this._label = value;\n      return value;\n  }\n\n  get_showHoverLabel() {\n      return this._showHoverLabel;\n  }\n\n  set_showHoverLabel(value) {\n      this._showHoverLabel = value;\n      return value;\n  }\n\n  hitTest(renderContext, RA, dec, x, y) {\n      return false;\n  }\n\n  get_center() {\n      return this.center;\n  }\n\n  set_center(value) {\n      this.center = value;\n      return value;\n  }\n\n  static addAnnotation(ann) {\n    Annotation2.annotations.push(ann);\n    Annotation2.batchDirty = true;\n  }\n\n  static clearAll() {\n    Annotation2.annotations = [];\n    Annotation2.batchDirty = true;\n  }\n}\n\nexport class Poly2 extends Annotation2 {\n  constructor() {\n    super();\n    this._points$1 = [];\n    this._fill$1 = false;\n    this._strokeWidth$1 = 1;\n    this._lineColor$1 = Colors.get_white();\n    this._fillColor$1 = Colors.get_white();\n  }\n\n  addPoint(x, y) {\n      Annotation2.batchDirty = true;\n      this._points$1.push(Coordinates.raDecTo3d(x / 15, y));\n  }\n\n  get_fill() {\n      return this._fill$1;\n  }\n\n  set_fill(value) {\n      Annotation2.batchDirty = true;\n      this._fill$1 = value;\n      return value;\n  }\n\n  get_lineWidth() {\n      return this._strokeWidth$1;\n  }\n\n  set_lineWidth(value) {\n      Annotation2.batchDirty = true;\n      this._strokeWidth$1 = value;\n      return value;\n  }\n\n  get_lineColor() {\n      return this._lineColor$1.toString();\n  }\n\n  set_lineColor(value) {\n      Annotation2.batchDirty = true;\n      this._lineColor$1 = Color.fromName(value);\n      return value;\n  }\n\n  get_fillColor() {\n      return this._fillColor$1.toString();\n  }\n\n  set_fillColor(value) {\n      Annotation2.batchDirty = true;\n      this._fillColor$1 = Color.fromName(value);\n      return value;\n  }\n\n  draw(renderContext) {\n      if (renderContext.gl != null) {\n          if (Annotation2.batchDirty || this.annotationDirty) {\n              //todo can we save this work for later?\n              var vertexList = this._points$1;\n\n              if (this._strokeWidth$1 > 0 && this._points$1.length > 1) {\n                  var lineColorWithOpacity = this._lineColor$1._clone();\n                  lineColorWithOpacity.a = Math.round(lineColorWithOpacity.a * this.get_opacity());\n                  for (var i = 0; i < (this._points$1.length - 1); i++) {\n                      Annotation2.lineList.addLine(vertexList[i], vertexList[i + 1], lineColorWithOpacity, new Dates(0, 1));\n                  }\n                  Annotation2.lineList.addLine(vertexList[this._points$1.length - 1], vertexList[0], lineColorWithOpacity, new Dates(0, 1));\n              }\n              if (this._fill$1) {\n                  var fillColorWithOpacity = this._fillColor$1._clone();\n                  fillColorWithOpacity.a = Math.round(fillColorWithOpacity.a * this.get_opacity());\n                  var indexes = Tessellator.tesselateSimplePoly(vertexList);\n                  for (var i = 0; i < indexes.length; i += 3) {\n                      Annotation2.triangleList.addSubdividedTriangles(vertexList[indexes[i]], vertexList[indexes[i + 1]], vertexList[indexes[i + 2]], fillColorWithOpacity, new Dates(0, 1), 2);\n                  }\n              }\n              this.annotationDirty = false;\n          }\n      } else {\n          var ctx = renderContext.device;\n          ctx.save();\n          ctx.globalAlpha = this.get_opacity();\n          ctx.beginPath();\n          var first = true;\n          for (const pnt of this._points$1) {\n              var screenSpacePnt = renderContext.WVP.transform(pnt);\n              if (screenSpacePnt.z < 0) {\n                  ctx.restore();\n                  return;\n              }\n              if (Vector3d.dot(renderContext.get_viewPoint(), pnt) < 0.75) {\n                  ctx.restore();\n                  return;\n              }\n              if (first) {\n                  first = false;\n                  ctx.moveTo(screenSpacePnt.x, screenSpacePnt.y);\n              }\n              else {\n                  ctx.lineTo(screenSpacePnt.x, screenSpacePnt.y);\n              }\n          }\n          ctx.closePath();\n          ctx.lineWidth = this._strokeWidth$1;\n          if (this._fill$1) {\n              ctx.fillStyle = this._fillColor$1.toString();\n              ctx.fill();\n          }\n          ctx.strokeStyle = this._lineColor$1.toString();\n          ctx.globalAlpha = 1;\n          ctx.stroke();\n          ctx.restore();\n      }\n  }\n\n};\n","import { D2R, R2D } from \"@cosmicds/vue-toolkit\";\nimport { Poly, WWTControl } from \"@wwtelescope/engine\";\nimport { Annotation2, Poly2 } from \"./Annotation2\";\nimport { HorizonSkyOptions, HorizontalRad, EquatorialRad } from \"./types\";\n\n// WWT does have all of this functionality built in\n// but it doesn't seem to be exposed\n// We should do that, but for now we just copy the web engine code\n// https://github.com/Carifio24/wwt-webgl-engine/blob/master/engine/wwtlib/Coordinates.cs\nexport function altAzToHADec(altRad: number, azRad: number, latRad: number): { ra: number; dec: number; } {\n  azRad = Math.PI - azRad;\n  if (azRad < 0) {\n    azRad += 2 * Math.PI;\n  }\n  let ra = Math.atan2(Math.sin(azRad), Math.cos(azRad) * Math.sin(latRad) + Math.tan(altRad) * Math.cos(latRad));\n  if (ra < 0) {\n    ra += 2 * Math.PI;\n  }\n  const dec = Math.asin(Math.sin(latRad) * Math.sin(altRad) - Math.cos(latRad) * Math.cos(altRad) * Math.cos(azRad));\n  return { ra, dec };\n}\n\nexport function getJulian(utc: Date): number {\n  let year = utc.getUTCFullYear();\n  let month = utc.getUTCMonth()+1;\n  const day = utc.getUTCDate();\n  const hour = utc.getUTCHours();\n  const minute = utc.getUTCMinutes();\n  const second = utc.getUTCSeconds() + utc.getUTCMilliseconds() / 1000.0;\n\n  if (month == 1 || month == 2)\n  {\n    year -= 1;\n    month += 12;\n  }\n\n  const a = Math.floor(year / 100);\n  const b = 2 - a + Math.floor(a / 4.0);\n  const c = Math.floor(365.25 * year);\n  const d = Math.floor(30.6001 * (month + 1));\n\n  // gives julian date: number of days since Jan 1, 4713 BC\n  const jd = b + c + d + 1720994.5 + day + (hour + minute / 60.00 + second / 3600.00) / 24.00;\n  return jd;\n}\n\nexport function mstFromUTC2(utc: Date, longRad: number): number {\n  const lng = longRad * R2D;\n\n  const modifiedJD = getJulian(utc)  - 2451545;\n\n  const julianCenturies = modifiedJD / 36525.0;\n  // this form wants julianDays - 2451545\n  let mst = 280.46061837 + 360.98564736629 * modifiedJD + 0.000387933 * julianCenturies * julianCenturies - julianCenturies * julianCenturies * julianCenturies / 38710000 + lng;\n\n  if (mst > 0.0) {\n    while (mst > 360.0) {\n      mst = mst - 360.0;\n    }\n  } else {\n    while (mst < 0.0) {\n      mst = mst + 360.0;\n    }\n  }\n\n  return mst;\n}\n\nexport function horizontalToEquatorial(altRad: number, azRad: number, latRad: number, longRad: number, utc: Date): EquatorialRad {\n  const st = mstFromUTC2(utc, longRad); // siderial time \n\n  const haDec = altAzToHADec(altRad, azRad, latRad); // get Hour Angle and Declination\n  \n  const ha = haDec.ra * R2D;\n\n  let ra = st + ha;\n  if (ra < 0) {\n    ra += 360;\n  }\n  if (ra > 360) {\n    ra -= 360;\n  }\n  // ra -= 180;\n  // console.log(`Alt: ${(altRad*R2D).toFixed(2)} Az: ${(azRad*R2D).toFixed(2)} Ra: ${ra.toFixed(2)} Dec: ${(haDec.dec*R2D).toFixed(2)}`)\n\n  return { raRad: D2R * ra, decRad: haDec.dec };\n}\n\nexport function equatorialToHorizontal(raRad: number, decRad: number, latRad: number, longRad: number, utc: Date): HorizontalRad {\n  let hourAngle = mstFromUTC2(utc, longRad) - R2D * raRad;\n  if (hourAngle < 0) {\n    hourAngle += 360;\n  }\n\n  const ha = D2R * hourAngle;\n  const dec = decRad;\n  const lat = latRad;\n  \n  const sinAlt = Math.sin(dec) * Math.sin(lat) + Math.cos(dec) * Math.cos(lat) * Math.cos(ha);\n  const altitude = Math.asin(sinAlt);\n  const cosAz = (Math.sin(dec) - Math.sin(altitude) * Math.sin(lat)) / (Math.cos(altitude) * Math.cos(lat));\n  let azimuth = Math.acos(cosAz);\n\n  azimuth = azimuth + (Math.PI * 80) % (Math.PI * 2);\n\n  if (Math.sin(ha) > 0) {\n    azimuth = 2 * Math.PI - azimuth;\n  }\n  return { altRad: altitude, azRad: azimuth };\n\n}\n\nexport function createHorizon(options: HorizonSkyOptions): Poly[] {\n  const date = options.when || new Date();\n\n  // The initial coordinates are given in Alt/Az, then converted to RA/Dec\n  // Use N annotations to cover below the horizon\n  const n = 6;\n  const delta = 2 * Math.PI / n;\n  const color = options.color ?? \"#01362C\";\n  const opacity = options.opacity ?? 1;\n\n  const pieces: Poly[] = [];\n  for (let i = 0; i < n; i++) {\n    let points: [number, number][] = [\n      [0, i * delta],\n      [-Math.PI / 2, i * delta],\n      [0, (i + 1) * delta]\n    ];\n    points = points.map((point) => {\n      const raDec = horizontalToEquatorial(...point, options.location.latitudeRad, options.location.longitudeRad, date);\n      return [R2D * raDec.raRad, R2D * raDec.decRad];\n    });\n    // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n    // @ts-ignore\n    const poly = new Poly2();\n    points.forEach(point => poly.addPoint(...point));\n    poly.set_lineColor(color);\n    poly.set_fill(true);\n    poly.set_fillColor(color);\n    poly.set_opacity(opacity);\n    poly.set_lineWidth(0); // This removes the seam that appears between the polygons when opacity < 1\n\n    // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n    // @ts-ignore\n    Annotation2.addAnnotation(poly);\n    pieces.push(poly);\n  }\n\n  return pieces;\n}\n\nexport function removeHorizon() {\n  Annotation2.clearAll();\n}\n\nexport function createSky(options: HorizonSkyOptions): Poly[] {\n  const color = options.color ?? \"#4190ED\";\n  const date = options.when || new Date();\n  const opacity = options.opacity ?? 1;\n\n  // The initial coordinates are given in Alt/Az, then converted to RA/Dec\n  // Use N annotations to cover below the horizon\n  const n = 6;\n  const delta = 2 * Math.PI / n;\n  // const delta = 360/n;\n  \n  const pieces: Poly[] = [];\n  for (let i = 0; i < n; i++) {\n    let points: [number, number][] = [\n      [0, i * delta],\n      [0, (i + 1) * delta],\n      [Math.PI / 2, i * delta] // In addition to using +pi/2 instead of -pi/2, I had to switch the order of the 2nd & 3rd points relative to the horizon set. I don't know why, but before I switched them, the polygons didn't render.\n    ];\n    points = points.map((point) => {\n      const raDec = horizontalToEquatorial(...point, options.location.latitudeRad, options.location.longitudeRad, date);\n      return [R2D * raDec.raRad, R2D * raDec.decRad];\n    });\n    const poly = new Poly();\n    points.forEach(point => poly.addPoint(...point));\n    poly.set_fill(true);\n    poly.set_fillColor(color);\n    poly.set_opacity(opacity);\n    poly.set_lineWidth(0); // This removes the seam that appears between the polygons when opacity < 1\n    // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n    // @ts-ignore\n    WWTControl.scriptInterface.addAnnotation(poly);\n    pieces.push(poly);\n  }\n\n  return pieces;\n}\n\n","// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-nocheck\n\n/* eslint-disable */\n\nimport { Coordinates, Text3d, Text3dBatch, Vector3d } from \"@wwtelescope/engine\";\n\nexport function makeTextOverlays(): Text3dBatch {\n  const glyphHeight = 75 * 0.5;\n  const scale = 0.00018;\n  const batch = new Text3dBatch(glyphHeight);\n  const up = Vector3d.create(0, 1, 0);\n  const textItems = [\n    \"Blaze\", \n    \"Star\",\n    \"Nova will\", \n    \"be roughly\", \n    \"this bright\",\n  ];\n  const locations = [\n    Coordinates.raDecTo3d(15 + 59 / 60 + 30.1622 / 3600, 24 + 55 / 60 + 12.613 / 3600),\n    Coordinates.raDecTo3d(15 + 59 / 60 + 30.1622 / 3600, 23 + 40 / 60 + 12.613 / 3600),\n    Coordinates.raDecTo3d(15 + 24 / 60 + 41.268 / 3600, 25 + 42 / 60 + 52.89 / 3600),\n    Coordinates.raDecTo3d(15 + 24 / 60 + 41.268 / 3600, 24 + 27 / 60 + 52.89 / 3600),\n    Coordinates.raDecTo3d(15 + 24 / 60 + 41.268 / 3600, 23 + 12 / 60 + 52.89 / 3600),  \n  ];\n\n  textItems.forEach((item, index) => {\n    batch.add(new Text3d(locations[index], up, item, glyphHeight, scale));\n  });\n\n  return batch;\n}\n","// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-nocheck\n\n/* eslint-disable */\n\nimport {\n  Annotation,\n  Color,\n  Constellations,\n  Coordinates,\n  GlyphCache,\n  Grids,\n  Planets,\n  RenderTriangle,\n  Settings,\n  SimpleLineList,\n  SpaceTimeController,\n  Text3d,\n  Text3dBatch,\n  Texture,\n  Tile,\n  TileCache,\n  TourPlayer,\n  Vector3d,\n  WebFile,\n  WWTControl,\n} from \"@wwtelescope/engine\";\n\nimport { Annotation2 } from \"./Annotation2\";\nimport { makeTextOverlays } from \"./text\";\n\nexport function makeAltAzGridText() {\n  if (Grids._altAzTextBatch == null) {\n    const glyphHeight = 70;\n    Grids._altAzTextBatch = new Text3dBatch(glyphHeight);\n    const sign = SpaceTimeController.get_location().get_lat() < 0 ? -1 : 1;\n    const alt = 0.03 * sign;\n    const up = Vector3d.create(0, sign, 0);\n    const directions = [\n      [[0, alt, -1], \"N\"],\n      [[-sign, alt, 0], \"E\"],\n      [[0, alt, 1], \"S\"],\n      [[sign, alt,  -0.0095], \"V\"],\n      [[sign, alt,  0.0095], \"V\"]\n    ]\n    directions.forEach(([v, text]) => {\n      Grids._altAzTextBatch.add(new Text3d(Vector3d.create(...v), up, text, 75, 0.00018));\n    });\n  }\n}\n\nfunction drawSingleConstellation(renderContext, ls, opacity, color=null) {\n  const reverse = false;\n  const name = ls.get_name();\n  const centroid = Constellations.constellationCentroids[name];\n  if (centroid != null) {\n      var pos = Coordinates.raDecTo3d((reverse) ? -centroid.get_RA() - 6 : centroid.get_RA(), (reverse) ? centroid.get_dec() : centroid.get_dec());\n      if (Vector3d.dot(renderContext.get_viewPoint(), pos) < Constellations._maxSeperation) {\n          return;\n      }\n  }\n  if (!(name in this._constellationVertexBuffers)) {\n    var count = ls.points.length;\n    var linelist = new SimpleLineList();\n    linelist.set_depthBuffered(false);\n    this._constellationVertexBuffers[name] = linelist;\n    var currentPoint = new Vector3d();\n    var temp;\n    for (var i = 0; i < count; i++) {\n        if (!ls.points[i].pointType || !i) {\n            currentPoint = Coordinates.raDecTo3d(ls.points[i].RA, ls.points[i].dec);\n        }\n        else {\n            temp = Coordinates.raDecTo3d(ls.points[i].RA, ls.points[i].dec);\n            linelist.addLine(currentPoint, temp);\n            currentPoint = temp;\n        }\n    }\n    if (this._boundry) {\n        temp = Coordinates.raDecTo3d(ls.points[0].RA, ls.points[0].dec);\n        linelist.addLine(currentPoint, temp);\n    }\n  }\n  var col = 'red';\n  if (this._boundry) {\n      if (Constellations._constToDraw !== name) {\n          col = Settings.get_globalSettings().get_constellationBoundryColor();\n      }\n      else {\n          col = Settings.get_globalSettings().get_constellationSelectionColor();\n      }\n  } else {\n      col = color ?? Settings.get_globalSettings().get_constellationFigureColor();\n  }\n  this._constellationVertexBuffers[name].drawLines(renderContext, opacity, Color.load(col));\n}\n\n\nfunction drawConstellations(renderContext, showOnlySelected, focusConstellation, clearExisting) {\n    const highlight = [\"CRB\"];\n    const highlightColor = \"#ffff00\";\n    Constellations._maxSeperation = Math.max(0.6, Math.cos((renderContext.get_fovAngle() * 2) / 180 * Math.PI));\n    this._drawCount = 0;\n    var lsSelected = null;\n    if (this.lines == null || Constellations.constellationCentroids == null) {\n        return;\n    }\n    Constellations._constToDraw = focusConstellation;\n    for (const ls of this.lines) {\n        const name = ls.get_name();\n        const highlighted = highlight.includes(name);\n        const color = highlighted ? highlightColor : null;\n        if (Constellations._constToDraw === name && this._boundry) {\n            lsSelected = ls;\n        }\n        else if (!showOnlySelected || !this._boundry) {\n            this._drawSingleConstellation(renderContext, ls, 1, color);\n        }\n    }\n    if (lsSelected != null) {\n        this._drawSingleConstellation(renderContext, lsSelected, 1, color);\n    }\n  }\n\n\nexport function setupConstellationFigures() {\n  WWTControl.constellationsFigures._drawSingleConstellation = drawSingleConstellation.bind(WWTControl.constellationsFigures);\n  WWTControl.constellationsFigures.draw = drawConstellations.bind(WWTControl.constellationsFigures);\n}\n\nexport function useCustomGlyphs(batch: Text3dBatch) {\n  batch.prepareBatch();\n  const cache = batch._glyphCache;\n  cache._glyphItems = {};\n  const origin = window.location.origin;\n  const imageUrl = `${origin}/glyphs2.png`;\n  const xmlUrl = `${origin}/glyphs2.xml`;\n  cache._texture = Texture.fromUrl(imageUrl);\n  cache._webFile = new WebFile(xmlUrl);\n  cache._webFile.onStateChange = GlyphCache.prototype._glyphXmlReady.bind(cache);\n  cache._webFile.send();\n}\n\nexport function renderOneFrame() {\n  if (this.renderContext.get_backgroundImageset() != null) {\n    this.renderType = this.renderContext.get_backgroundImageset().get_dataSetType();\n  } else {\n    this.renderType = 2;\n  }\n\n  var sizeChange = false;\n  if (this.canvas.width !== this.canvas.parentNode.clientWidth) {\n    this.canvas.width = this.canvas.parentNode.clientWidth;\n    sizeChange = true;\n  }\n  if (this.canvas.height !== this.canvas.parentNode.clientHeight) {\n    this.canvas.height = this.canvas.parentNode.clientHeight;\n    sizeChange = true;\n  }\n  if (sizeChange && this.explorer != null) {\n    this.explorer.refresh();\n  }\n  if (this.canvas.width < 1 || this.canvas.height < 1) {\n    return;\n  }\n  if (sizeChange) {\n    this._crossHairs = null;\n  }\n  Tile.lastDeepestLevel = Tile.deepestLevel;\n  RenderTriangle.width = this.renderContext.width = this.canvas.width;\n  RenderTriangle.height = this.renderContext.height = this.canvas.height;\n  Tile.tilesInView = 0;\n  Tile.tilesTouched = 0;\n  Tile.deepestLevel = 0;\n  SpaceTimeController.set_metaNow(new Date());\n  if (this.get__mover() != null) {\n    SpaceTimeController.set_now(this.get__mover().get_currentDateTime());\n    Planets.updatePlanetLocations(this.get_solarSystemMode());\n    if (this.get__mover() != null) {\n      const newCam = this.get__mover().get_currentPosition();\n      this.renderContext.targetCamera = newCam.copy();\n      this.renderContext.viewCamera = newCam.copy();\n      if (this.renderContext.space && Settings.get_active().get_galacticMode()) {\n        const gPoint = Coordinates.j2000toGalactic(newCam.get_RA() * 15, newCam.get_dec());\n        this.renderContext.targetAlt = this.renderContext.alt = gPoint[1];\n        this.renderContext.targetAz = this.renderContext.az = gPoint[0];\n      }\n      else if (this.renderContext.space && Settings.get_active().get_localHorizonMode()) {\n        const currentAltAz = Coordinates.equitorialToHorizon(Coordinates.fromRaDec(newCam.get_RA(), newCam.get_dec()), SpaceTimeController.get_location(), SpaceTimeController.get_now());\n        this.renderContext.targetAlt = this.renderContext.alt = currentAltAz.get_alt();\n        this.renderContext.targetAz = this.renderContext.az = currentAltAz.get_az();\n      }\n      if (this.get__mover().get_complete()) {\n        WWTControl.scriptInterface._fireArrived(this.get__mover().get_currentPosition().get_RA(), this.get__mover().get_currentPosition().get_dec(), WWTControl.singleton.renderContext.viewCamera.zoom);\n        this.set__mover(null);\n        this._notifyMoveComplete();\n      }\n    }\n  }\n  else {\n    SpaceTimeController.updateClock();\n    Planets.updatePlanetLocations(this.get_solarSystemMode());\n    this._updateViewParameters();\n  }\n  this.renderContext.clear();\n\n  this.renderContext.setupMatricesSpace3d(this.renderContext.width, this.renderContext.height);\n  this.renderContext.drawImageSet(this.renderContext.get_backgroundImageset(), 100);\n  if (this.renderContext.get_foregroundImageset() != null) {\n    if (this.renderContext.get_foregroundImageset().get_dataSetType() !== this.renderContext.get_backgroundImageset().get_dataSetType()) {\n      this.renderContext.set_foregroundImageset(null);\n    }\n    else {\n      if (this.renderContext.viewCamera.opacity !== 100 && this.renderContext.gl == null) {\n        if (this._foregroundCanvas.width !== this.renderContext.width || this._foregroundCanvas.height !== this.renderContext.height) {\n          this._foregroundCanvas.width = this.renderContext.width;\n          this._foregroundCanvas.height = this.renderContext.height;\n        }\n        var saveDevice = this.renderContext.device;\n        this._fgDevice.clearRect(0, 0, this.renderContext.width, this.renderContext.height);\n        this.renderContext.device = this._fgDevice;\n        this.renderContext.drawImageSet(this.renderContext.get_foregroundImageset(), 100);\n        this.renderContext.device = saveDevice;\n        this.renderContext.device.save();\n        this.renderContext.device.globalAlpha = this.renderContext.viewCamera.opacity / 100;\n        this.renderContext.device.drawImage(this._foregroundCanvas, 0, 0);\n        this.renderContext.device.restore();\n      }\n      else {\n        this.renderContext.drawImageSet(this.renderContext.get_foregroundImageset(), this.renderContext.viewCamera.opacity);\n      }\n    }\n  }\n  if (this.uiController != null) {\n    this.uiController.render(this.renderContext);\n  }\n  else {\n    const index = 0;\n    Annotation.prepBatch(this.renderContext);\n    for (const item of this._annotations) {\n      item.draw(this.renderContext);\n      index++;\n    }\n    Annotation.drawBatch(this.renderContext);\n    if ((Date.now() - this._lastMouseMove) > 400) {\n      var raDecDown = this.getCoordinatesForScreenPoint(this._hoverTextPoint.x, this._hoverTextPoint.y);\n      this._annotationHover(raDecDown.x, raDecDown.y, this._hoverTextPoint.x, this._hoverTextPoint.y);\n      this._lastMouseMove = new Date(2100, 1, 1);\n    }\n    if (this._hoverText) {\n      this._drawHoverText(this.renderContext);\n    }\n  }\n\n  for (const imageset in this.renderContext.get_catalogHipsImagesets()) {\n    if (imageset.get_hipsProperties().get_catalogSpreadSheetLayer().enabled && imageset.get_hipsProperties().get_catalogSpreadSheetLayer().lastVersion === imageset.get_hipsProperties().get_catalogSpreadSheetLayer().get_version()) {\n      this.renderContext.drawImageSet(imageset, 100);\n    }\n  }\n  this.constellation = Constellations.containment.findConstellationForPoint(this.renderContext.viewCamera.get_RA(), this.renderContext.viewCamera.get_dec());\n  Planets.drawPlanets(this.renderContext, 1);\n  this._drawSkyOverlays();\n\n  if (this.textOverlays === undefined) {\n    this.textOverlays = makeTextOverlays();\n  }\n\n  if (Settings.get_active().get_showConstellationLabels()) {\n    if (Grids._altAzTextBatch.viewTransform != undefined) {\n      this.textOverlays.viewTransform = Grids._altAzTextBatch.viewTransform;\n    }\n    this.textOverlays.draw(this.renderContext, 1, Color.fromArgb(255, 255, 255, 255));\n  }\n\n  Annotation2.prepBatch(this.renderContext);\n  for (const item of Annotation2.annotations) {\n    item.draw(this.renderContext);\n  }\n  Annotation2.drawBatch(this.renderContext);\n\n  const worldSave = this.renderContext.get_world();\n  const viewSave = this.renderContext.get_view();\n  const projSave = this.renderContext.get_projection();\n  if (Settings.get_current().get_showCrosshairs()) {\n    this._drawCrosshairs(this.renderContext);\n  }\n\n  const tilesAllLoaded = !TileCache.get_queueCount();\n  this.renderContext.setupMatricesOverlays();\n  this._fadeFrame();\n  this._frameCount++;\n  TileCache.decimateQueue();\n  TileCache.processQueue(this.renderContext);\n  Tile.currentRenderGeneration++;\n  if (!TourPlayer.get_playing()) {\n    this.set_crossFadeFrame(false);\n  }\n  this.renderContext.set_world(worldSave);\n  this.renderContext.set_view(viewSave);\n  this.renderContext.set_projection(projSave);\n  const now = Date.now();\n  const ms = now - this._lastUpdate;\n  if (ms > 1000) {\n    this._lastUpdate = now;\n    this._frameCount = 0;\n    RenderTriangle.trianglesRendered = 0;\n    RenderTriangle.trianglesCulled = 0;\n  }\n  if (this.capturingVideo) {\n    if ((this.dumpFrameParams != null) && (!this.dumpFrameParams.waitDownload || tilesAllLoaded)) {\n      this.captureFrameForVideo(this._videoBlobReady, this.dumpFrameParams.width, this.dumpFrameParams.height, this.dumpFrameParams.format);\n      SpaceTimeController.nextFrame();\n    }\n    if (SpaceTimeController.get_doneDumping()) {\n      SpaceTimeController.frameDumping = false;\n      SpaceTimeController.cancelFrameDump = false;\n      this.capturingVideo = false;\n    }\n  }\n}\n","// wwt_playback_control.ts\n\n// Vue composable for controlling the playback and playrate of the WWT engine\nimport { ref, watch } from \"vue\";\nimport { engineStore } from \"@wwtelescope/engine-pinia\";\ntype WWTEngineStore = ReturnType<typeof engineStore>;\nexport function usePlaybackControl(store: WWTEngineStore, debug = false) {\n  console.log(\"usePlaybackControl\");\n  const clockRate = ref(1);\n  const timePlaying = ref(false);\n  \n  const play = () => { timePlaying.value = true; };\n  \n  const pause = () => { timePlaying.value = false; };\n\n  const togglePlay = () => { timePlaying.value = !timePlaying.value; };\n  \n  \n  function setSpeed(rate: number) {\n    clockRate.value = rate;\n  }\n  \n\n  store.waitForReady().then(() => {\n    watch(clockRate, (newRate) => {\n      console.log(\"playbackRate changed\", newRate);\n      store.setClockRate(newRate);\n    });\n\n    watch(timePlaying, (newIsPlaying) => {\n      console.log(\"isPlaying changed\", newIsPlaying);\n      store.setClockSync(newIsPlaying);\n    });\n    store.setClockRate(clockRate.value);\n    store.setClockSync(timePlaying.value);\n  });\n  \n  // watch everything and log out what changes\n  if (debug) {\n    watch(clockRate, (newRate) => {\n      console.log(\"playbackRate changed\", newRate);\n    });\n    watch(timePlaying, (newIsPlaying) => {\n      console.log(\"isPlaying changed\", newIsPlaying);\n    });\n  }\n\n  \n  \n\n    \n    \n\n\n  return {\n    play, \n    pause,\n    togglePlay,\n    setSpeed,\n    timePlaying,\n    clockRate\n  };\n  \n}\n    ","import { defineComponent as _defineComponent } from 'vue'\nimport { resolveComponent as _resolveComponent, createVNode as _createVNode, createElementVNode as _createElementVNode, vShow as _vShow, withDirectives as _withDirectives, Transition as _Transition, withCtx as _withCtx, withKeys as _withKeys, createTextVNode as _createTextVNode, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, unref as _unref, toDisplayString as _toDisplayString, normalizeStyle as _normalizeStyle, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = { id: \"main-content\" }\nconst _hoisted_2 = {\n  class: \"modal\",\n  id: \"modal-loading\"\n}\nconst _hoisted_3 = /*#__PURE__*/_createElementVNode(\"div\", { class: \"container\" }, [\n  /*#__PURE__*/_createElementVNode(\"div\", { class: \"spinner\" }),\n  /*#__PURE__*/_createElementVNode(\"p\", null, \"Loading \")\n], -1)\nconst _hoisted_4 = [\n  _hoisted_3\n]\nconst _hoisted_5 = { id: \"top-content\" }\nconst _hoisted_6 = { id: \"left-buttons\" }\nconst _hoisted_7 = { id: \"center-buttons\" }\nconst _hoisted_8 = { id: \"right-buttons\" }\nconst _hoisted_9 = /*#__PURE__*/_createElementVNode(\"div\", { id: \"empty-space\" }, null, -1)\nconst _hoisted_10 = { id: \"playback-controls\" }\nconst _hoisted_11 = { class: \"jl_debug\" }\nconst _hoisted_12 = { class: \"jl_debug\" }\nconst _hoisted_13 = { class: \"jl_debug\" }\nconst _hoisted_14 = { id: \"date-picker\" }\nconst _hoisted_15 = { id: \"bottom-content\" }\nconst _hoisted_16 = {\n  id: \"controls\",\n  class: \"control-icon-wrapper\"\n}\nconst _hoisted_17 = { id: \"controls-top-row\" }\nconst _hoisted_18 = {\n  key: 0,\n  id: \"control-checkboxes\"\n}\nconst _hoisted_19 = { class: \"video-wrapper\" }\nconst _hoisted_20 = /*#__PURE__*/_createElementVNode(\"video\", {\n  controls: \"\",\n  id: \"info-video\"\n}, [\n  /*#__PURE__*/_createElementVNode(\"source\", {\n    src: \"\",\n    type: \"video/mp4\"\n  })\n], -1)\nconst _hoisted_21 = /*#__PURE__*/_createElementVNode(\"h3\", null, \"Information\", -1)\nconst _hoisted_22 = /*#__PURE__*/_createElementVNode(\"h3\", null, \"Using WWT\", -1)\nconst _hoisted_23 = /*#__PURE__*/_createElementVNode(\"br\", null, null, -1)\nconst _hoisted_24 = /*#__PURE__*/_createElementVNode(\"br\", null, null, -1)\nconst _hoisted_25 = /*#__PURE__*/_createElementVNode(\"div\", { class: \"credits\" }, [\n  /*#__PURE__*/_createElementVNode(\"h3\", null, \"Credits:\"),\n  /*#__PURE__*/_createElementVNode(\"h4\", null, [\n    /*#__PURE__*/_createElementVNode(\"a\", {\n      href: \"https://www.cosmicds.cfa.harvard.edu/\",\n      target: \"_blank\",\n      rel: \"noopener noreferrer\"\n    }, \"CosmicDS\"),\n    /*#__PURE__*/_createTextVNode(\" Vue Data Stories Team:\")\n  ]),\n  /*#__PURE__*/_createTextVNode(\" John Lewis\"),\n  /*#__PURE__*/_createElementVNode(\"br\"),\n  /*#__PURE__*/_createTextVNode(\" Jon Carifio\"),\n  /*#__PURE__*/_createElementVNode(\"br\"),\n  /*#__PURE__*/_createTextVNode(\" Pat Udomprasert\"),\n  /*#__PURE__*/_createElementVNode(\"br\"),\n  /*#__PURE__*/_createTextVNode(\" Alyssa Goodman\"),\n  /*#__PURE__*/_createElementVNode(\"br\"),\n  /*#__PURE__*/_createTextVNode(\" Mary Dussault\"),\n  /*#__PURE__*/_createElementVNode(\"br\"),\n  /*#__PURE__*/_createTextVNode(\" Harry Houghton\"),\n  /*#__PURE__*/_createElementVNode(\"br\"),\n  /*#__PURE__*/_createTextVNode(\" Anna Nolin\"),\n  /*#__PURE__*/_createElementVNode(\"br\"),\n  /*#__PURE__*/_createTextVNode(\" Evaluator: Sue Sunbury\"),\n  /*#__PURE__*/_createElementVNode(\"br\"),\n  /*#__PURE__*/_createElementVNode(\"br\"),\n  /*#__PURE__*/_createElementVNode(\"h4\", null, \"WorldWide Telescope Team:\"),\n  /*#__PURE__*/_createTextVNode(\" Peter Williams\"),\n  /*#__PURE__*/_createElementVNode(\"br\"),\n  /*#__PURE__*/_createTextVNode(\" A. David Weigel\"),\n  /*#__PURE__*/_createElementVNode(\"br\"),\n  /*#__PURE__*/_createTextVNode(\" Jon Carifio\"),\n  /*#__PURE__*/_createElementVNode(\"br\")\n], -1)\n\nimport { ref, reactive, computed, onMounted, nextTick, watch } from \"vue\";\nimport { Color, Grids, Place, Settings, WWTControl } from \"@wwtelescope/engine\";\nimport { Classification, SolarSystemObjects } from \"@wwtelescope/engine-types\";\nimport { GotoRADecZoomParams, engineStore } from \"@wwtelescope/engine-pinia\";\nimport { BackgroundImageset, skyBackgroundImagesets, supportsTouchscreen, blurActiveElement, useWWTKeyboardControls, D2R, LocationDeg } from \"@cosmicds/vue-toolkit\";\n\nimport { createHorizon, createSky, removeHorizon, equatorialToHorizontal } from \"./annotations\";\nimport { EquatorialRad, HorizontalRad, LocationRad } from \"./types\";\nimport { makeAltAzGridText, setupConstellationFigures, useCustomGlyphs, renderOneFrame } from \"./wwt-hacks\";\nimport { makeTextOverlays } from \"./text\";\n\nimport { usePlaybackControl } from \"./wwt_playback_control\";\nimport VueDatePicker from '@vuepic/vue-datepicker';\n\ntype SheetType = \"text\" | \"video\";\ntype CameraParams = Omit<GotoRADecZoomParams, \"instant\">;\nexport interface MainComponentProps {\n  wwtNamespace?: string;\n  initialCameraParams?: CameraParams;\n}\n\nconst clockRate = 1000;\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'BlazeStarNova',\n  props: {\n    wwtNamespace: { default: \"MainComponent\" },\n    initialCameraParams: { default: () => {\n    return {\n      raRad: 4.001238944138198,\n      decRad: 0.5307600894728279,\n      zoomDeg: 180\n    };\n  } }\n  },\n  setup(__props: any) {\n\nconst store = engineStore();\n\nuseWWTKeyboardControls(store);\n\nconst playbackControl = usePlaybackControl(store, true);\n// initialize playback. \nplaybackControl.setSpeed(1000);\nplaybackControl.pause();\n// destructure playbackControl\nconst { timePlaying } = playbackControl;\n\nconst touchscreen = supportsTouchscreen();\n// const { smAndDown } = useDisplay();\n\nconst props = __props;\n\nconst splash = new URLSearchParams(window.location.search).get(\"splash\")?.toLowerCase() !== \"false\";\nconst showSplashScreen = ref(splash);\nconst backgroundImagesets = reactive<BackgroundImageset[]>([]);\nconst sheet = ref<SheetType | null>(null);\nconst layersLoaded = ref(false);\nconst positionSet = ref(false);\nconst accentColor = ref(\"#f7bb48\");\nconst buttonColor = ref(\"#f7bb48\");\nconst tab = ref(0);\nconst showHorizon = ref(true);\nconst showAltAzGrid = ref(true);\nconst showControls = ref(false);\nconst showConstellations = ref(true);\nconst crbBelowHorizon = ref(true);\n\n// For now, we're not allowing a user to change this\nconst sunPlace = new Place();\nsunPlace.set_names([\"Sun\"]);\nsunPlace.set_classification(Classification.solarSystem);\nsunPlace.set_target(SolarSystemObjects.sun);\nsunPlace.set_zoomLevel(20);\n\nconst crbPlace = new Place();\ncrbPlace.set_RA(15 + 59 / 60 + 30.1622 / 3600);\ncrbPlace.set_dec(25 + 55 / 60 + 12.613 / 3600);\n\n// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-ignore\nconst wwtSettings: Settings = Settings.get_active();\nfunction getWWTLocation(): LocationRad {\n  return {\n    longitudeRad: wwtSettings.get_locationLng() * D2R,\n    latitudeRad: wwtSettings.get_locationLat() * D2R,\n  };\n}\n\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nconst blazeStarLocation: EquatorialRad = {\n  raRad: (15 + 59 / 60 + 30.1622 / 3600) * (12 / Math.PI),\n  decRad: (25 + 55 / 60 + 12.613 / 3600) * D2R,\n};\n// create selectedDate by default is today at 9pm localtime\nfunction todayAt9pm() {\n  // get's today's date and \n  // sets time time to 9pm local time\n  const today = new Date();\n  today.setHours(21, 0, 0, 0);\n  return today;\n}\n\nconst selectedDate = ref(todayAt9pm());\nconst showLocationSelector = ref(false);\n\nconst selectedLocation = ref<LocationDeg>({\n  longitudeDeg: -71.1056,\n  latitudeDeg: 42.3581,\n});\n\n\nfunction setWWTLocation(location: LocationDeg) {\n  wwtSettings.set_locationLat(location.latitudeDeg);\n  wwtSettings.set_locationLng(location.longitudeDeg);\n  console.log(\"Setting location to\", location);\n}\n\nonMounted(() => {\n  store.waitForReady().then(async () => {\n    skyBackgroundImagesets.forEach(iset => backgroundImagesets.push(iset));\n\n    store.setBackgroundImageByName(\"Tycho (Synthetic, Optical)\");\n\n    // If there are layers to set up, do that here!\n    layersLoaded.value = true;\n\n    store.setTime(selectedDate.value);\n    setWWTLocation(selectedLocation.value);\n\n    store.setClockSync(timePlaying.value);\n    store.setClockRate(clockRate);\n\n    store.applySetting([\"localHorizonMode\", true]);\n    store.applySetting([\"showAltAzGrid\", showAltAzGrid.value]);\n    store.applySetting([\"showAltAzGridText\", showAltAzGrid.value]);\n    store.applySetting([\"altAzGridColor\", Color.fromArgb(180, 133, 201, 254)]);\n    store.applySetting([\"showConstellationLabels\", showConstellations.value]);\n    store.applySetting([\"showConstellationFigures\", showConstellations.value]);\n    updateHorizonAndSky();\n\n    // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n    // @ts-ignore\n    Grids._makeAltAzGridText = makeAltAzGridText;\n\n    const textOverlays = makeTextOverlays();\n    useCustomGlyphs(textOverlays);\n\n    // We need to render one frame ahead of time\n    // as there's a lot of setup done on the first frame\n    // render that we need to use\n    WWTControl.singleton.renderOneFrame();\n\n    // Hack the engine to display our Annotation2 annotations\n    // which go in front of the planet layer\n    // as well as our custom text overlays\n    // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n    // @ts-ignore\n    WWTControl.singleton.renderOneFrame = renderOneFrame.bind(WWTControl.singleton);\n    setupConstellationFigures();\n\n    setInterval(() => {\n      if (timePlaying.value) {\n        updateHorizonAndSky(store.currentTime); \n        updateCrbBelowHorizon(store.currentTime);\n      }\n    }, 100);\n\n    // We want to make sure that the location change happens AFTER\n    // the camera reposition caused by local horizon mode.\n    // TODO: What is a better way to do this?\n    setTimeout(() => {\n      store.gotoRADecZoom({\n        ...props.initialCameraParams,\n        instant: true\n      }).then(() => positionSet.value = true);\n    }, 50);\n  });\n});\n\nconst ready = computed(() => layersLoaded.value && positionSet.value);\n\n/* `isLoading` is a bit redundant here, but it could potentially have independent logic */\nconst isLoading = computed(() => !ready.value);\n\nfunction getSunPosition(when: Date | null): EquatorialRad & HorizontalRad {\n  const location = getWWTLocation();\n  const sunAltAz = equatorialToHorizontal(sunPlace.get_RA() * 15 * D2R,\n    sunPlace.get_dec() * D2R,\n    location.latitudeRad,\n    location.longitudeRad,\n    when ?? store.currentTime);\n\n  return {\n    raRad: sunPlace.get_RA() * 15 * D2R,\n    decRad: sunPlace.get_dec() * D2R,\n    ...sunAltAz\n  };\n}\n\nfunction getCrbAlt(when: Date | null = null) {\n  const location = getWWTLocation();\n  const crbAltAz = equatorialToHorizontal(\n    crbPlace.get_RA() * 15 * D2R,\n    crbPlace.get_dec() * D2R,\n    location.latitudeRad,\n    location.longitudeRad,\n    when ?? store.currentTime);\n\n  return crbAltAz.altRad;\n}\n\n/* Properties related to device/screen characteristics */\n// TODO: This seems to be giving the wrong value? Investigate why\n// const smallSize = computed(() => smAndDown);\n\n/* This lets us inject component data into element CSS */\nconst cssVars = computed(() => {\n  return {\n    \"--accent-color\": accentColor.value,\n    \"--app-content-height\": showTextSheet.value ? \"66%\" : \"100%\",\n  };\n});\n\n\n/**\n  Computed flags that control whether the relevant dialogs display.\n  The `sheet` data member stores which sheet is open, so these are just\n  computed wrappers around modifying/querying that which can be used as\n  dialog v-model values\n*/\nconst showTextSheet = computed({\n  get() {\n    return sheet.value === \"text\";\n  },\n  set(_value: boolean) {\n    selectSheet(\"text\");\n  }\n});\n\nconst showVideoSheet = computed({\n  get() {\n    return sheet.value === \"video\";\n  },\n  set(value: boolean) {\n    selectSheet(\"video\");\n    if (!value) {\n      const video = document.querySelector(\"#info-video\") as HTMLVideoElement;\n      video.pause();\n    }\n  }\n});\n\n/**\n  This is convenient if there's any other logic that we want to run\n  when the splash screen is closed\n*/\nfunction closeSplashScreen() {\n  showSplashScreen.value = false;\n}\n\nfunction selectSheet(sheetType: SheetType | null) {\n  if (sheet.value === sheetType) {\n    sheet.value = null;\n    nextTick(() => {\n      blurActiveElement();\n    });\n  } else {\n    sheet.value = sheetType;\n  }\n}\n\nfunction removeSky() {\n  store.clearAnnotations();\n}\n\n\nfunction updateHorizonAndSky(when: Date | null = null) {\n  try {\n    removeHorizon();\n    removeSky();\n  } finally {\n    const location = getWWTLocation();\n    if (showHorizon.value) {\n      const time = when ?? store.currentTime;\n      createHorizon({ location, opacity: 0.95, when: time });\n      const sunPosition = getSunPosition(time);\n      const opacity = skyOpacityForSunAlt(sunPosition.altRad);\n      store.setForegroundOpacity((1 - opacity) * 100);\n      createSky({ location, when: time, opacity });\n    }\n  }\n}\n\nfunction updateCrbBelowHorizon(when: Date | null = null) {\n  const alt = getCrbAlt(when);\n  crbBelowHorizon.value = alt <= 0;\n}\n\nfunction skyOpacityForSunAlt(sunAltRad: number) {\n  const civilTwilight = -6 * D2R;\n  const astronomicalTwilight = 3 * civilTwilight;\n  \n  return (1 + Math.atan(Math.PI * sunAltRad / (-astronomicalTwilight))) / 2;\n}\n\n\n\nfunction logWWTState() {\n  const loc = getWWTLocation();\n  const locDeg = {\n    latitudeDeg: loc.latitudeRad * 180 / Math.PI,\n    longitudeDeg: loc.longitudeRad * 180 / Math.PI,\n  };\n  console.log(getWWTLocation());\n  console.table({\n    time: store.currentTime,\n    location: locDeg,\n    selectedLocation: selectedLocation.value,\n    showHorizon: showHorizon.value,\n    showAltAzGrid: showAltAzGrid.value,\n    showConstellations: showConstellations.value,\n    crbBelowHorizon: crbBelowHorizon.value,\n  });\n}\n\nwatch(showHorizon, (_show) => updateHorizonAndSky());\n\nwatch(showAltAzGrid, (show) => {\n  store.applySetting([\"showAltAzGrid\", show]);\n});\n\nwatch(showConstellations, (show) => {\n  store.applySetting([\"showConstellationLabels\", show]);\n  store.applySetting([\"showConstellationFigures\", show]);\n});\n\n\nwatch(selectedDate, (date) => {\n  // if we are playing this already getting updated\n  playbackControl.pause();\n  store.setTime(date);\n  updateHorizonAndSky(date);\n  updateCrbBelowHorizon(date);\n  WWTControl.singleton.renderOneFrame();\n});\n\nwatch(selectedLocation, (location: LocationDeg) => {\n  setWWTLocation(location);\n  updateHorizonAndSky();\n  updateCrbBelowHorizon();\n  WWTControl.singleton.renderOneFrame();\n});\n\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_WorldWideTelescope = _resolveComponent(\"WorldWideTelescope\")!\n  const _component_splash_screen = _resolveComponent(\"splash-screen\")!\n  const _component_icon_button = _resolveComponent(\"icon-button\")!\n  const _component_font_awesome_icon = _resolveComponent(\"font-awesome-icon\")!\n  const _component_location_selector = _resolveComponent(\"location-selector\")!\n  const _component_geolocation_button = _resolveComponent(\"geolocation-button\")!\n  const _component_v_card = _resolveComponent(\"v-card\")!\n  const _component_v_dialog = _resolveComponent(\"v-dialog\")!\n  const _component_v_chip = _resolveComponent(\"v-chip\")!\n  const _component_credit_logos = _resolveComponent(\"credit-logos\")!\n  const _component_v_checkbox = _resolveComponent(\"v-checkbox\")!\n  const _component_v_tab = _resolveComponent(\"v-tab\")!\n  const _component_v_tabs = _resolveComponent(\"v-tabs\")!\n  const _component_v_card_text = _resolveComponent(\"v-card-text\")!\n  const _component_v_window_item = _resolveComponent(\"v-window-item\")!\n  const _component_v_col = _resolveComponent(\"v-col\")!\n  const _component_v_row = _resolveComponent(\"v-row\")!\n  const _component_v_spacer = _resolveComponent(\"v-spacer\")!\n  const _component_funding_acknowledgement = _resolveComponent(\"funding-acknowledgement\")!\n  const _component_v_container = _resolveComponent(\"v-container\")!\n  const _component_v_window = _resolveComponent(\"v-window\")!\n  const _component_v_app = _resolveComponent(\"v-app\")!\n\n  return (_openBlock(), _createBlock(_component_v_app, {\n    id: \"app\",\n    style: _normalizeStyle(cssVars.value)\n  }, {\n    default: _withCtx(() => [\n      _createElementVNode(\"div\", _hoisted_1, [\n        _createVNode(_component_WorldWideTelescope, { \"wwt-namespace\": _ctx.wwtNamespace }, null, 8, [\"wwt-namespace\"]),\n        _createVNode(_component_splash_screen, {\n          modelValue: showSplashScreen.value,\n          \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((showSplashScreen).value = $event)),\n          onClose: closeSplashScreen,\n          \"css-vars\": cssVars.value\n        }, null, 8, [\"modelValue\", \"css-vars\"]),\n        _createVNode(_Transition, { name: \"fade\" }, {\n          default: _withCtx(() => [\n            _withDirectives(_createElementVNode(\"div\", _hoisted_2, _hoisted_4, 512), [\n              [_vShow, isLoading.value]\n            ])\n          ]),\n          _: 1\n        }),\n        _createElementVNode(\"div\", _hoisted_5, [\n          _createElementVNode(\"div\", _hoisted_6, [\n            _createVNode(_component_icon_button, {\n              modelValue: showTextSheet.value,\n              \"onUpdate:modelValue\": _cache[1] || (_cache[1] = ($event: any) => ((showTextSheet).value = $event)),\n              \"fa-icon\": \"book-open\",\n              color: buttonColor.value,\n              \"tooltip-text\": showTextSheet.value ? 'Hide Info' : 'Learn More',\n              \"tooltip-location\": \"start\"\n            }, null, 8, [\"modelValue\", \"color\", \"tooltip-text\"]),\n            _createVNode(_component_icon_button, {\n              modelValue: showVideoSheet.value,\n              \"onUpdate:modelValue\": _cache[2] || (_cache[2] = ($event: any) => ((showVideoSheet).value = $event)),\n              \"fa-icon\": \"video\",\n              color: buttonColor.value,\n              \"tooltip-text\": \"Watch video\",\n              \"tooltip-location\": \"start\"\n            }, null, 8, [\"modelValue\", \"color\"])\n          ]),\n          _createElementVNode(\"div\", _hoisted_7, [\n            _createVNode(_component_icon_button, {\n              modelValue: showLocationSelector.value,\n              \"onUpdate:modelValue\": _cache[3] || (_cache[3] = ($event: any) => ((showLocationSelector).value = $event)),\n              \"fa-icon\": \"location-dot\",\n              color: buttonColor.value,\n              \"tooltip-text\": \"Select Location\",\n              \"tooltip-location\": \"start\"\n            }, null, 8, [\"modelValue\", \"color\"]),\n            _createVNode(_component_v_dialog, {\n              modelValue: showLocationSelector.value,\n              \"onUpdate:modelValue\": _cache[8] || (_cache[8] = ($event: any) => ((showLocationSelector).value = $event)),\n              \"max-width\": \"fit-content\",\n              transition: \"slide-y-transition\",\n              id: \"eclipse-prediction-sheet\"\n            }, {\n              default: _withCtx(() => [\n                _createVNode(_component_v_card, null, {\n                  default: _withCtx(() => [\n                    _createVNode(_component_font_awesome_icon, {\n                      style: {\"position\":\"absolute\",\"right\":\"12px\",\"top\":\"12px\",\"cursor\":\"pointer\",\"padding\":\"1em\",\"margin\":\"-1em\",\"z-index\":\"1000\"},\n                      icon: \"square-xmark\",\n                      size: \"xl\",\n                      onClick: _cache[4] || (_cache[4] = ($event: any) => (showLocationSelector.value = false)),\n                      onKeyup: _cache[5] || (_cache[5] = _withKeys(($event: any) => (showLocationSelector.value = false), [\"enter\"])),\n                      tabindex: \"0\",\n                      color: \"black\"\n                    }),\n                    _createVNode(_component_location_selector, {\n                      modelValue: selectedLocation.value,\n                      \"onUpdate:modelValue\": _cache[6] || (_cache[6] = ($event: any) => ((selectedLocation).value = $event))\n                    }, null, 8, [\"modelValue\"]),\n                    _createVNode(_component_geolocation_button, {\n                      debug: false,\n                      size: \"30px\",\n                      density: \"default\",\n                      elevation: \"5\",\n                      color: \"black\",\n                      onLocation: _cache[7] || (_cache[7] = ($event: any) => (selectedLocation.value = {longitudeDeg: $event.longitude, latitudeDeg: $event.latitude}))\n                    })\n                  ]),\n                  _: 1\n                })\n              ]),\n              _: 1\n            }, 8, [\"modelValue\"])\n          ]),\n          _createElementVNode(\"div\", _hoisted_8, [\n            (crbBelowHorizon.value)\n              ? (_openBlock(), _createBlock(_component_v_chip, { key: 0 }, {\n                  default: _withCtx(() => [\n                    _createTextVNode(\" Corona Borealis is Set \")\n                  ]),\n                  _: 1\n                }))\n              : _createCommentVNode(\"\", true),\n            _createElementVNode(\"button\", {\n              class: \"icon-wrapper jl_icon-button jl_debug\",\n              onClick: _cache[9] || (_cache[9] = () => updateHorizonAndSky())\n            }, \"Update Horizon and Sky\"),\n            _createElementVNode(\"button\", {\n              class: \"icon-wrapper jl_icon-button jl_debug\",\n              onClick: _cache[10] || (_cache[10] = () => updateCrbBelowHorizon())\n            }, \"Update CRB Below Horizon\"),\n            _createElementVNode(\"button\", {\n              class: \"icon-wrapper jl_icon-button jl_debug\",\n              onClick: _cache[11] || (_cache[11] = () => logWWTState())\n            }, \"Log WWT State\"),\n            _createElementVNode(\"button\", {\n              class: \"icon-wrapper jl_icon-button jl_debug\",\n              onClick: _cache[12] || (_cache[12] = () => _unref(WWTControl).singleton.renderOneFrame())\n            }, \"Render one frame\")\n          ])\n        ]),\n        _hoisted_9,\n        _createElementVNode(\"div\", _hoisted_10, [\n          _createElementVNode(\"span\", _hoisted_11, \"selected: \" + _toDisplayString(selectedDate.value), 1),\n          _createElementVNode(\"span\", _hoisted_12, \"wwt: \" + _toDisplayString(_unref(store).currentTime), 1),\n          _createElementVNode(\"span\", _hoisted_13, _toDisplayString(selectedLocation.value), 1),\n          _createVNode(_component_icon_button, {\n            \"fa-icon\": _unref(timePlaying) ? 'pause' : 'play',\n            color: buttonColor.value,\n            \"tooltip-text\": \"Play\",\n            \"tooltip-location\": \"start\",\n            onActivate: _cache[13] || (_cache[13] = ()=>{_unref(playbackControl).togglePlay()})\n          }, null, 8, [\"fa-icon\", \"color\"]),\n          _createElementVNode(\"button\", {\n            class: \"icon-wrapper jl_icon-button jl_debug\",\n            onClick: _cache[14] || (_cache[14] = ($event: any) => (selectedDate.value = new Date())),\n            style: _normalizeStyle({color: buttonColor.value})\n          }, [\n            _createVNode(_component_font_awesome_icon, { icon: \"clock\" }),\n            _createTextVNode(\"Set time to Now\")\n          ], 4),\n          _createElementVNode(\"button\", {\n            class: \"icon-wrapper jl_icon-button jl_debug\",\n            onClick: _cache[15] || (_cache[15] = ($event: any) => (selectedDate.value = todayAt9pm())),\n            style: _normalizeStyle({color: buttonColor.value})\n          }, [\n            _createVNode(_component_font_awesome_icon, { icon: \"clock\" }),\n            _createTextVNode(\"Set time to 9pm\")\n          ], 4)\n        ]),\n        _createElementVNode(\"div\", _hoisted_14, [\n          _createVNode(_unref(VueDatePicker), {\n            modelValue: selectedDate.value,\n            \"onUpdate:modelValue\": _cache[16] || (_cache[16] = ($event: any) => ((selectedDate).value = $event)),\n            dark: \"\"\n          }, null, 8, [\"modelValue\"])\n        ]),\n        _createElementVNode(\"div\", _hoisted_15, [\n          _createVNode(_component_credit_logos, { \"logo-size\": \"25px\" }),\n          _createElementVNode(\"div\", _hoisted_16, [\n            _createElementVNode(\"div\", _hoisted_17, [\n              _createVNode(_component_font_awesome_icon, {\n                size: \"lg\",\n                color: accentColor.value,\n                icon: showControls.value ? `chevron-down` : `gear`,\n                onClick: _cache[17] || (_cache[17] = ($event: any) => (showControls.value = !showControls.value)),\n                onKeyup: _cache[18] || (_cache[18] = _withKeys(($event: any) => (showControls.value = !showControls.value), [\"enter\"])),\n                tabindex: \"0\"\n              }, null, 8, [\"color\", \"icon\"])\n            ]),\n            (showControls.value)\n              ? (_openBlock(), _createElementBlock(\"div\", _hoisted_18, [\n                  _createVNode(_component_v_checkbox, {\n                    color: accentColor.value,\n                    modelValue: showAltAzGrid.value,\n                    \"onUpdate:modelValue\": _cache[19] || (_cache[19] = ($event: any) => ((showAltAzGrid).value = $event)),\n                    onKeyup: _cache[20] || (_cache[20] = _withKeys(($event: any) => (showAltAzGrid.value = !showAltAzGrid.value), [\"enter\"])),\n                    label: \"Sky Grid\",\n                    \"hide-details\": \"\"\n                  }, null, 8, [\"color\", \"modelValue\"]),\n                  _createVNode(_component_v_checkbox, {\n                    color: accentColor.value,\n                    modelValue: showHorizon.value,\n                    \"onUpdate:modelValue\": _cache[21] || (_cache[21] = ($event: any) => ((showHorizon).value = $event)),\n                    onKeyup: _cache[22] || (_cache[22] = _withKeys(($event: any) => (showHorizon.value = !showHorizon.value), [\"enter\"])),\n                    label: \"Horizon\",\n                    \"hide-details\": \"\"\n                  }, null, 8, [\"color\", \"modelValue\"]),\n                  _createVNode(_component_v_checkbox, {\n                    color: accentColor.value,\n                    modelValue: showConstellations.value,\n                    \"onUpdate:modelValue\": _cache[23] || (_cache[23] = ($event: any) => ((showConstellations).value = $event)),\n                    onKeyup: _cache[24] || (_cache[24] = _withKeys(($event: any) => (showConstellations.value = !showConstellations.value), [\"enter\"])),\n                    label: \"Constellations\",\n                    \"hide-details\": \"\"\n                  }, null, 8, [\"color\", \"modelValue\"])\n                ]))\n              : _createCommentVNode(\"\", true)\n          ])\n        ]),\n        _createVNode(_component_v_dialog, {\n          id: \"video-container\",\n          modelValue: showVideoSheet.value,\n          \"onUpdate:modelValue\": _cache[27] || (_cache[27] = ($event: any) => ((showVideoSheet).value = $event)),\n          transition: \"slide-y-transition\",\n          fullscreen: \"\"\n        }, {\n          default: _withCtx(() => [\n            _createElementVNode(\"div\", _hoisted_19, [\n              _createVNode(_component_font_awesome_icon, {\n                id: \"video-close-icon\",\n                class: \"close-icon\",\n                icon: \"times\",\n                size: \"lg\",\n                onClick: _cache[25] || (_cache[25] = ($event: any) => (showVideoSheet.value = false)),\n                onKeyup: _cache[26] || (_cache[26] = _withKeys(($event: any) => (showVideoSheet.value = false), [\"enter\"])),\n                tabindex: \"0\"\n              }),\n              _hoisted_20\n            ])\n          ]),\n          _: 1\n        }, 8, [\"modelValue\"]),\n        _createVNode(_component_v_dialog, {\n          style: _normalizeStyle(cssVars.value),\n          class: \"bottom-sheet\",\n          id: \"text-bottom-sheet\",\n          \"hide-overlay\": \"\",\n          persistent: \"\",\n          \"no-click-animation\": \"\",\n          absolute: \"\",\n          width: \"100%\",\n          scrim: false,\n          location: \"bottom\",\n          modelValue: showTextSheet.value,\n          \"onUpdate:modelValue\": _cache[32] || (_cache[32] = ($event: any) => ((showTextSheet).value = $event)),\n          transition: \"dialog-bottom-transition\"\n        }, {\n          default: _withCtx(() => [\n            _createVNode(_component_v_card, { height: \"100%\" }, {\n              default: _withCtx(() => [\n                _createVNode(_component_v_tabs, {\n                  modelValue: tab.value,\n                  \"onUpdate:modelValue\": _cache[28] || (_cache[28] = ($event: any) => ((tab).value = $event)),\n                  height: \"32px\",\n                  color: accentColor.value,\n                  \"slider-color\": accentColor.value,\n                  id: \"tabs\",\n                  dense: \"\"\n                }, {\n                  default: _withCtx(() => [\n                    _createVNode(_component_v_tab, {\n                      class: \"info-tabs\",\n                      tabindex: \"0\"\n                    }, {\n                      default: _withCtx(() => [\n                        _hoisted_21\n                      ]),\n                      _: 1\n                    }),\n                    _createVNode(_component_v_tab, {\n                      class: \"info-tabs\",\n                      tabindex: \"0\"\n                    }, {\n                      default: _withCtx(() => [\n                        _hoisted_22\n                      ]),\n                      _: 1\n                    })\n                  ]),\n                  _: 1\n                }, 8, [\"modelValue\", \"color\", \"slider-color\"]),\n                _createVNode(_component_font_awesome_icon, {\n                  id: \"close-text-icon\",\n                  class: \"control-icon\",\n                  icon: \"times\",\n                  size: \"lg\",\n                  onClick: _cache[29] || (_cache[29] = ($event: any) => (showTextSheet.value = false)),\n                  onKeyup: _cache[30] || (_cache[30] = _withKeys(($event: any) => (showTextSheet.value = false), [\"enter\"])),\n                  tabindex: \"0\"\n                }),\n                _createVNode(_component_v_window, {\n                  modelValue: tab.value,\n                  \"onUpdate:modelValue\": _cache[31] || (_cache[31] = ($event: any) => ((tab).value = $event)),\n                  id: \"tab-items\",\n                  class: \"pb-2 no-bottom-border-radius\"\n                }, {\n                  default: _withCtx(() => [\n                    _createVNode(_component_v_window_item, null, {\n                      default: _withCtx(() => [\n                        _createVNode(_component_v_card, { class: \"no-bottom-border-radius scrollable\" }, {\n                          default: _withCtx(() => [\n                            _createVNode(_component_v_card_text, { class: \"info-text no-bottom-border-radius\" }, {\n                              default: _withCtx(() => [\n                                _createTextVNode(\" Information goes here \")\n                              ]),\n                              _: 1\n                            })\n                          ]),\n                          _: 1\n                        })\n                      ]),\n                      _: 1\n                    }),\n                    _createVNode(_component_v_window_item, null, {\n                      default: _withCtx(() => [\n                        _createVNode(_component_v_card, { class: \"no-bottom-border-radius scrollable\" }, {\n                          default: _withCtx(() => [\n                            _createVNode(_component_v_card_text, { class: \"info-text no-bottom-border-radius\" }, {\n                              default: _withCtx(() => [\n                                _createVNode(_component_v_container, null, {\n                                  default: _withCtx(() => [\n                                    _createVNode(_component_v_row, { align: \"center\" }, {\n                                      default: _withCtx(() => [\n                                        _createVNode(_component_v_col, { cols: \"4\" }, {\n                                          default: _withCtx(() => [\n                                            _createVNode(_component_v_chip, {\n                                              label: \"\",\n                                              outlined: \"\"\n                                            }, {\n                                              default: _withCtx(() => [\n                                                _createTextVNode(\" Pan \")\n                                              ]),\n                                              _: 1\n                                            })\n                                          ]),\n                                          _: 1\n                                        }),\n                                        _createVNode(_component_v_col, {\n                                          cols: \"8\",\n                                          class: \"pt-1\"\n                                        }, {\n                                          default: _withCtx(() => [\n                                            _createElementVNode(\"strong\", null, _toDisplayString(_unref(touchscreen) ? \"press + drag\" : \"click + drag\"), 1),\n                                            _createTextVNode(\" \" + _toDisplayString(_unref(touchscreen) ? \":\" : \"or\") + \" \", 1),\n                                            _createElementVNode(\"strong\", null, _toDisplayString(_unref(touchscreen) ? \":\" : \"W-A-S-D\"), 1),\n                                            _createTextVNode(\" \" + _toDisplayString(_unref(touchscreen) ? \":\" : \"keys\"), 1),\n                                            _hoisted_23\n                                          ]),\n                                          _: 1\n                                        })\n                                      ]),\n                                      _: 1\n                                    }),\n                                    _createVNode(_component_v_row, { align: \"center\" }, {\n                                      default: _withCtx(() => [\n                                        _createVNode(_component_v_col, { cols: \"4\" }, {\n                                          default: _withCtx(() => [\n                                            _createVNode(_component_v_chip, {\n                                              label: \"\",\n                                              outlined: \"\"\n                                            }, {\n                                              default: _withCtx(() => [\n                                                _createTextVNode(\" Zoom \")\n                                              ]),\n                                              _: 1\n                                            })\n                                          ]),\n                                          _: 1\n                                        }),\n                                        _createVNode(_component_v_col, {\n                                          cols: \"8\",\n                                          class: \"pt-1\"\n                                        }, {\n                                          default: _withCtx(() => [\n                                            _createElementVNode(\"strong\", null, _toDisplayString(_unref(touchscreen) ? \"pinch in and out\" : \"scroll in and out\"), 1),\n                                            _createTextVNode(\" \" + _toDisplayString(_unref(touchscreen) ? \":\"\n                          : \"or\") + \" \", 1),\n                                            _createElementVNode(\"strong\", null, _toDisplayString(_unref(touchscreen) ? \":\" : \"I-O\"), 1),\n                                            _createTextVNode(\" \" + _toDisplayString(_unref(touchscreen) ? \":\" : \"keys\"), 1),\n                                            _hoisted_24\n                                          ]),\n                                          _: 1\n                                        })\n                                      ]),\n                                      _: 1\n                                    }),\n                                    _createVNode(_component_v_row, null, {\n                                      default: _withCtx(() => [\n                                        _createVNode(_component_v_col, { cols: \"12\" }, {\n                                          default: _withCtx(() => [\n                                            _hoisted_25,\n                                            _createVNode(_component_v_spacer, { class: \"end-spacer\" })\n                                          ]),\n                                          _: 1\n                                        })\n                                      ]),\n                                      _: 1\n                                    }),\n                                    _createVNode(_component_v_row, null, {\n                                      default: _withCtx(() => [\n                                        _createVNode(_component_v_col, null, {\n                                          default: _withCtx(() => [\n                                            _createVNode(_component_funding_acknowledgement)\n                                          ]),\n                                          _: 1\n                                        })\n                                      ]),\n                                      _: 1\n                                    })\n                                  ]),\n                                  _: 1\n                                })\n                              ]),\n                              _: 1\n                            })\n                          ]),\n                          _: 1\n                        })\n                      ]),\n                      _: 1\n                    })\n                  ]),\n                  _: 1\n                }, 8, [\"modelValue\"])\n              ]),\n              _: 1\n            })\n          ]),\n          _: 1\n        }, 8, [\"style\", \"modelValue\"])\n      ])\n    ]),\n    _: 1\n  }, 8, [\"style\"]))\n}\n}\n\n})","<template>\n  <v-app id=\"app\" :style=\"cssVars\">\n    <div id=\"main-content\">\n      <WorldWideTelescope :wwt-namespace=\"wwtNamespace\"></WorldWideTelescope>\n\n\n      <!-- This contains the splash screen content -->\n      <splash-screen\n        v-model=\"showSplashScreen\"\n        @close=\"closeSplashScreen\"\n        :css-vars=\"cssVars\"\n      />\n\n      <transition name=\"fade\">\n        <div class=\"modal\" id=\"modal-loading\" v-show=\"isLoading\">\n          <div class=\"container\">\n            <div class=\"spinner\"></div>\n            <p>Loading </p>\n          </div>\n        </div>\n      </transition>\n\n\n      <!-- This block contains the elements (e.g. icon buttons displayed at/near the top of the screen -->\n\n      <div id=\"top-content\">\n        <div id=\"left-buttons\">\n          <icon-button v-model=\"showTextSheet\" fa-icon=\"book-open\" :color=\"buttonColor\"\n            :tooltip-text=\"showTextSheet ? 'Hide Info' : 'Learn More'\" tooltip-location=\"start\">\n          </icon-button>\n          <icon-button v-model=\"showVideoSheet\" fa-icon=\"video\" :color=\"buttonColor\" tooltip-text=\"Watch video\"\n            tooltip-location=\"start\">\n          </icon-button>\n        </div>\n        <div id=\"center-buttons\">\n          <icon-button\n            v-model=\"showLocationSelector\"\n            fa-icon=\"location-dot\"\n            :color=\"buttonColor\"\n            tooltip-text=\"Select Location\"\n            tooltip-location=\"start\"\n            ></icon-button>\n\n              <v-dialog\n                v-model=\"showLocationSelector\"\n                max-width=\"fit-content\"\n                transition=\"slide-y-transition\"\n                id=\"eclipse-prediction-sheet\"\n              >\n                <v-card>\n                    <font-awesome-icon\n                      style=\"position: absolute; right: 12px; top: 12px; cursor: pointer; padding: 1em; margin: -1em; z-index: 1000;\"\n                      icon=\"square-xmark\"\n                      size=\"xl\"\n                      @click=\"showLocationSelector = false\"\n                      @keyup.enter=\"showLocationSelector = false\"\n                      tabindex=\"0\"\n                      color=\"black\"\n                    ></font-awesome-icon>\n                    <location-selector\n                      v-model=\"selectedLocation\"\n                      />\n                    <geolocation-button\n                      :debug=\"false\"\n                      size=\"30px\"\n                      density=\"default\"\n                      elevation=\"5\"\n                      color=\"black\"\n                      @location=\"selectedLocation = {longitudeDeg: $event.longitude, latitudeDeg: $event.latitude}\"\n                    />\n                </v-card>\n              </v-dialog>\n                \n\n              \n        </div>\n        <div id=\"right-buttons\">\n          <v-chip\n            v-if=\"crbBelowHorizon\"\n          >\n            Corona Borealis is Set\n          </v-chip>\n          <button \n            class=\"icon-wrapper jl_icon-button jl_debug\" \n            @click=\"() => updateHorizonAndSky()\"\n            >Update Horizon and Sky</button>\n          <button\n            class=\"icon-wrapper jl_icon-button jl_debug\"\n            @click=\"() => updateCrbBelowHorizon()\"\n            >Update CRB Below Horizon</button>\n          <button\n            class=\"icon-wrapper jl_icon-button jl_debug\"\n            @click=\"() => logWWTState()\"\n            >Log WWT State</button>\n          <button\n            class=\"icon-wrapper jl_icon-button jl_debug\"\n            @click=\"() => WWTControl.singleton.renderOneFrame()\"\n            >Render one frame</button>\n        </div>\n      </div>\n\n      <!-- Date Picker -->\n       <div id=\"empty-space\">\n       </div>\n       <div id=\"playback-controls\">\n        <span class=\"jl_debug\">selected: {{ selectedDate }}</span>\n        <span  class=\"jl_debug\">wwt: {{ store.currentTime }}</span>\n        <span class=\"jl_debug\">{{ selectedLocation }}</span>\n          <icon-button \n            :fa-icon=\"timePlaying ? 'pause' : 'play'\"\n            :color=\"buttonColor\" \n            tooltip-text=\"Play\"\n            tooltip-location=\"start\" \n            @activate=\"()=>{playbackControl.togglePlay()}\" \n            />\n          \n          <!-- reset time to now button -->\n           <button \n            class=\"icon-wrapper jl_icon-button jl_debug\"\n            @click=\"selectedDate = new Date()\"\n            :style=\"{color: buttonColor}\"\n            ><font-awesome-icon icon=\"clock\"/>&nbsp;Set time to Now</button>\n            <!-- reset to 9pm button -->\n            <button\n            class=\"icon-wrapper jl_icon-button jl_debug\"\n            @click=\"selectedDate = todayAt9pm()\"\n            :style=\"{color: buttonColor}\"\n            ><font-awesome-icon icon=\"clock\"/>&nbsp;Set time to 9pm</button>\n       </div>\n       \n       \n       \n       <div id=\"date-picker\">\n        <VueDatePicker \n          v-model=\"selectedDate\"\n          dark\n        />\n       </div>\n      \n      <!-- This block contains the elements (e.g. the project icons) displayed along the bottom of the screen -->\n      \n      <div id=\"bottom-content\">\n        <credit-logos logo-size=\"25px\"/>\n        <div id=\"controls\" class=\"control-icon-wrapper\">\n          <div id=\"controls-top-row\">\n            <font-awesome-icon size=\"lg\" :color=\"accentColor\" :icon=\"showControls ? `chevron-down` : `gear`\"\n              @click=\"showControls = !showControls\" @keyup.enter=\"showControls = !showControls\" tabindex=\"0\" />\n          </div>\n          \n          <div v-if=\"showControls\" id=\"control-checkboxes\">\n            <v-checkbox :color=\"accentColor\" v-model=\"showAltAzGrid\" @keyup.enter=\"showAltAzGrid = !showAltAzGrid\"\n              label=\"Sky Grid\" hide-details />\n            <v-checkbox :color=\"accentColor\" v-model=\"showHorizon\" @keyup.enter=\"showHorizon = !showHorizon\"\n              label=\"Horizon\" hide-details />\n            <v-checkbox :color=\"accentColor\" v-model=\"showConstellations\" @keyup.enter=\"showConstellations = !showConstellations\"\n              label=\"Constellations\" hide-details />\n          </div>\n        </div>\n      </div>\n    \n\n      <!-- This dialog contains the video that is displayed when the video icon is clicked -->\n\n      <v-dialog id=\"video-container\" v-model=\"showVideoSheet\" transition=\"slide-y-transition\" fullscreen>\n        <div class=\"video-wrapper\">\n          <font-awesome-icon id=\"video-close-icon\" class=\"close-icon\" icon=\"times\" size=\"lg\"\n            @click=\"showVideoSheet = false\" @keyup.enter=\"showVideoSheet = false\" tabindex=\"0\"></font-awesome-icon>\n          <video controls id=\"info-video\">\n            <source src=\"\" type=\"video/mp4\">\n          </video>\n        </div>\n      </v-dialog>\n\n\n\n\n      <!-- This dialog contains the informational content that is displayed when the book icon is clicked -->\n\n      <v-dialog :style=\"cssVars\" class=\"bottom-sheet\" id=\"text-bottom-sheet\" hide-overlay persistent no-click-animation\n        absolute width=\"100%\" :scrim=\"false\" location=\"bottom\" v-model=\"showTextSheet\"\n        transition=\"dialog-bottom-transition\">\n        <v-card height=\"100%\">\n          <v-tabs v-model=\"tab\" height=\"32px\" :color=\"accentColor\" :slider-color=\"accentColor\" id=\"tabs\" dense>\n            <v-tab class=\"info-tabs\" tabindex=\"0\">\n              <h3>Information</h3>\n            </v-tab>\n            <v-tab class=\"info-tabs\" tabindex=\"0\">\n              <h3>Using WWT</h3>\n            </v-tab>\n          </v-tabs>\n          <font-awesome-icon id=\"close-text-icon\" class=\"control-icon\" icon=\"times\" size=\"lg\"\n            @click=\"showTextSheet = false\" @keyup.enter=\"showTextSheet = false\" tabindex=\"0\"></font-awesome-icon>\n          <v-window v-model=\"tab\" id=\"tab-items\" class=\"pb-2 no-bottom-border-radius\">\n            <v-window-item>\n              <v-card class=\"no-bottom-border-radius scrollable\">\n                <v-card-text class=\"info-text no-bottom-border-radius\">\n                  Information goes here\n                </v-card-text>\n              </v-card>\n            </v-window-item>\n            <v-window-item>\n              <v-card class=\"no-bottom-border-radius scrollable\">\n                <v-card-text class=\"info-text no-bottom-border-radius\">\n                  <v-container>\n                    <v-row align=\"center\">\n                      <v-col cols=\"4\">\n                        <v-chip label outlined>\n                          Pan\n                        </v-chip>\n                      </v-col>\n                      <v-col cols=\"8\" class=\"pt-1\">\n                        <strong>{{ touchscreen ? \"press + drag\" : \"click + drag\" }}</strong> {{ touchscreen ? \":\" : \"or\"\n                        }} <strong>{{ touchscreen ? \":\" : \"W-A-S-D\" }}</strong> {{ touchscreen ? \":\" : \"keys\" }}<br>\n                      </v-col>\n                    </v-row>\n                    <v-row align=\"center\">\n                      <v-col cols=\"4\">\n                        <v-chip label outlined>\n                          Zoom\n                        </v-chip>\n                      </v-col>\n                      <v-col cols=\"8\" class=\"pt-1\">\n                        <strong>{{ touchscreen ? \"pinch in and out\" : \"scroll in and out\" }}</strong> {{ touchscreen ? \":\"\n                          : \"or\" }} <strong>{{ touchscreen ? \":\" : \"I-O\" }}</strong> {{ touchscreen ? \":\" : \"keys\" }}<br>\n                      </v-col>\n                    </v-row>\n                    <v-row>\n                      <v-col cols=\"12\">\n                        <div class=\"credits\">\n                          <h3>Credits:</h3>\n                          <h4><a href=\"https://www.cosmicds.cfa.harvard.edu/\" target=\"_blank\"\n                              rel=\"noopener noreferrer\">CosmicDS</a> Vue Data Stories Team:</h4>\n                          John Lewis<br>\n                          Jon Carifio<br>\n                          Pat Udomprasert<br>\n                          Alyssa Goodman<br>\n                          Mary Dussault<br>\n                          Harry Houghton<br>\n                          Anna Nolin<br>\n                          Evaluator: Sue Sunbury<br>\n                          <br>\n                          <h4>WorldWide Telescope Team:</h4>\n                          Peter Williams<br>\n                          A. David Weigel<br>\n                          Jon Carifio<br>\n                        </div>\n                        <v-spacer class=\"end-spacer\"></v-spacer>\n                      </v-col>\n                    </v-row>\n                    <v-row>\n                      <v-col>\n                        <funding-acknowledgement />\n                      </v-col>\n                    </v-row>\n                  </v-container>\n                </v-card-text>\n              </v-card>\n            </v-window-item>\n          </v-window>\n        </v-card>\n      </v-dialog>\n\n    </div>\n  </v-app>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref, reactive, computed, onMounted, nextTick, watch } from \"vue\";\nimport { Color, Grids, Place, Settings, WWTControl } from \"@wwtelescope/engine\";\nimport { Classification, SolarSystemObjects } from \"@wwtelescope/engine-types\";\nimport { GotoRADecZoomParams, engineStore } from \"@wwtelescope/engine-pinia\";\nimport { BackgroundImageset, skyBackgroundImagesets, supportsTouchscreen, blurActiveElement, useWWTKeyboardControls, D2R, LocationDeg } from \"@cosmicds/vue-toolkit\";\n\nimport { createHorizon, createSky, removeHorizon, equatorialToHorizontal } from \"./annotations\";\nimport { EquatorialRad, HorizontalRad, LocationRad } from \"./types\";\nimport { makeAltAzGridText, setupConstellationFigures, useCustomGlyphs, renderOneFrame } from \"./wwt-hacks\";\nimport { makeTextOverlays } from \"./text\";\n\nimport { usePlaybackControl } from \"./wwt_playback_control\";\nimport VueDatePicker from '@vuepic/vue-datepicker';\n\ntype SheetType = \"text\" | \"video\";\ntype CameraParams = Omit<GotoRADecZoomParams, \"instant\">;\nexport interface MainComponentProps {\n  wwtNamespace?: string;\n  initialCameraParams?: CameraParams;\n}\n\nconst store = engineStore();\n\nuseWWTKeyboardControls(store);\n\nconst playbackControl = usePlaybackControl(store, true);\n// initialize playback. \nplaybackControl.setSpeed(1000);\nplaybackControl.pause();\n// destructure playbackControl\nconst { timePlaying } = playbackControl;\n\nconst touchscreen = supportsTouchscreen();\n// const { smAndDown } = useDisplay();\n\nconst props = withDefaults(defineProps<MainComponentProps>(), {\n  wwtNamespace: \"MainComponent\",\n  initialCameraParams: () => {\n    return {\n      raRad: 4.001238944138198,\n      decRad: 0.5307600894728279,\n      zoomDeg: 180\n    };\n  }\n});\n\nconst splash = new URLSearchParams(window.location.search).get(\"splash\")?.toLowerCase() !== \"false\";\nconst showSplashScreen = ref(splash);\nconst backgroundImagesets = reactive<BackgroundImageset[]>([]);\nconst sheet = ref<SheetType | null>(null);\nconst layersLoaded = ref(false);\nconst positionSet = ref(false);\nconst accentColor = ref(\"#f7bb48\");\nconst buttonColor = ref(\"#f7bb48\");\nconst tab = ref(0);\nconst showHorizon = ref(true);\nconst showAltAzGrid = ref(true);\nconst showControls = ref(false);\nconst showConstellations = ref(true);\nconst crbBelowHorizon = ref(true);\n\n// For now, we're not allowing a user to change this\nconst clockRate = 1000;\n\nconst sunPlace = new Place();\nsunPlace.set_names([\"Sun\"]);\nsunPlace.set_classification(Classification.solarSystem);\nsunPlace.set_target(SolarSystemObjects.sun);\nsunPlace.set_zoomLevel(20);\n\nconst crbPlace = new Place();\ncrbPlace.set_RA(15 + 59 / 60 + 30.1622 / 3600);\ncrbPlace.set_dec(25 + 55 / 60 + 12.613 / 3600);\n\n// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-ignore\nconst wwtSettings: Settings = Settings.get_active();\nfunction getWWTLocation(): LocationRad {\n  return {\n    longitudeRad: wwtSettings.get_locationLng() * D2R,\n    latitudeRad: wwtSettings.get_locationLat() * D2R,\n  };\n}\n\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nconst blazeStarLocation: EquatorialRad = {\n  raRad: (15 + 59 / 60 + 30.1622 / 3600) * (12 / Math.PI),\n  decRad: (25 + 55 / 60 + 12.613 / 3600) * D2R,\n};\n// create selectedDate by default is today at 9pm localtime\nfunction todayAt9pm() {\n  // get's today's date and \n  // sets time time to 9pm local time\n  const today = new Date();\n  today.setHours(21, 0, 0, 0);\n  return today;\n}\n\nconst selectedDate = ref(todayAt9pm());\nconst showLocationSelector = ref(false);\n\nconst selectedLocation = ref<LocationDeg>({\n  longitudeDeg: -71.1056,\n  latitudeDeg: 42.3581,\n});\n\n\nfunction setWWTLocation(location: LocationDeg) {\n  wwtSettings.set_locationLat(location.latitudeDeg);\n  wwtSettings.set_locationLng(location.longitudeDeg);\n  console.log(\"Setting location to\", location);\n}\n\nonMounted(() => {\n  store.waitForReady().then(async () => {\n    skyBackgroundImagesets.forEach(iset => backgroundImagesets.push(iset));\n\n    store.setBackgroundImageByName(\"Tycho (Synthetic, Optical)\");\n\n    // If there are layers to set up, do that here!\n    layersLoaded.value = true;\n\n    store.setTime(selectedDate.value);\n    setWWTLocation(selectedLocation.value);\n\n    store.setClockSync(timePlaying.value);\n    store.setClockRate(clockRate);\n\n    store.applySetting([\"localHorizonMode\", true]);\n    store.applySetting([\"showAltAzGrid\", showAltAzGrid.value]);\n    store.applySetting([\"showAltAzGridText\", showAltAzGrid.value]);\n    store.applySetting([\"altAzGridColor\", Color.fromArgb(180, 133, 201, 254)]);\n    store.applySetting([\"showConstellationLabels\", showConstellations.value]);\n    store.applySetting([\"showConstellationFigures\", showConstellations.value]);\n    updateHorizonAndSky();\n\n    // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n    // @ts-ignore\n    Grids._makeAltAzGridText = makeAltAzGridText;\n\n    const textOverlays = makeTextOverlays();\n    useCustomGlyphs(textOverlays);\n\n    // We need to render one frame ahead of time\n    // as there's a lot of setup done on the first frame\n    // render that we need to use\n    WWTControl.singleton.renderOneFrame();\n\n    // Hack the engine to display our Annotation2 annotations\n    // which go in front of the planet layer\n    // as well as our custom text overlays\n    // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n    // @ts-ignore\n    WWTControl.singleton.renderOneFrame = renderOneFrame.bind(WWTControl.singleton);\n    setupConstellationFigures();\n\n    setInterval(() => {\n      if (timePlaying.value) {\n        updateHorizonAndSky(store.currentTime); \n        updateCrbBelowHorizon(store.currentTime);\n      }\n    }, 100);\n\n    // We want to make sure that the location change happens AFTER\n    // the camera reposition caused by local horizon mode.\n    // TODO: What is a better way to do this?\n    setTimeout(() => {\n      store.gotoRADecZoom({\n        ...props.initialCameraParams,\n        instant: true\n      }).then(() => positionSet.value = true);\n    }, 50);\n  });\n});\n\nconst ready = computed(() => layersLoaded.value && positionSet.value);\n\n/* `isLoading` is a bit redundant here, but it could potentially have independent logic */\nconst isLoading = computed(() => !ready.value);\n\nfunction getSunPosition(when: Date | null): EquatorialRad & HorizontalRad {\n  const location = getWWTLocation();\n  const sunAltAz = equatorialToHorizontal(sunPlace.get_RA() * 15 * D2R,\n    sunPlace.get_dec() * D2R,\n    location.latitudeRad,\n    location.longitudeRad,\n    when ?? store.currentTime);\n\n  return {\n    raRad: sunPlace.get_RA() * 15 * D2R,\n    decRad: sunPlace.get_dec() * D2R,\n    ...sunAltAz\n  };\n}\n\nfunction getCrbAlt(when: Date | null = null) {\n  const location = getWWTLocation();\n  const crbAltAz = equatorialToHorizontal(\n    crbPlace.get_RA() * 15 * D2R,\n    crbPlace.get_dec() * D2R,\n    location.latitudeRad,\n    location.longitudeRad,\n    when ?? store.currentTime);\n\n  return crbAltAz.altRad;\n}\n\n/* Properties related to device/screen characteristics */\n// TODO: This seems to be giving the wrong value? Investigate why\n// const smallSize = computed(() => smAndDown);\n\n/* This lets us inject component data into element CSS */\nconst cssVars = computed(() => {\n  return {\n    \"--accent-color\": accentColor.value,\n    \"--app-content-height\": showTextSheet.value ? \"66%\" : \"100%\",\n  };\n});\n\n\n/**\n  Computed flags that control whether the relevant dialogs display.\n  The `sheet` data member stores which sheet is open, so these are just\n  computed wrappers around modifying/querying that which can be used as\n  dialog v-model values\n*/\nconst showTextSheet = computed({\n  get() {\n    return sheet.value === \"text\";\n  },\n  set(_value: boolean) {\n    selectSheet(\"text\");\n  }\n});\n\nconst showVideoSheet = computed({\n  get() {\n    return sheet.value === \"video\";\n  },\n  set(value: boolean) {\n    selectSheet(\"video\");\n    if (!value) {\n      const video = document.querySelector(\"#info-video\") as HTMLVideoElement;\n      video.pause();\n    }\n  }\n});\n\n/**\n  This is convenient if there's any other logic that we want to run\n  when the splash screen is closed\n*/\nfunction closeSplashScreen() {\n  showSplashScreen.value = false;\n}\n\nfunction selectSheet(sheetType: SheetType | null) {\n  if (sheet.value === sheetType) {\n    sheet.value = null;\n    nextTick(() => {\n      blurActiveElement();\n    });\n  } else {\n    sheet.value = sheetType;\n  }\n}\n\nfunction removeSky() {\n  store.clearAnnotations();\n}\n\n\nfunction updateHorizonAndSky(when: Date | null = null) {\n  try {\n    removeHorizon();\n    removeSky();\n  } finally {\n    const location = getWWTLocation();\n    if (showHorizon.value) {\n      const time = when ?? store.currentTime;\n      createHorizon({ location, opacity: 0.95, when: time });\n      const sunPosition = getSunPosition(time);\n      const opacity = skyOpacityForSunAlt(sunPosition.altRad);\n      store.setForegroundOpacity((1 - opacity) * 100);\n      createSky({ location, when: time, opacity });\n    }\n  }\n}\n\nfunction updateCrbBelowHorizon(when: Date | null = null) {\n  const alt = getCrbAlt(when);\n  crbBelowHorizon.value = alt <= 0;\n}\n\nfunction skyOpacityForSunAlt(sunAltRad: number) {\n  const civilTwilight = -6 * D2R;\n  const astronomicalTwilight = 3 * civilTwilight;\n  \n  return (1 + Math.atan(Math.PI * sunAltRad / (-astronomicalTwilight))) / 2;\n}\n\n\n\nfunction logWWTState() {\n  const loc = getWWTLocation();\n  const locDeg = {\n    latitudeDeg: loc.latitudeRad * 180 / Math.PI,\n    longitudeDeg: loc.longitudeRad * 180 / Math.PI,\n  };\n  console.log(getWWTLocation());\n  console.table({\n    time: store.currentTime,\n    location: locDeg,\n    selectedLocation: selectedLocation.value,\n    showHorizon: showHorizon.value,\n    showAltAzGrid: showAltAzGrid.value,\n    showConstellations: showConstellations.value,\n    crbBelowHorizon: crbBelowHorizon.value,\n  });\n}\n\nwatch(showHorizon, (_show) => updateHorizonAndSky());\n\nwatch(showAltAzGrid, (show) => {\n  store.applySetting([\"showAltAzGrid\", show]);\n});\n\nwatch(showConstellations, (show) => {\n  store.applySetting([\"showConstellationLabels\", show]);\n  store.applySetting([\"showConstellationFigures\", show]);\n});\n\n\nwatch(selectedDate, (date) => {\n  // if we are playing this already getting updated\n  playbackControl.pause();\n  store.setTime(date);\n  updateHorizonAndSky(date);\n  updateCrbBelowHorizon(date);\n  WWTControl.singleton.renderOneFrame();\n});\n\nwatch(selectedLocation, (location: LocationDeg) => {\n  setWWTLocation(location);\n  updateHorizonAndSky();\n  updateCrbBelowHorizon();\n  WWTControl.singleton.renderOneFrame();\n});\n\n</script>\n\n<style lang=\"less\">\n@font-face {\n  font-family: \"Highway Gothic Narrow\";\n  src: url(\"./assets/HighwayGothicNarrow.ttf\");\n}\n\n:root {\n  --default-font-size: clamp(0.9rem, min(2.2vh, 2.2vw), 1.4rem);\n  --default-line-height: clamp(1.3rem, min(2.8vh, 2.8vw), 2.1rem);\n}\n\nhtml {\n  height: 100%;\n  margin: 0;\n  padding: 0;\n  background-color: #000;\n  overflow: hidden;\n\n\n  -ms-overflow-style: none;\n  // scrollbar-width: none;\n}\n\nbody {\n  position: fixed;\n  width: 100%;\n  height: 100%;\n  margin: 0;\n  padding: 0;\n  overflow: hidden;\n\n  font-family: Verdana, Arial, Helvetica, sans-serif;\n}\n\n#main-content {\n  position: fixed;\n  width: 100%;\n  height: var(--app-content-height);\n  overflow: hidden;\n\n  transition: height 0.1s ease-in-out;\n  display: flex;\n  flex-direction: column;\n}\n\n#app {\n  width: 100%;\n  height: 100%;\n  margin: 0;\n  overflow: hidden;\n  font-size: 11pt;\n\n  .wwtelescope-component {\n    position: absolute;\n    top: 0;\n    width: 100%;\n    height: 100%;\n    border-style: none;\n    border-width: 0;\n    margin: 0;\n    padding: 0;\n  }\n}\n\n\n.fade-enter-active,\n.fade-leave-active {\n  transition: opacity 0.3s;\n}\n\n.fade-enter,\n.fade-leave-to {\n  opacity: 0;\n}\n\n.modal {\n  position: absolute;\n  top: 0px;\n  left: 0px;\n  width: 100%;\n  height: 100%;\n  z-index: 100;\n  color: #fff;\n  background-color: rgba(0, 0, 0, 0.7);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n#modal-loading {\n  background-color: #000;\n\n  .container {\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    justify-content: center;\n\n    .spinner {\n      background-image: url(\"https://projects.cosmicds.cfa.harvard.edu/cds-website/misc/lunar_loader.gif\");\n      background-repeat: no-repeat;\n      background-size: contain;\n      width: 3rem;\n      height: 3rem;\n    }\n\n    p {\n      margin: 0 0 0 1rem;\n      padding: 0;\n      font-size: 150%;\n    }\n  }\n}\n\n#top-content {\n  position: relative;\n  flex-grow:0;\n  margin: 1rem;\n  pointer-events: none;\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: flex-start;\n  gap: 10px;\n}\n\n#left-buttons {\n  display: flex;\n  flex-direction: column;\n  flex-grow: .333;\n  gap: 10px;\n  align-items: flex-start;\n}\n\n#center-buttons {\n  display: flex;\n  flex-direction: column;\n  flex-grow: .333;\n  gap: 10px;\n  align-items: center;\n}\n\n.map-container {\n  width: 60svw;\n  width:60vw;\n  height: 60svh;\n  height: 60vh;\n}\n\n#geolocation-wrapper {\n  position: absolute;\n  bottom: 1rem;\n  left: 1rem;\n  z-index: 1000;\n}\n\n#right-buttons {\n  display: flex;\n  flex-direction: column;\n  flex-grow: .333;\n  gap: 10px;\n  align-items: flex-end;\n}\n\n#empty-space {\n  flex-grow:1;\n}\n\n#playback-controls {\n  position: relative;\n  pointer-events: auto;\n  display: flex;\n  flex-direction: row;\n  gap: 20px;\n  justify-content: center;\n}\n\n#bottom-content {\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  position: relative;\n  flex-grow: 0;\n  height: fit-content;\n  pointer-events: none;\n  align-items: center;\n  gap: 5px;\n}\n\n#date-picker {\n  margin: 1rem;\n}\n\n#controls {\n  background: black;\n  padding-block: 0.5em;\n  padding-right: 0.5em;\n  border-radius: 5px;\n  border: solid 1px var(--accent-color);\n  display: flex;\n  flex-direction: column;\n  pointer-events: auto;\n\n  .v-label {\n    color: var(--accent-color);\n    opacity: 1;\n    font-size: var(--default-font-size);\n  }\n\n  #control-checkboxes {\n    display: flex;\n    flex-direction: column;\n    justify-content: flex-start;\n    padding-left: calc(0.5 * var(--default-line-height));\n\n    .v-checkbox .v-selection-control {\n      font-size: calc(1.1 * var(--default-font-size));\n      height: calc(1.2 * var(--default-line-height));\n      min-height: calc(1.2 * var(--default-line-height));\n    }\n\n    .v-checkbox .v-selection-control__input {\n      width: calc(1.2 * var(--default-line-height));\n      height: calc(1.2 * var(--default-line-height));\n    }\n\n    .v-checkbox .v-selection-control__wrapper {\n      width: calc(1.2 * var(--default-line-height));\n      height: calc(1.2 * var(--default-line-height));\n    }\n\n    .v-btn {\n      align-self: center;\n      padding-left: 5px;\n      padding-right: 5px;\n      border: solid 1px #899499;\n\n      &:focus {\n        border: 2px solid white;\n      }\n    }\n\n    .v-btn__content {\n      color: black;\n      font-weight: 900;\n      white-space: break-spaces;\n      width: 150px;\n    }\n  }\n  #controls-top-row {\n    padding-left: 0.5em;\n    display: flex;\n    width: 100%;\n    flex-direction: row;\n    justify-content: flex-end;\n  }\n}\n\n.video-wrapper {\n  height: 100%;\n  background: black;\n  text-align: center;\n  z-index: 1000;\n\n  #video-close-icon {\n    position: absolute;\n    top: 10px;\n    right: 10px;\n    z-index: 15;\n\n    &:hover {\n      cursor: pointer;\n    }\n\n    &:focus {\n      color: white;\n      border: 2px solid white;\n    }\n  }\n}\n\nvideo {\n  height: 100%;\n  width: auto;\n  max-width: 100%;\n  object-fit: contain;\n}\n\n#info-video {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  max-width: 100%;\n  overflow: hidden;\n  padding: 0px;\n  z-index: 10;\n}\n\n#left-buttons, #right-buttons {\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n  pointer-events: auto;\n}\n\n.bottom-sheet {\n  .v-overlay__content {\n    align-self: flex-end;\n    padding: 0;\n    margin: 0;\n    max-width: 100%;\n    height: 34%;\n  }\n\n  #tabs {\n    width: calc(100% - 3em);\n    align-self: left;\n  }\n\n  .info-text {\n    height: 33vh;\n    padding-bottom: 25px;\n\n    & a {\n      text-decoration: none;\n    }\n  }\n\n  .close-icon {\n    position: absolute;\n    top: 10px;\n    right: 10px;\n    z-index: 15;\n\n    &:hover {\n      cursor: pointer;\n    }\n\n    &:focus {\n      color: white;\n      border: 2px solid white;\n    }\n  }\n\n  .scrollable {\n    overflow-y: auto;\n  }\n\n  #tab-items {\n    // padding-bottom: 2px !important;\n\n    .v-card-text {\n      font-size: ~\"max(14px, calc(0.7em + 0.3vw))\";\n      padding-top: ~\"max(2vw, 16px)\";\n      padding-left: ~\"max(4vw, 16px)\";\n      padding-right: ~\"max(4vw, 16px)\";\n\n      .end-spacer {\n        height: 25px;\n      }\n    }\n\n  }\n\n  #close-text-icon {\n    position: absolute;\n    top: 0.25em;\n    right: calc((3em - 0.6875em) / 3); // font-awesome-icons have width 0.6875em\n    color: white;\n  }\n\n  // This prevents the tabs from having some extra space to the left when the screen is small\n  // (around 400px or less)\n  .v-tabs:not(.v-tabs--vertical).v-tabs--right>.v-slide-group--is-overflowing.v-tabs-bar--is-mobile:not(.v-slide-group--has-affixes) .v-slide-group__next,\n  .v-tabs:not(.v-tabs--vertical):not(.v-tabs--right)>.v-slide-group--is-overflowing.v-tabs-bar--is-mobile:not(.v-slide-group--has-affixes) .v-slide-group__prev {\n    display: none;\n  }\n}\n\n.icon-wrapper {\n  width: fit-content;\n  min-width: 50px;\n}\n\n.jl_icon-button {\n  border-radius: 20px;\n  border:2px solid  var(--accent-color);\n  background-color: black;\n}\n\n.jl_debug {\n  outline: 3px solid red !important;\n  background-color: teal;\n}\n</style>\n","import script from \"./BlazeStarNova.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./BlazeStarNova.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./BlazeStarNova.vue?vue&type=style&index=0&id=550e932d&lang=less\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { aliases, mdi } from 'vuetify/iconsets/mdi';\nimport { createVuetify } from 'vuetify';\n\n// For test use. Do not include createVuetify()\n// see https://next.vuetifyjs.com/en/features/treeshaking/\n//import * as components from 'vuetify/components';\n//import * as directives from 'vuetify/directives';\n\n// Translations provided by Vuetify\nimport { en } from 'vuetify/locale';\n\n// Styles\nimport 'vuetify/styles';\nimport '@mdi/font/css/materialdesignicons.css';\n\nexport default createVuetify({\n  // Icon Fonts\n  icons: {\n    defaultSet: 'mdi',\n    aliases,\n    sets: {\n      mdi,\n    },\n  },\n  locale: {\n    locale: 'en',\n    fallback: 'en',\n    messages: { en },\n  },\n  theme: {\n    defaultTheme: 'dark',\n  },\n});\n\n// Export for test.\n//export { components, directives };\n","import { useModel as _useModel, mergeModels as _mergeModels, defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, createTextVNode as _createTextVNode, normalizeStyle as _normalizeStyle, resolveDirective as _resolveDirective, openBlock as _openBlock, createElementBlock as _createElementBlock, withDirectives as _withDirectives, withCtx as _withCtx, createBlock as _createBlock } from \"vue\"\n\nconst _hoisted_1 = /*#__PURE__*/_createElementVNode(\"div\", { id: \"splash-screen-text\" }, [\n  /*#__PURE__*/_createElementVNode(\"p\", null, \"Coming soon:\"),\n  /*#__PURE__*/_createElementVNode(\"p\", { class: \"highlight\" }, \"Blaze Star Nova\"),\n  /*#__PURE__*/_createElementVNode(\"p\", null, \"Learn where in the sky to watch for a \\\"new\\\" star!\")\n], -1)\nconst _hoisted_2 = {\n  id: \"splash-screen-acknowledgements\",\n  class: \"small\"\n}\nconst _hoisted_3 = /*#__PURE__*/_createElementVNode(\"a\", {\n  href: \"https://www.cosmicds.cfa.harvard.edu/\",\n  target: \"_blank\",\n  rel: \"noopener noreferrer\"\n}, \"Cosmic Data Stories\", -1)\nconst _hoisted_4 = /*#__PURE__*/_createElementVNode(\"a\", {\n  href: \"https://www.worldwidetelescope.org/home/\",\n  target: \"_blank\",\n  rel: \"noopener noreferrer\"\n}, \"WorldWide Telescope\", -1)\nconst _hoisted_5 = { id: \"splash-screen-logos\" }\n\n\nexport interface Props {\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  cssVars?: any;\n}\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'SplashScreen',\n  props: /*#__PURE__*/_mergeModels({\n    cssVars: { default: () => ({}) }\n  }, {\n    \"modelValue\": {default: true},\n    \"modelModifiers\": {},\n  }),\n  emits: /*#__PURE__*/_mergeModels(['close'], [\"update:modelValue\"]),\n  setup(__props: any, { emit: __emit }) {\n\nconsole.log('SplashScreen.vue');\n\nconst props = __props;\n\nconst emits = __emit;\n\nconst showSplashScreen = _useModel(__props, \"modelValue\");\n\n\nfunction closeSplashScreen() {\n  showSplashScreen.value = false;\n  emits('close');\n}\n\n\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_credit_logos = _resolveComponent(\"credit-logos\")!\n  const _component_v_overlay = _resolveComponent(\"v-overlay\")!\n  const _directive_click_outside = _resolveDirective(\"click-outside\")!\n\n  return (_openBlock(), _createBlock(_component_v_overlay, {\n    \"model-value\": showSplashScreen.value,\n    absolute: \"\",\n    opacity: \"0.6\",\n    style: _normalizeStyle(props.cssVars),\n    id: \"splash-overlay\"\n  }, {\n    default: _withCtx(() => [\n      _withDirectives((_openBlock(), _createElementBlock(\"div\", {\n        id: \"splash-screen\",\n        style: _normalizeStyle(props.cssVars)\n      }, [\n        _createElementVNode(\"div\", {\n          id: \"close-splash-button\",\n          onClick: closeSplashScreen\n        }, \" \"),\n        _hoisted_1,\n        _createElementVNode(\"div\", _hoisted_2, [\n          _createTextVNode(\" This Data Story is brought to you by \"),\n          _hoisted_3,\n          _createTextVNode(\" and \"),\n          _hoisted_4,\n          _createTextVNode(\". \"),\n          _createElementVNode(\"div\", _hoisted_5, [\n            _createVNode(_component_credit_logos, { \"logo-size\": \"5vmin\" })\n          ])\n        ])\n      ], 4)), [\n        [_directive_click_outside, closeSplashScreen]\n      ])\n    ]),\n    _: 1\n  }, 8, [\"model-value\", \"style\"]))\n}\n}\n\n})","<template>\n  <v-overlay :model-value=\"showSplashScreen\" absolute opacity=\"0.6\" :style=\"props.cssVars\" id=\"splash-overlay\">\n      <div id=\"splash-screen\" v-click-outside=\"closeSplashScreen\" :style=\"props.cssVars\">\n        <div id=\"close-splash-button\" @click=\"closeSplashScreen\">&times;\n        </div>\n        <div id=\"splash-screen-text\">\n          <p>Coming soon:</p> \n          <p class=\"highlight\">Blaze Star Nova</p>\n          <p>Learn where in the sky to watch for a \"new\" star!</p>\n        </div>\n        <div id=\"splash-screen-acknowledgements\" class=\"small\">\n          This Data Story is brought to you by <a href=\"https://www.cosmicds.cfa.harvard.edu/\" target=\"_blank\"\n            rel=\"noopener noreferrer\">Cosmic Data Stories</a> and <a href=\"https://www.worldwidetelescope.org/home/\"\n            target=\"_blank\" rel=\"noopener noreferrer\">WorldWide Telescope</a>.\n\n          <div id=\"splash-screen-logos\">\n            <credit-logos logo-size=\"5vmin\" />\n          </div>\n        </div>\n      </div>\n    </v-overlay>\n</template>\n\n\n<script setup lang=\"ts\">\nimport { defineProps, defineModel, defineEmits, withDefaults } from 'vue';\nconsole.log('SplashScreen.vue');\n\nexport interface Props {\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  cssVars?: any;\n}\n\nconst props = withDefaults(defineProps<Props>(),{\n  cssVars: () => ({})\n});\n\nconst emits = defineEmits(['close']);\n\nconst showSplashScreen = defineModel({default: true});\n\n\nfunction closeSplashScreen() {\n  showSplashScreen.value = false;\n  emits('close');\n}\n\n\n</script>\n\n\n<style lang=\"less\">\n\n\n#splash-overlay {\n  position: fixed;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n}\n\np.highlight {\n    color: var(--accent-color);\n    text-transform: uppercase;\n    font-weight: bolder;\n\n    @media (max-width: 750px) {\n      font-weight: bold;\n    }\n}\n\n#splash-screen {\n  color: #FFFFFF;\n  background-color: #000000;\n  display: flex;\n  flex-direction: column;\n  // flex-wrap: wrap;\n  align-content: center;\n  justify-content: space-around;\n\n  font-family: 'Highway Gothic Narrow', 'Roboto', sans-serif;\n  font-size: min(9vw, 6vh);\n\n  border-radius: 30px;\n  border: min(1.2vw, 0.9vh) solid var(--accent-color);\n  overflow: auto;\n  padding-top: 4rem;\n  padding-bottom: 1rem;\n\n  @media (max-width: 699px) {\n    max-height: 80vh;\n    max-width: 90vw;\n  }\n\n  @media (min-width: 700px) {\n    max-height: 85vh;\n    max-width: min(65vw, 800px);\n  }\n\n  div {\n    margin-inline: 7%;\n    text-align: center;\n  }\n\n  .small {\n    font-size: var(--default-font-size);\n    font-weight: bold;\n    margin-top: 1rem;\n  }\n\n  #splash-screen-logos {\n    margin-top: 1.5rem;\n  }\n\n  #close-splash-button {\n    position: absolute;\n    top: 0.5rem;\n    right: 0;\n    text-align: end;\n    color: var(--accent-color);\n    font-size: min(8vw, 5vh);\n\n    &:hover {\n      cursor: pointer;\n    }\n  }\n}\n\n\n</style>","import script from \"./SplashScreen.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./SplashScreen.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./SplashScreen.vue?vue&type=style&index=0&id=9fd5d0cc&lang=less\"\n\nconst __exports__ = script;\n\nexport default __exports__","// geolocation.ts\n\n// Vue composable for interacting with the geolocation API\nimport { ref, onMounted, onUnmounted, computed } from \"vue\";\n\ntype Position = {\n  latitude: number | null;\n  longitude: number | null;\n};\n\nexport function useGeolocation(requestOnMount = true) {\n  const isSupported = \"geolocation\" in navigator;\n  const isLoading = ref(false);\n\n  // PermissionStatus states\n  // https://developer.mozilla.org/en-US/docs/Web/API/PermissionStatus/state\n  const isPermissionGranted = ref(false);\n  const isPermissionDenied = ref(false);\n  const isPermissionPrompt = ref(false);\n  const checkingPermissions = ref(false);\n  const permissionsRequested = ref(false);\n\n  const error = ref<Error | GeolocationPositionError | null>(null);\n\n  const geolocationSuccess = ref(false);\n  const position = ref<Position>({\n    latitude: null,\n    longitude: null,\n  });\n  \n  const hasError = computed(() => error.value !== null);\n\n  const handlePermission = (status: PermissionStatus) => {\n    isPermissionGranted.value = status.state === \"granted\";\n    isPermissionDenied.value = status.state === \"denied\";\n    isPermissionPrompt.value = status.state === \"prompt\";\n  };\n\n  const checkPermission = async () => {\n    checkingPermissions.value = true;\n    error.value = null;\n\n    try {\n      const status = await navigator.permissions.query({ name: \"geolocation\" });\n      handlePermission(status);\n      status.onchange = () => handlePermission(status);\n    } catch (err) {\n      console.error(\"Error getting permission\", err);\n      error.value = err as Error;\n    } finally {\n      permissionsRequested.value = true;\n      checkingPermissions.value = false;\n    }\n  };\n\n  const handleSuccess = (pos: GeolocationPosition) => {\n    isLoading.value = false;\n    geolocationSuccess.value = true;\n    position.value = {\n      latitude: pos.coords.latitude,\n      longitude: pos.coords.longitude,\n    };\n  };\n\n  const handleError = (err: GeolocationPositionError) => {\n    isLoading.value = false;\n    if (err.code === err.PERMISSION_DENIED) {\n      isPermissionDenied.value = true;\n      const url = \"https://www.lifewire.com/turn-on-mobile-location-services-4156232\";\n      error.value = {\n        code: 1,\n        message: `Location access was denied. Try enabling location services for your browser in system settings. (This feature might not work on Safari on some iPhones). <a href=\"${url}\" target=\"_blank\" rel=\"noopener noreferrer\">Help</a>`,\n      } as GeolocationPositionError;\n    } else if (err.code === err.POSITION_UNAVAILABLE) {\n      error.value = {\n        code: 2,\n        message: \"Location information is unavailable.\",\n      } as GeolocationPositionError;\n    } else if (err.code === err.TIMEOUT) {\n      error.value = {\n        code: 3,\n        message: \"The request to get user location timed out.\",\n      } as GeolocationPositionError;\n    } else {\n      error.value = err;\n    }\n  };\n\n  const getCurrentLocation = async () => {\n    if (!isSupported) {\n      return;\n    }\n    \n    if (!permissionsRequested.value) {\n      checkPermission();\n    }\n\n    isLoading.value = true;\n    error.value = null;\n\n    const options = {\n      enableHighAccuracy: true,\n      timeout: 60 * 1000, // 1 minute\n      maximumAge: 5 * 60 * 1000, // 5 minutes\n    };\n\n    navigator.geolocation.getCurrentPosition(\n      handleSuccess,\n      handleError,\n      options\n    );\n  };\n\n  let watchId: number | null = null;\n\n  const watchLocation = () => {\n    if (!isSupported) {\n      return;\n    }\n\n    isLoading.value = true;\n    error.value = null;\n\n    const options = {\n      enableHighAccuracy: true,\n      timeout: 60 * 1000, // 1 minute\n      maximumAge: 5 * 60 * 1000, // 5 minutes\n    };\n\n    watchId = navigator.geolocation.watchPosition(\n      handleSuccess,\n      handleError,\n      options\n    );\n  };\n\n  const clearWatch = () => {\n    if (watchId !== null) {\n      navigator.geolocation.clearWatch(watchId);\n      watchId = null;\n    }\n  };\n\n  onMounted(() => {\n    if (requestOnMount) {\n      checkPermission();\n    }\n  });\n\n  onUnmounted(() => {\n    clearWatch();\n  });\n\n  return {\n    isSupported, // If geolocation is supported in the browser\n    isPermissionGranted, // If the user has granted geolocation permission\n    isPermissionDenied, // If the user has denied geolocation permission\n    isPermissionPrompt, // If the user has not yet been prompted for geolocation permission\n    permissionsRequested, // flag that we have requested permissions\n    checkingPermissions, // flag that we are checking the permissions\n    isLoading, // flag that we are getting the location\n    error, // error object if there was an error\n    hasError, // flag that there was an error\n    geolocationSuccess, // flag that we have successfully gotten the location\n    position, // object with latitude and longitude\n    checkPermission, // function to request geolocation permission\n    getCurrentLocation, // function to get the current location\n    watchLocation, // function to watch the location\n    clearWatch, // function to clear the location watch\n  };\n}\n","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, withModifiers as _withModifiers, createVNode as _createVNode, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode } from \"vue\"\n\nconst _hoisted_1 = [\"id\"]\nconst _hoisted_2 = {\n  key: 0,\n  class: \"geolocation-debug\"\n}\n\nimport { computed, watch } from 'vue';\nimport { VBtn } from 'vuetify/components/VBtn';\nimport { useGeolocation } from './geolocation';\n\ntype Density = null | 'default' | 'comfortable' | 'compact';\n\nexport interface GeolocationProps {\n  color?: string;\n  debug?: boolean;\n  disabled?: boolean;\n  size?: string;\n  density?: Density;\n  elevation?: string;\n  showCoords?: boolean;\n  showLoading?: boolean;\n  id?: string | null;\n  trueIcon?: string;\n  falseIcon?: string;\n  backgroundColor?: string;\n  showPermissions?: boolean;\n}\n\n// Define props with default values using withDefaults\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'GeolocationButton',\n  props: {\n    color: { default: 'white' },\n    debug: { type: Boolean, default: false },\n    disabled: { type: Boolean, default: false },\n    size: { default: 'small' },\n    density: { default: 'comfortable' },\n    elevation: { default: \"2\" },\n    showCoords: { type: Boolean, default: false },\n    showLoading: { type: Boolean, default: true },\n    id: { default: '' },\n    trueIcon: { default: 'mdi-crosshairs-gps' },\n    falseIcon: { default: 'mdi-crosshairs' },\n    backgroundColor: { default: 'black' },\n    showPermissions: { type: Boolean, default: false }\n  },\n  emits: ['location'],\n  setup(__props: any, { emit: __emit }) {\n\nconst props = __props;\n\n\n\nconst { \n  isSupported, // If geolocation is supported in the browser\n  isPermissionGranted, // If the user has granted geolocation permission\n  isPermissionDenied, // If the user has denied geolocation permission\n  isPermissionPrompt, // If the user has not yet been prompted for geolocation permission\n  permissionsRequested, // flag that we have requested permissions\n  checkingPermissions, // flag that we are checking the permissions\n  isLoading, // flag that we are getting the location\n  error, // error object if there was an error\n  hasError, // flag that there was an error\n  geolocationSuccess, // flag that we have successfully gotten the location\n  position, // object with latitude and longitude\n  getCurrentLocation, // function to get the current location\n} = useGeolocation(true);\n\nconst icon = computed(() => geolocationSuccess.value ? props.trueIcon : props.falseIcon);\n\n\nconst emits = __emit;\n\nwatch(position, (newVal) => {\n  if (newVal) {\n    emits('location', newVal);\n  }\n});\n\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"span\", {\n    id: 'geolocation-wrapper' + (_ctx.id ? '_' : '') + _ctx.id,\n    class: \"jl_geolocation\"\n  }, [\n    _createVNode(_unref(VBtn), {\n      class: \"geolocation-button\",\n      density: _ctx.density,\n      size: _ctx.size,\n      variant: \"flat\",\n      elevation: _ctx.elevation,\n      loading: _unref(isLoading),\n      icon: icon.value,\n      color: _unref(hasError) ? 'red' : _ctx.color,\n      onClick: _withModifiers(_unref(getCurrentLocation), [\"stop\"])\n    }, null, 8, [\"density\", \"size\", \"elevation\", \"loading\", \"icon\", \"color\", \"onClick\"]),\n    (_ctx.debug)\n      ? (_openBlock(), _createElementBlock(\"div\", _hoisted_2, [\n          _createElementVNode(\"div\", null, [\n            _createElementVNode(\"div\", null, \"isSupported: \" + _toDisplayString(_unref(isSupported)), 1),\n            _createElementVNode(\"div\", null, \"permissionsRequested: \" + _toDisplayString(_unref(permissionsRequested)), 1),\n            _createElementVNode(\"div\", null, \"isPermissionGranted: \" + _toDisplayString(_unref(isPermissionGranted)), 1),\n            _createElementVNode(\"div\", null, \"isPermissionDenied: \" + _toDisplayString(_unref(isPermissionDenied)), 1),\n            _createElementVNode(\"div\", null, \"isPermissionPrompt: \" + _toDisplayString(_unref(isPermissionPrompt)), 1),\n            _createElementVNode(\"div\", null, \"checkingPermissions: \" + _toDisplayString(_unref(checkingPermissions)), 1),\n            _createElementVNode(\"div\", null, \"isLoading: \" + _toDisplayString(_unref(isLoading)), 1),\n            _createElementVNode(\"div\", null, \"error: \" + _toDisplayString(_unref(error)), 1),\n            _createElementVNode(\"div\", null, \"hasError: \" + _toDisplayString(_unref(hasError)), 1),\n            _createElementVNode(\"div\", null, \"geolocationSuccess: \" + _toDisplayString(_unref(geolocationSuccess)), 1),\n            _createElementVNode(\"div\", null, \"position: \" + _toDisplayString(_unref(position)), 1)\n          ])\n        ]))\n      : _createCommentVNode(\"\", true)\n  ], 8, _hoisted_1))\n}\n}\n\n})","<template>\n  <span :id=\"'geolocation-wrapper' + (id ? '_' : '') + id\" class=\"jl_geolocation\">\n    <VBtn \n      class=\"geolocation-button\"\n      :density=\"density\"\n      :size=\"size\"\n      variant=\"flat\"\n      :elevation=\"elevation\"\n      :loading=\"isLoading\"\n      :icon=\"icon\"\n      :color=\"hasError ? 'red' : color\"\n      @click.stop=\"getCurrentLocation\" \n    />\n    \n    <div v-if=\"debug\" class=\"geolocation-debug\">\n      <div>\n        <div>isSupported: {{ isSupported }}</div>\n        <div>permissionsRequested: {{ permissionsRequested }}</div>\n        <div>isPermissionGranted: {{ isPermissionGranted }}</div>\n        <div>isPermissionDenied: {{ isPermissionDenied }}</div>\n        <div>isPermissionPrompt: {{ isPermissionPrompt }}</div>\n        <div>checkingPermissions: {{ checkingPermissions }}</div>\n        <div>isLoading: {{ isLoading }}</div>\n        <div>error: {{ error }}</div>\n        <div>hasError: {{ hasError }}</div>\n        <div>geolocationSuccess: {{ geolocationSuccess }}</div>\n        <div>position: {{ position }}</div>\n      </div>\n    </div>\n\n  </span>\n  \n\n</template>\n\n<script setup lang=\"ts\">\nimport { withDefaults, defineProps, computed, defineEmits, watch } from 'vue';\nimport { VBtn } from 'vuetify/components/VBtn';\nimport { useGeolocation } from './geolocation';\n\ntype Density = null | 'default' | 'comfortable' | 'compact';\n\nexport interface GeolocationProps {\n  color?: string;\n  debug?: boolean;\n  disabled?: boolean;\n  size?: string;\n  density?: Density;\n  elevation?: string;\n  showCoords?: boolean;\n  showLoading?: boolean;\n  id?: string | null;\n  trueIcon?: string;\n  falseIcon?: string;\n  backgroundColor?: string;\n  showPermissions?: boolean;\n}\n\n// Define props with default values using withDefaults\nconst props = withDefaults(defineProps<GeolocationProps>(), {\n  color: 'white',\n  debug: false,\n  disabled: false,\n  size: 'small',\n  density: 'comfortable',\n  elevation: \"2\",\n  showCoords: false,\n  showLoading: true,\n  useTextButton: false,\n  progressCircleSize: 12,\n  id: '',\n  trueIcon: 'mdi-crosshairs-gps',\n  falseIcon: 'mdi-crosshairs',\n  backgroundColor: 'black',\n  showPermissions: false,\n});\n\n\n\nconst { \n  isSupported, // If geolocation is supported in the browser\n  isPermissionGranted, // If the user has granted geolocation permission\n  isPermissionDenied, // If the user has denied geolocation permission\n  isPermissionPrompt, // If the user has not yet been prompted for geolocation permission\n  permissionsRequested, // flag that we have requested permissions\n  checkingPermissions, // flag that we are checking the permissions\n  isLoading, // flag that we are getting the location\n  error, // error object if there was an error\n  hasError, // flag that there was an error\n  geolocationSuccess, // flag that we have successfully gotten the location\n  position, // object with latitude and longitude\n  getCurrentLocation, // function to get the current location\n} = useGeolocation(true);\n\nconst icon = computed(() => geolocationSuccess.value ? props.trueIcon : props.falseIcon);\n\n\nconst emits = defineEmits(['location']);\n\nwatch(position, (newVal) => {\n  if (newVal) {\n    emits('location', newVal);\n  }\n});\n\n</script>\n\n\n<style>\n.jl_geolocation{\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  align-items: left;\n}\n.geolocation-debug {\n  background-color: rgba(0, 0, 0, 0.5);\n  border-radius: 5px;\n  border: 1px solid red;\n  margin: 5px;\n  padding: 5px;\n}\n\n</style>","import script from \"./GeolocationButton.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./GeolocationButton.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./GeolocationButton.vue?vue&type=style&index=0&id=67055322&lang=css\"\n\nconst __exports__ = script;\n\nexport default __exports__","import Vue, { createApp, type Plugin } from \"vue\";\n\nimport { FundingAcknowledgement, IconButton, CreditLogos, LocationSelector } from \"@cosmicds/vue-toolkit\";\nimport BlazeStarNova from \"./BlazeStarNova.vue\";\n\nimport vuetify from \"../plugins/vuetify\";\n\nimport { FontAwesomeIcon } from \"@fortawesome/vue-fontawesome\";\n\nimport SplashScreen from \"./SplashScreen.vue\";\nimport VueDatePicker from '@vuepic/vue-datepicker';\nimport '@vuepic/vue-datepicker/dist/main.css';\nimport GeolocationButton from \"./GeolocationButton.vue\";\n\nimport { WWTComponent, wwtPinia } from \"@wwtelescope/engine-pinia\";\n\nimport { library } from \"@fortawesome/fontawesome-svg-core\";\nimport {\n  faBookOpen,\n  faChevronDown,\n  faGear,\n  faTimes,\n  faVideo,\n  faPlay,\n  faPause,\n  faLocation,\n  faLocationDot,\n  faClock,\n  faSquareXmark\n} from \"@fortawesome/free-solid-svg-icons\";\n\nlibrary.add(faBookOpen);\nlibrary.add(faChevronDown);\nlibrary.add(faGear);\nlibrary.add(faTimes);\nlibrary.add(faVideo);\nlibrary.add(faPlay);\nlibrary.add(faPause);\nlibrary.add(faLocation);\nlibrary.add(faLocationDot);\nlibrary.add(faClock);\nlibrary.add(faSquareXmark);\n\n/** v-hide directive taken from https://www.ryansouthgate.com/2020/01/30/vue-js-v-hide-element-whilst-keeping-occupied-space/ */\n// Extract the function out, up here, so I'm not writing it twice\nconst update = (el: HTMLElement, binding: Vue.DirectiveBinding) => el.style.visibility = (binding.value) ? \"hidden\" : \"\";\n\ncreateApp(BlazeStarNova, {\n  wwtNamespace: \"vue-ds-template\"\n})\n \n  // Plugins\n  .use(wwtPinia as unknown as Plugin<[]>)\n  .use(vuetify)\n\n  // Directives\n  .directive(\n    /**\n    * Hides an HTML element, keeping the space it would have used if it were visible (css: Visibility)\n    */\n    \"hide\", {\n      // Run on initialisation (first render) of the directive on the element\n      beforeMount(el, binding, _vnode, _prevVnode) {\n        update(el, binding);\n      },\n      // Run on subsequent updates to the value supplied to the directive\n      updated(el, binding, _vnode, _prevVnode) {\n        update(el, binding);\n      }\n    })\n\n  // Components\n  .component(\"WorldWideTelescope\", WWTComponent)\n  .component('font-awesome-icon', FontAwesomeIcon)\n  .component('icon-button', IconButton)\n  .component('funding-acknowledgement', FundingAcknowledgement)\n  .component('credit-logos', CreditLogos)\n  .component('splash-screen', SplashScreen)\n  .component('vue-date-picker', VueDatePicker)\n  .component('geolocation-button', GeolocationButton)\n  .component('location-selector', LocationSelector)\n\n  // Mount\n  .mount(\"#app\");\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t524: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunk_cosmicds_blaze_star_nova\"] = self[\"webpackChunk_cosmicds_blaze_star_nova\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [504], () => (__webpack_require__(1270)))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["this","addedToPrimitives","annotationDirty","_opacity","_showHoverLabel","prepBatch","renderContext","Annotation2","pointList","batchDirty","PointList","lineList","LineList","triangleFanPointList","TriangleFanList","triangleList","TriangleList","set_depthBuffered","depthBuffered","drawBatch","gl","draw","drawLines","separation","Alpha1","Delta1","Alpha2","Delta2","Math","PI","x","cos","sin","y","z","vvalue","atan2","sqrt","colorToUint","col","r","b","colorToUintAlpha","opacity","g","get_opacity","set_opacity","value","get_id","_id","set_id","get_tag","_tag","set_tag","get_label","_label","set_label","get_showHoverLabel","set_showHoverLabel","hitTest","RA","dec","get_center","center","set_center","addAnnotation","ann","annotations","push","clearAll","_points$1","_fill$1","_strokeWidth$1","_lineColor$1","Colors","get_white","_fillColor$1","addPoint","Coordinates","raDecTo3d","get_fill","set_fill","get_lineWidth","set_lineWidth","get_lineColor","toString","set_lineColor","Color","fromName","get_fillColor","set_fillColor","vertexList","length","lineColorWithOpacity","_clone","a","round","i","addLine","Dates","fillColorWithOpacity","indexes","Tessellator","tesselateSimplePoly","addSubdividedTriangles","ctx","device","save","globalAlpha","beginPath","first","pnt","screenSpacePnt","WVP","transform","restore","Vector3d","dot","get_viewPoint","moveTo","lineTo","closePath","lineWidth","fillStyle","fill","strokeStyle","stroke","altAzToHADec","altRad","azRad","latRad","ra","tan","asin","getJulian","utc","year","getUTCFullYear","month","getUTCMonth","day","getUTCDate","hour","getUTCHours","minute","getUTCMinutes","second","getUTCSeconds","getUTCMilliseconds","floor","c","d","jd","mstFromUTC2","longRad","lng","R2D","modifiedJD","julianCenturies","mst","horizontalToEquatorial","st","haDec","ha","raRad","D2R","decRad","equatorialToHorizontal","hourAngle","lat","sinAlt","altitude","cosAz","azimuth","acos","createHorizon","options","date","when","Date","n","delta","color","pieces","points","map","point","raDec","location","latitudeRad","longitudeRad","poly","Poly2","forEach","removeHorizon","createSky","Poly","WWTControl","scriptInterface","makeTextOverlays","glyphHeight","scale","batch","Text3dBatch","up","create","textItems","locations","item","index","add","Text3d","makeAltAzGridText","Grids","_altAzTextBatch","sign","SpaceTimeController","get_location","get_lat","alt","directions","v","text","drawSingleConstellation","ls","reverse","name","get_name","centroid","Constellations","constellationCentroids","pos","get_RA","get_dec","_maxSeperation","_constellationVertexBuffers","count","linelist","SimpleLineList","temp","currentPoint","pointType","_boundry","_constToDraw","Settings","get_globalSettings","get_constellationBoundryColor","get_constellationSelectionColor","get_constellationFigureColor","load","drawConstellations","showOnlySelected","focusConstellation","clearExisting","highlight","highlightColor","max","get_fovAngle","_drawCount","lsSelected","lines","highlighted","includes","_drawSingleConstellation","setupConstellationFigures","constellationsFigures","bind","useCustomGlyphs","prepareBatch","cache","_glyphCache","_glyphItems","origin","window","imageUrl","xmlUrl","_texture","Texture","fromUrl","_webFile","WebFile","onStateChange","GlyphCache","prototype","_glyphXmlReady","send","renderOneFrame","get_backgroundImageset","renderType","get_dataSetType","sizeChange","canvas","width","parentNode","clientWidth","height","clientHeight","explorer","refresh","_crossHairs","Tile","lastDeepestLevel","deepestLevel","RenderTriangle","tilesInView","tilesTouched","set_metaNow","get__mover","set_now","get_currentDateTime","Planets","updatePlanetLocations","get_solarSystemMode","newCam","get_currentPosition","targetCamera","copy","viewCamera","space","get_active","get_galacticMode","gPoint","j2000toGalactic","targetAlt","targetAz","az","get_localHorizonMode","currentAltAz","equitorialToHorizon","fromRaDec","get_now","get_alt","get_az","get_complete","_fireArrived","singleton","zoom","set__mover","_notifyMoveComplete","updateClock","_updateViewParameters","clear","setupMatricesSpace3d","drawImageSet","get_foregroundImageset","set_foregroundImageset","_foregroundCanvas","saveDevice","_fgDevice","clearRect","drawImage","uiController","render","Annotation","_annotations","now","_lastMouseMove","raDecDown","getCoordinatesForScreenPoint","_hoverTextPoint","_annotationHover","_hoverText","_drawHoverText","imageset","get_catalogHipsImagesets","get_hipsProperties","get_catalogSpreadSheetLayer","enabled","lastVersion","get_version","constellation","containment","findConstellationForPoint","drawPlanets","_drawSkyOverlays","undefined","textOverlays","get_showConstellationLabels","viewTransform","fromArgb","worldSave","get_world","viewSave","get_view","projSave","get_projection","get_current","get_showCrosshairs","_drawCrosshairs","tilesAllLoaded","TileCache","get_queueCount","setupMatricesOverlays","_fadeFrame","_frameCount","decimateQueue","processQueue","currentRenderGeneration","TourPlayer","get_playing","set_crossFadeFrame","set_world","set_view","set_projection","ms","_lastUpdate","trianglesRendered","trianglesCulled","capturingVideo","dumpFrameParams","waitDownload","captureFrameForVideo","_videoBlobReady","format","nextFrame","get_doneDumping","frameDumping","cancelFrameDump","usePlaybackControl","store","debug","console","log","clockRate","timePlaying","play","pause","togglePlay","setSpeed","rate","waitForReady","then","newRate","setClockRate","newIsPlaying","setClockSync","_hoisted_1","id","_hoisted_2","class","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","key","_hoisted_19","_hoisted_20","controls","src","type","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_24","_hoisted_25","href","target","rel","__name","props","wwtNamespace","default","initialCameraParams","zoomDeg","setup","__props","engineStore","useWWTKeyboardControls","playbackControl","touchscreen","supportsTouchscreen","splash","URLSearchParams","search","get","toLowerCase","showSplashScreen","backgroundImagesets","sheet","layersLoaded","positionSet","accentColor","buttonColor","tab","showHorizon","showAltAzGrid","showControls","showConstellations","crbBelowHorizon","sunPlace","Place","set_names","set_classification","solarSystem","set_target","sun","set_zoomLevel","crbPlace","set_RA","set_dec","wwtSettings","getWWTLocation","get_locationLng","get_locationLat","todayAt9pm","today","setHours","selectedDate","showLocationSelector","selectedLocation","longitudeDeg","latitudeDeg","setWWTLocation","set_locationLat","set_locationLng","skyBackgroundImagesets","iset","setBackgroundImageByName","setTime","applySetting","updateHorizonAndSky","_makeAltAzGridText","setInterval","currentTime","updateCrbBelowHorizon","setTimeout","gotoRADecZoom","instant","ready","isLoading","getSunPosition","sunAltAz","getCrbAlt","crbAltAz","cssVars","showTextSheet","set","_value","selectSheet","showVideoSheet","video","document","querySelector","closeSplashScreen","sheetType","blurActiveElement","removeSky","clearAnnotations","time","sunPosition","skyOpacityForSunAlt","setForegroundOpacity","sunAltRad","civilTwilight","astronomicalTwilight","atan","logWWTState","loc","locDeg","table","_show","show","_ctx","_cache","_component_WorldWideTelescope","_component_splash_screen","_component_icon_button","_component_font_awesome_icon","_component_location_selector","_component_geolocation_button","_component_credit_logos","_component_funding_acknowledgement","style","modelValue","$event","onClose","_","transition","icon","size","onClick","onKeyup","tabindex","density","elevation","onLocation","longitude","latitude","onActivate","dark","label","fullscreen","persistent","absolute","scrim","dense","align","cols","outlined","__exports__","icons","defaultSet","aliases","sets","mdi","locale","fallback","messages","en","theme","defaultTheme","emits","__emit","useGeolocation","requestOnMount","isSupported","navigator","isPermissionGranted","isPermissionDenied","isPermissionPrompt","checkingPermissions","permissionsRequested","error","geolocationSuccess","position","hasError","handlePermission","status","state","checkPermission","permissions","query","onchange","handleSuccess","coords","handleError","err","code","PERMISSION_DENIED","url","message","POSITION_UNAVAILABLE","TIMEOUT","getCurrentLocation","enableHighAccuracy","timeout","maximumAge","geolocation","getCurrentPosition","watchId","watchLocation","watchPosition","clearWatch","Boolean","disabled","showCoords","showLoading","trueIcon","falseIcon","backgroundColor","showPermissions","newVal","VBtn","variant","loading","update","el","binding","visibility","BlazeStarNova","use","wwtPinia","vuetify","directive","beforeMount","_vnode","_prevVnode","updated","component","WWTComponent","IconButton","FundingAcknowledgement","CreditLogos","SplashScreen","GeolocationButton","LocationSelector","mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","__webpack_modules__","call","m","deferred","O","result","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","j","Object","keys","every","splice","definition","o","defineProperty","enumerable","globalThis","Function","e","obj","prop","hasOwnProperty","Symbol","toStringTag","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","data","moreModules","runtime","some","chunkLoadingGlobal","self","__webpack_exports__"],"sourceRoot":""}