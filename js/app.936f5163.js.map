{"version":3,"file":"js/app.936f5163.js","mappings":"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","sources":["webpack://@cosmicds/blaze-star-nova/./src/debounce.ts","webpack://@cosmicds/blaze-star-nova/./src/Annotation2.ts","webpack://@cosmicds/blaze-star-nova/./src/annotations.ts","webpack://@cosmicds/blaze-star-nova/./src/text.ts","webpack://@cosmicds/blaze-star-nova/./src/wwt-hacks.ts","webpack://@cosmicds/blaze-star-nova/./src/wwt_playback_control.ts","webpack://@cosmicds/blaze-star-nova/./src/timezones.ts","webpack://@cosmicds/blaze-star-nova/./src/BlazeStarNova.vue?2f2c","webpack://@cosmicds/blaze-star-nova/./src/BlazeStarNova.vue","webpack://@cosmicds/blaze-star-nova/./src/BlazeStarNova.vue?e50b","webpack://@cosmicds/blaze-star-nova/./plugins/vuetify.ts","webpack://@cosmicds/blaze-star-nova/./src/BottomSheet.vue?bb78","webpack://@cosmicds/blaze-star-nova/./src/BottomSheet.vue","webpack://@cosmicds/blaze-star-nova/./src/BottomSheet.vue?6221","webpack://@cosmicds/blaze-star-nova/./src/SplashScreen.vue?d226","webpack://@cosmicds/blaze-star-nova/./src/SplashScreen.vue","webpack://@cosmicds/blaze-star-nova/./src/SplashScreen.vue?b8e9","webpack://@cosmicds/blaze-star-nova/./src/geolocation.ts","webpack://@cosmicds/blaze-star-nova/./src/GeolocationButton.vue?8585","webpack://@cosmicds/blaze-star-nova/./src/GeolocationButton.vue","webpack://@cosmicds/blaze-star-nova/./src/GeolocationButton.vue?cadd","webpack://@cosmicds/blaze-star-nova/./src/TimeDisplay.vue?673f","webpack://@cosmicds/blaze-star-nova/./src/TimeDisplay.vue","webpack://@cosmicds/blaze-star-nova/./src/TimeDisplay.vue?9b3c","webpack://@cosmicds/blaze-star-nova/./src/TapToInput.vue?4a2c","webpack://@cosmicds/blaze-star-nova/./src/TapToInput.vue","webpack://@cosmicds/blaze-star-nova/./src/TapToInput.vue?610d","webpack://@cosmicds/blaze-star-nova/./src/DateTimePicker.vue?9f98","webpack://@cosmicds/blaze-star-nova/./src/DateTimePicker.vue","webpack://@cosmicds/blaze-star-nova/./src/DateTimePicker.vue?b49c","webpack://@cosmicds/blaze-star-nova/./src/main.ts","webpack://@cosmicds/blaze-star-nova/webpack/bootstrap","webpack://@cosmicds/blaze-star-nova/webpack/runtime/chunk loaded","webpack://@cosmicds/blaze-star-nova/webpack/runtime/compat get default export","webpack://@cosmicds/blaze-star-nova/webpack/runtime/define property getters","webpack://@cosmicds/blaze-star-nova/webpack/runtime/global","webpack://@cosmicds/blaze-star-nova/webpack/runtime/hasOwnProperty shorthand","webpack://@cosmicds/blaze-star-nova/webpack/runtime/make namespace object","webpack://@cosmicds/blaze-star-nova/webpack/runtime/jsonp chunk loading","webpack://@cosmicds/blaze-star-nova/webpack/startup"],"sourcesContent":["// debounce.ts\n\n// from https://kettanaito.com/blog/debounce-vs-throttle#:~:text=Implementing%20throttle,1\nexport function throttle(func, duration) {\n  let shouldWait = false;\n\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  return function (this: any, ...args: any[]) {\n    if (!shouldWait) {\n      func.apply(this, args);\n      shouldWait = true;\n  \n      setTimeout(function () {\n        shouldWait = false;\n      }, duration);\n    }\n  };\n}\n","// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-nocheck\n/* eslint-disable */\n\nimport { Color, Colors, Coordinates, Dates, PointList, LineList, TriangleFanList, TriangleList, Tessellator } from \"@wwtelescope/engine\";\n\nexport class Annotation2 {\n  constructor() {\n    this.addedToPrimitives = false;\n    this.annotationDirty = true;\n    this._opacity = 1;\n    this._showHoverLabel = false;\n  }\n\n  static annotations = [];\n  static lineList = null;\n  static triangleFanPointList = null;\n  static triangleList = null;\n  static batchDirty = true;\n\n  static prepBatch(renderContext) {\n    if (Annotation2.pointList == null || Annotation2.batchDirty) {\n        Annotation2.pointList = new PointList(renderContext);\n        Annotation2.lineList = new LineList();\n        Annotation2.triangleFanPointList = new TriangleFanList();\n        Annotation2.triangleList = new TriangleList();\n        Annotation2.lineList.set_depthBuffered(false);\n        Annotation2.triangleList.depthBuffered = false;\n    }\n\n  }\n\n  static drawBatch(renderContext) {\n    Annotation2.batchDirty = false;\n    if (renderContext.gl == null) {\n        return;\n    }\n    if (Annotation2.pointList != null) {\n        Annotation2.pointList.draw(renderContext, 1, false);\n    }\n    if (Annotation2.lineList != null) {\n        Annotation2.lineList.drawLines(renderContext, 1);\n    }\n    if (Annotation2.triangleFanPointList != null) {\n        Annotation2.triangleFanPointList.draw(renderContext, 1);\n    }\n    if (Annotation2.triangleList != null) {\n        Annotation2.triangleList.draw(renderContext, 1, 0);\n    }\n  };\n\n  static separation(Alpha1, Delta1, Alpha2, Delta2) {\n    Delta1 = Delta1 / 180 * Math.PI;\n    Delta2 = Delta2 / 180 * Math.PI;\n    Alpha1 = Alpha1 / 12 * Math.PI;\n    Alpha2 = Alpha2 / 12 * Math.PI;\n    var x = Math.cos(Delta1) * Math.sin(Delta2) - Math.sin(Delta1) * Math.cos(Delta2) * Math.cos(Alpha2 - Alpha1);\n    var y = Math.cos(Delta2) * Math.sin(Alpha2 - Alpha1);\n    var z = Math.sin(Delta1) * Math.sin(Delta2) + Math.cos(Delta1) * Math.cos(Delta2) * Math.cos(Alpha2 - Alpha1);\n    var vvalue = Math.atan2(Math.sqrt(x * x + y * y), z);\n    vvalue = vvalue / Math.PI * 180;\n    if (vvalue < 0) {\n        vvalue += 180;\n    }\n    return vvalue;\n  };\n\n  static colorToUint(col) {\n    return (col.a) << 24 | (col.r << 16) | (col.g) << 8 | col.b;\n  }\n\n  static colorToUintAlpha(col, opacity) {\n    return opacity << 24 | col.r << 16 | col.g << 8 | col.b;\n  };\n\n  get_opacity() {\n    return this._opacity;\n  }\n\n  set_opacity(value) {\n    Annotation2.batchDirty = true;\n    this._opacity = value;\n    return value;\n  }\n\n  draw(renderContext) {}\n\n  get_id() { return this._id; }\n  set_id(value) {\n    this._id = value;\n    return value;\n  }\n\n  get_tag() { return this._tag; }\n  set_tag(value) {\n    this._tag = value;\n    return value;\n  }\n\n  get_label() {\n      return this._label;\n  }\n\n  set_label(value) {\n      this._label = value;\n      return value;\n  }\n\n  get_showHoverLabel() {\n      return this._showHoverLabel;\n  }\n\n  set_showHoverLabel(value) {\n      this._showHoverLabel = value;\n      return value;\n  }\n\n  hitTest(renderContext, RA, dec, x, y) {\n      return false;\n  }\n\n  get_center() {\n      return this.center;\n  }\n\n  set_center(value) {\n      this.center = value;\n      return value;\n  }\n\n  static addAnnotation(ann) {\n    Annotation2.annotations.push(ann);\n    Annotation2.batchDirty = true;\n  }\n\n  static clearAll() {\n    Annotation2.annotations = [];\n    Annotation2.batchDirty = true;\n  }\n}\n\nexport class Poly2 extends Annotation2 {\n  constructor() {\n    super();\n    this._points$1 = [];\n    this._fill$1 = false;\n    this._strokeWidth$1 = 1;\n    this._lineColor$1 = Colors.get_white();\n    this._fillColor$1 = Colors.get_white();\n  }\n\n  addPoint(x, y) {\n      Annotation2.batchDirty = true;\n      this._points$1.push(Coordinates.raDecTo3d(x / 15, y));\n  }\n\n  get_fill() {\n      return this._fill$1;\n  }\n\n  set_fill(value) {\n      Annotation2.batchDirty = true;\n      this._fill$1 = value;\n      return value;\n  }\n\n  get_lineWidth() {\n      return this._strokeWidth$1;\n  }\n\n  set_lineWidth(value) {\n      Annotation2.batchDirty = true;\n      this._strokeWidth$1 = value;\n      return value;\n  }\n\n  get_lineColor() {\n      return this._lineColor$1.toString();\n  }\n\n  set_lineColor(value) {\n      Annotation2.batchDirty = true;\n      this._lineColor$1 = Color.fromName(value);\n      return value;\n  }\n\n  get_fillColor() {\n      return this._fillColor$1.toString();\n  }\n\n  set_fillColor(value) {\n      Annotation2.batchDirty = true;\n      this._fillColor$1 = Color.fromName(value);\n      return value;\n  }\n\n  draw(renderContext) {\n      if (renderContext.gl != null) {\n          if (Annotation2.batchDirty || this.annotationDirty) {\n              //todo can we save this work for later?\n              var vertexList = this._points$1;\n\n              if (this._strokeWidth$1 > 0 && this._points$1.length > 1) {\n                  var lineColorWithOpacity = this._lineColor$1._clone();\n                  lineColorWithOpacity.a = Math.round(lineColorWithOpacity.a * this.get_opacity());\n                  for (var i = 0; i < (this._points$1.length - 1); i++) {\n                      Annotation2.lineList.addLine(vertexList[i], vertexList[i + 1], lineColorWithOpacity, new Dates(0, 1));\n                  }\n                  Annotation2.lineList.addLine(vertexList[this._points$1.length - 1], vertexList[0], lineColorWithOpacity, new Dates(0, 1));\n              }\n              if (this._fill$1) {\n                  var fillColorWithOpacity = this._fillColor$1._clone();\n                  fillColorWithOpacity.a = Math.round(fillColorWithOpacity.a * this.get_opacity());\n                  var indexes = Tessellator.tesselateSimplePoly(vertexList);\n                  for (var i = 0; i < indexes.length; i += 3) {\n                      Annotation2.triangleList.addSubdividedTriangles(vertexList[indexes[i]], vertexList[indexes[i + 1]], vertexList[indexes[i + 2]], fillColorWithOpacity, new Dates(0, 1), 2);\n                  }\n              }\n              this.annotationDirty = false;\n          }\n      } else {\n          var ctx = renderContext.device;\n          ctx.save();\n          ctx.globalAlpha = this.get_opacity();\n          ctx.beginPath();\n          var first = true;\n          for (const pnt of this._points$1) {\n              var screenSpacePnt = renderContext.WVP.transform(pnt);\n              if (screenSpacePnt.z < 0) {\n                  ctx.restore();\n                  return;\n              }\n              if (Vector3d.dot(renderContext.get_viewPoint(), pnt) < 0.75) {\n                  ctx.restore();\n                  return;\n              }\n              if (first) {\n                  first = false;\n                  ctx.moveTo(screenSpacePnt.x, screenSpacePnt.y);\n              }\n              else {\n                  ctx.lineTo(screenSpacePnt.x, screenSpacePnt.y);\n              }\n          }\n          ctx.closePath();\n          ctx.lineWidth = this._strokeWidth$1;\n          if (this._fill$1) {\n              ctx.fillStyle = this._fillColor$1.toString();\n              ctx.fill();\n          }\n          ctx.strokeStyle = this._lineColor$1.toString();\n          ctx.globalAlpha = 1;\n          ctx.stroke();\n          ctx.restore();\n      }\n  }\n\n};\n","import { D2R, R2D } from \"@cosmicds/vue-toolkit\";\nimport { Poly, WWTControl } from \"@wwtelescope/engine\";\nimport { Annotation2, Poly2 } from \"./Annotation2\";\nimport { HorizonSkyOptions, HorizontalRad, EquatorialRad } from \"./types\";\n\n// WWT does have all of this functionality built in\n// but it doesn't seem to be exposed\n// We should do that, but for now we just copy the web engine code\n// https://github.com/Carifio24/wwt-webgl-engine/blob/master/engine/wwtlib/Coordinates.cs\nexport function altAzToHADec(altRad: number, azRad: number, latRad: number): { ra: number; dec: number; } {\n  azRad = Math.PI - azRad;\n  if (azRad < 0) {\n    azRad += 2 * Math.PI;\n  }\n  let ra = Math.atan2(Math.sin(azRad), Math.cos(azRad) * Math.sin(latRad) + Math.tan(altRad) * Math.cos(latRad));\n  if (ra < 0) {\n    ra += 2 * Math.PI;\n  }\n  const dec = Math.asin(Math.sin(latRad) * Math.sin(altRad) - Math.cos(latRad) * Math.cos(altRad) * Math.cos(azRad));\n  return { ra, dec };\n}\n\nexport function getJulian(utc: Date): number {\n  let year = utc.getUTCFullYear();\n  let month = utc.getUTCMonth()+1;\n  const day = utc.getUTCDate();\n  const hour = utc.getUTCHours();\n  const minute = utc.getUTCMinutes();\n  const second = utc.getUTCSeconds() + utc.getUTCMilliseconds() / 1000.0;\n\n  if (month == 1 || month == 2)\n  {\n    year -= 1;\n    month += 12;\n  }\n\n  const a = Math.floor(year / 100);\n  const b = 2 - a + Math.floor(a / 4.0);\n  const c = Math.floor(365.25 * year);\n  const d = Math.floor(30.6001 * (month + 1));\n\n  // gives julian date: number of days since Jan 1, 4713 BC\n  const jd = b + c + d + 1720994.5 + day + (hour + minute / 60.00 + second / 3600.00) / 24.00;\n  return jd;\n}\n\nexport function mstFromUTC2(utc: Date, longRad: number): number {\n  const lng = longRad * R2D;\n\n  const modifiedJD = getJulian(utc)  - 2451545;\n\n  const julianCenturies = modifiedJD / 36525.0;\n  // this form wants julianDays - 2451545\n  let mst = 280.46061837 + 360.98564736629 * modifiedJD + 0.000387933 * julianCenturies * julianCenturies - julianCenturies * julianCenturies * julianCenturies / 38710000 + lng;\n\n  if (mst > 0.0) {\n    while (mst > 360.0) {\n      mst = mst - 360.0;\n    }\n  } else {\n    while (mst < 0.0) {\n      mst = mst + 360.0;\n    }\n  }\n\n  return mst;\n}\n\nexport function horizontalToEquatorial(altRad: number, azRad: number, latRad: number, longRad: number, utc: Date): EquatorialRad {\n  const st = mstFromUTC2(utc, longRad); // siderial time \n\n  const haDec = altAzToHADec(altRad, azRad, latRad); // get Hour Angle and Declination\n  \n  const ha = haDec.ra * R2D;\n\n  let ra = st + ha;\n  if (ra < 0) {\n    ra += 360;\n  }\n  if (ra > 360) {\n    ra -= 360;\n  }\n  // ra -= 180;\n  // console.log(`Alt: ${(altRad*R2D).toFixed(2)} Az: ${(azRad*R2D).toFixed(2)} Ra: ${ra.toFixed(2)} Dec: ${(haDec.dec*R2D).toFixed(2)}`)\n\n  return { raRad: D2R * ra, decRad: haDec.dec };\n}\n\nexport function equatorialToHorizontal(raRad: number, decRad: number, latRad: number, longRad: number, utc: Date): HorizontalRad {\n  let hourAngle = mstFromUTC2(utc, longRad) - R2D * raRad;\n  if (hourAngle < 0) {\n    hourAngle += 360;\n  }\n\n  const ha = D2R * hourAngle;\n  const dec = decRad;\n  const lat = latRad;\n  \n  const sinAlt = Math.sin(dec) * Math.sin(lat) + Math.cos(dec) * Math.cos(lat) * Math.cos(ha);\n  const altitude = Math.asin(sinAlt);\n  const cosAz = (Math.sin(dec) - Math.sin(altitude) * Math.sin(lat)) / (Math.cos(altitude) * Math.cos(lat));\n  let azimuth = Math.acos(cosAz);\n\n  azimuth = azimuth + (Math.PI * 80) % (Math.PI * 2);\n\n  if (Math.sin(ha) > 0) {\n    azimuth = 2 * Math.PI - azimuth;\n  }\n  return { altRad: altitude, azRad: azimuth };\n\n}\n\nexport function createHorizon(options: HorizonSkyOptions): Poly[] {\n  const date = options.when || new Date();\n\n  // The initial coordinates are given in Alt/Az, then converted to RA/Dec\n  // Use N annotations to cover below the horizon\n  const n = 6;\n  const delta = 2 * Math.PI / n;\n  const color = options.color ?? \"#01362C\";\n  const opacity = options.opacity ?? 1;\n\n  const pieces: Poly[] = [];\n  for (let i = 0; i < n; i++) {\n    let points: [number, number][] = [\n      [0, i * delta],\n      [-Math.PI / 2, i * delta],\n      [0, (i + 1) * delta]\n    ];\n    points = points.map((point) => {\n      const raDec = horizontalToEquatorial(...point, options.location.latitudeRad, options.location.longitudeRad, date);\n      return [R2D * raDec.raRad, R2D * raDec.decRad];\n    });\n    // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n    // @ts-ignore\n    const poly = new Poly2();\n    points.forEach(point => poly.addPoint(...point));\n    poly.set_lineColor(color);\n    poly.set_fill(true);\n    poly.set_fillColor(color);\n    poly.set_opacity(opacity);\n    poly.set_lineWidth(0); // This removes the seam that appears between the polygons when opacity < 1\n\n    // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n    // @ts-ignore\n    Annotation2.addAnnotation(poly);\n    pieces.push(poly);\n  }\n\n  return pieces;\n}\n\nexport function removeHorizon() {\n  Annotation2.clearAll();\n}\n\nexport function createSky(options: HorizonSkyOptions): Poly[] {\n  const color = options.color ?? \"#4190ED\";\n  const date = options.when || new Date();\n  const opacity = options.opacity ?? 1;\n\n  // The initial coordinates are given in Alt/Az, then converted to RA/Dec\n  // Use N annotations to cover below the horizon\n  const n = 6;\n  const delta = 2 * Math.PI / n;\n  // const delta = 360/n;\n  \n  const pieces: Poly[] = [];\n  for (let i = 0; i < n; i++) {\n    let points: [number, number][] = [\n      [0, i * delta],\n      [0, (i + 1) * delta],\n      [Math.PI / 2, i * delta] // In addition to using +pi/2 instead of -pi/2, I had to switch the order of the 2nd & 3rd points relative to the horizon set. I don't know why, but before I switched them, the polygons didn't render.\n    ];\n    points = points.map((point) => {\n      const raDec = horizontalToEquatorial(...point, options.location.latitudeRad, options.location.longitudeRad, date);\n      return [R2D * raDec.raRad, R2D * raDec.decRad];\n    });\n    const poly = new Poly();\n    points.forEach(point => poly.addPoint(...point));\n    poly.set_fill(true);\n    poly.set_fillColor(color);\n    poly.set_opacity(opacity);\n    poly.set_lineWidth(0); // This removes the seam that appears between the polygons when opacity < 1\n    // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n    // @ts-ignore\n    WWTControl.scriptInterface.addAnnotation(poly);\n    pieces.push(poly);\n  }\n\n  return pieces;\n}\n\n","// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-nocheck\n\n/* eslint-disable */\n\nimport { Coordinates, Text3d, Text3dBatch, Vector3d } from \"@wwtelescope/engine\";\n\nexport function makeTextOverlays(): Text3dBatch[] {\n  const glyphHeight = 75 * 0.5;\n  const scale = 0.00018;\n  const textItems = [\n    [\"T CrB, aka\", \"Blaze Star\"],\n    [\"Nova will\", \"become roughly\", \"this bright\"],\n  ];\n  const up = Vector3d.create(0, 1, 0);\n  const locations = [\n    [\n      Coordinates.raDecTo3d(15 + 59 / 60 + 30.1622 / 3600, 24 + 55 / 60 + 12.613 / 3600),\n      Coordinates.raDecTo3d(15 + 59 / 60 + 30.1622 / 3600, 23 + 40 / 60 + 12.613 / 3600),\n    ],\n    [\n      Coordinates.raDecTo3d(15 + 24 / 60 + 41.268 / 3600, 25 + 42 / 60 + 52.89 / 3600),\n      Coordinates.raDecTo3d(15 + 24 / 60 + 41.268 / 3600, 24 + 27 / 60 + 52.89 / 3600),\n      Coordinates.raDecTo3d(15 + 24 / 60 + 41.268 / 3600, 23 + 12 / 60 + 52.89 / 3600),\n    ]\n  ];\n  const batches = textItems.map(items => new Text3dBatch(glyphHeight));\n  textItems.forEach((items, index) => {\n    const batch = batches[index];\n    const locs = locations[index];\n    items.forEach((item, idx) => batch.add(new Text3d(locs[idx], up, item, glyphHeight, scale)));\n  });\n\n  return batches;\n}\n","// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-nocheck\n\n/* eslint-disable */\n\nimport {\n  Annotation,\n  Color,\n  Constellations,\n  Coordinates,\n  GlyphCache,\n  Grids,\n  Planets,\n  RenderTriangle,\n  Settings,\n  SimpleLineList,\n  SpaceTimeController,\n  Text3d,\n  Text3dBatch,\n  Texture,\n  Tile,\n  TileCache,\n  TourPlayer,\n  Vector3d,\n  WebFile,\n  WWTControl,\n} from \"@wwtelescope/engine\";\n\nimport { Annotation2 } from \"./Annotation2\";\nimport { makeTextOverlays } from \"./text\";\n\nexport function makeAltAzGridText() {\n  if (Grids._altAzTextBatch == null) {\n    const glyphHeight = 70;\n    Grids._altAzTextBatch = new Text3dBatch(glyphHeight);\n    const sign = SpaceTimeController.get_location().get_lat() < 0 ? -1 : 1;\n    const alt = 0.03 * sign;\n    const up = Vector3d.create(0, sign, 0);\n    const directions = [\n      [[0, alt, -1], \"N\"],\n      [[-sign, alt, 0], \"E\"],\n      [[0, alt, 1], \"S\"],\n      [[sign, alt,  -0.0095], \"V\"],\n      [[sign, alt,  0.0095], \"V\"]\n    ]\n    directions.forEach(([v, text]) => {\n      Grids._altAzTextBatch.add(new Text3d(Vector3d.create(...v), up, text, 75, 0.00018));\n    });\n  }\n}\n\nfunction drawSingleConstellation(renderContext, ls, opacity, color=null) {\n  const reverse = false;\n  const name = ls.get_name();\n  const centroid = Constellations.constellationCentroids[name];\n  if (centroid != null) {\n      var pos = Coordinates.raDecTo3d((reverse) ? -centroid.get_RA() - 6 : centroid.get_RA(), (reverse) ? centroid.get_dec() : centroid.get_dec());\n      if (Vector3d.dot(renderContext.get_viewPoint(), pos) < Constellations._maxSeperation) {\n          return;\n      }\n  }\n  if (!(name in this._constellationVertexBuffers)) {\n    var count = ls.points.length;\n    var linelist = new SimpleLineList();\n    linelist.set_depthBuffered(false);\n    this._constellationVertexBuffers[name] = linelist;\n    var currentPoint = new Vector3d();\n    var temp;\n    for (var i = 0; i < count; i++) {\n        if (!ls.points[i].pointType || !i) {\n            currentPoint = Coordinates.raDecTo3d(ls.points[i].RA, ls.points[i].dec);\n        }\n        else {\n            temp = Coordinates.raDecTo3d(ls.points[i].RA, ls.points[i].dec);\n            linelist.addLine(currentPoint, temp);\n            currentPoint = temp;\n        }\n    }\n    if (this._boundry) {\n        temp = Coordinates.raDecTo3d(ls.points[0].RA, ls.points[0].dec);\n        linelist.addLine(currentPoint, temp);\n    }\n  }\n  var col = 'red';\n  if (this._boundry) {\n      if (Constellations._constToDraw !== name) {\n          col = Settings.get_globalSettings().get_constellationBoundryColor();\n      }\n      else {\n          col = Settings.get_globalSettings().get_constellationSelectionColor();\n      }\n  } else {\n      col = color ?? Settings.get_globalSettings().get_constellationFigureColor();\n  }\n  this._constellationVertexBuffers[name].drawLines(renderContext, opacity, Color.load(col));\n}\n\n\nfunction drawConstellations(renderContext, showOnlySelected, focusConstellation, clearExisting) {\n    const highlight = [\"CRB\"];\n    const highlightColor = \"#ffff00\";\n    Constellations._maxSeperation = Math.max(0.6, Math.cos((renderContext.get_fovAngle() * 2) / 180 * Math.PI));\n    this._drawCount = 0;\n    var lsSelected = null;\n    if (this.lines == null || Constellations.constellationCentroids == null) {\n        return;\n    }\n    Constellations._constToDraw = focusConstellation;\n    for (const ls of this.lines) {\n        const name = ls.get_name();\n        const highlighted = highlight.includes(name);\n        const color = highlighted ? highlightColor : null;\n        if (Constellations._constToDraw === name && this._boundry) {\n            lsSelected = ls;\n        }\n        else if (!showOnlySelected || !this._boundry) {\n            this._drawSingleConstellation(renderContext, ls, 1, color);\n        }\n    }\n    if (lsSelected != null) {\n        this._drawSingleConstellation(renderContext, lsSelected, 1, color);\n    }\n  }\n\n\nexport function setupConstellationFigures() {\n  WWTControl.constellationsFigures._drawSingleConstellation = drawSingleConstellation.bind(WWTControl.constellationsFigures);\n  WWTControl.constellationsFigures.draw = drawConstellations.bind(WWTControl.constellationsFigures);\n}\n\nexport function useCustomGlyphs(batch: Text3dBatch) {\n  batch.prepareBatch();\n  const cache = batch._glyphCache;\n  cache._glyphItems = {};\n  const origin = window.location.origin;\n  const imageUrl = `${origin}/glyphs2.png`;\n  const xmlUrl = `${origin}/glyphs2.xml`;\n  cache._texture = Texture.fromUrl(imageUrl);\n  cache._webFile = new WebFile(xmlUrl);\n  cache._webFile.onStateChange = GlyphCache.prototype._glyphXmlReady.bind(cache);\n  cache._webFile.send();\n}\n\nexport function renderOneFrame(showBlazeOverlay=true, showAlphaOverlay=true) {\n  if (this.renderContext.get_backgroundImageset() != null) {\n    this.renderType = this.renderContext.get_backgroundImageset().get_dataSetType();\n  } else {\n    this.renderType = 2;\n  }\n\n  var sizeChange = false;\n  if (this.canvas.width !== this.canvas.parentNode.clientWidth) {\n    this.canvas.width = this.canvas.parentNode.clientWidth;\n    sizeChange = true;\n  }\n  if (this.canvas.height !== this.canvas.parentNode.clientHeight) {\n    this.canvas.height = this.canvas.parentNode.clientHeight;\n    sizeChange = true;\n  }\n  if (sizeChange && this.explorer != null) {\n    this.explorer.refresh();\n  }\n  if (this.canvas.width < 1 || this.canvas.height < 1) {\n    return;\n  }\n  if (sizeChange) {\n    this._crossHairs = null;\n  }\n  Tile.lastDeepestLevel = Tile.deepestLevel;\n  RenderTriangle.width = this.renderContext.width = this.canvas.width;\n  RenderTriangle.height = this.renderContext.height = this.canvas.height;\n  Tile.tilesInView = 0;\n  Tile.tilesTouched = 0;\n  Tile.deepestLevel = 0;\n  SpaceTimeController.set_metaNow(new Date());\n  if (this.get__mover() != null) {\n    SpaceTimeController.set_now(this.get__mover().get_currentDateTime());\n    Planets.updatePlanetLocations(this.get_solarSystemMode());\n    if (this.get__mover() != null) {\n      const newCam = this.get__mover().get_currentPosition();\n      this.renderContext.targetCamera = newCam.copy();\n      this.renderContext.viewCamera = newCam.copy();\n      if (this.renderContext.space && Settings.get_active().get_galacticMode()) {\n        const gPoint = Coordinates.j2000toGalactic(newCam.get_RA() * 15, newCam.get_dec());\n        this.renderContext.targetAlt = this.renderContext.alt = gPoint[1];\n        this.renderContext.targetAz = this.renderContext.az = gPoint[0];\n      }\n      else if (this.renderContext.space && Settings.get_active().get_localHorizonMode()) {\n        const currentAltAz = Coordinates.equitorialToHorizon(Coordinates.fromRaDec(newCam.get_RA(), newCam.get_dec()), SpaceTimeController.get_location(), SpaceTimeController.get_now());\n        this.renderContext.targetAlt = this.renderContext.alt = currentAltAz.get_alt();\n        this.renderContext.targetAz = this.renderContext.az = currentAltAz.get_az();\n      }\n      if (this.get__mover().get_complete()) {\n        WWTControl.scriptInterface._fireArrived(this.get__mover().get_currentPosition().get_RA(), this.get__mover().get_currentPosition().get_dec(), WWTControl.singleton.renderContext.viewCamera.zoom);\n        this.set__mover(null);\n        this._notifyMoveComplete();\n      }\n    }\n  }\n  else {\n    SpaceTimeController.updateClock();\n    Planets.updatePlanetLocations(this.get_solarSystemMode());\n    this._updateViewParameters();\n  }\n  this.renderContext.clear();\n\n  this.renderContext.setupMatricesSpace3d(this.renderContext.width, this.renderContext.height);\n  this.renderContext.drawImageSet(this.renderContext.get_backgroundImageset(), 100);\n  if (this.renderContext.get_foregroundImageset() != null) {\n    if (this.renderContext.get_foregroundImageset().get_dataSetType() !== this.renderContext.get_backgroundImageset().get_dataSetType()) {\n      this.renderContext.set_foregroundImageset(null);\n    }\n    else {\n      if (this.renderContext.viewCamera.opacity !== 100 && this.renderContext.gl == null) {\n        if (this._foregroundCanvas.width !== this.renderContext.width || this._foregroundCanvas.height !== this.renderContext.height) {\n          this._foregroundCanvas.width = this.renderContext.width;\n          this._foregroundCanvas.height = this.renderContext.height;\n        }\n        var saveDevice = this.renderContext.device;\n        this._fgDevice.clearRect(0, 0, this.renderContext.width, this.renderContext.height);\n        this.renderContext.device = this._fgDevice;\n        this.renderContext.drawImageSet(this.renderContext.get_foregroundImageset(), 100);\n        this.renderContext.device = saveDevice;\n        this.renderContext.device.save();\n        this.renderContext.device.globalAlpha = this.renderContext.viewCamera.opacity / 100;\n        this.renderContext.device.drawImage(this._foregroundCanvas, 0, 0);\n        this.renderContext.device.restore();\n      }\n      else {\n        this.renderContext.drawImageSet(this.renderContext.get_foregroundImageset(), this.renderContext.viewCamera.opacity);\n      }\n    }\n  }\n  if (this.uiController != null) {\n    this.uiController.render(this.renderContext);\n  }\n  else {\n    Annotation.prepBatch(this.renderContext);\n    for (const item of this._annotations) {\n      item.draw(this.renderContext);\n    }\n    Annotation.drawBatch(this.renderContext);\n    if ((Date.now() - this._lastMouseMove) > 400) {\n      var raDecDown = this.getCoordinatesForScreenPoint(this._hoverTextPoint.x, this._hoverTextPoint.y);\n      this._annotationHover(raDecDown.x, raDecDown.y, this._hoverTextPoint.x, this._hoverTextPoint.y);\n      this._lastMouseMove = new Date(2100, 1, 1);\n    }\n    if (this._hoverText) {\n      this._drawHoverText(this.renderContext);\n    }\n  }\n\n  for (const imageset in this.renderContext.get_catalogHipsImagesets()) {\n    if (imageset.get_hipsProperties().get_catalogSpreadSheetLayer().enabled && imageset.get_hipsProperties().get_catalogSpreadSheetLayer().lastVersion === imageset.get_hipsProperties().get_catalogSpreadSheetLayer().get_version()) {\n      this.renderContext.drawImageSet(imageset, 100);\n    }\n  }\n  this.constellation = Constellations.containment.findConstellationForPoint(this.renderContext.viewCamera.get_RA(), this.renderContext.viewCamera.get_dec());\n  Planets.drawPlanets(this.renderContext, 1);\n  this._drawSkyOverlays();\n\n  if (this.blazeOverlay === undefined || this.alphaOverlay === undefined) {\n    const textOverlays = makeTextOverlays();\n    textOverlays.forEach(useCustomGlyphs);\n    [this.blazeOverlay, this.alphaOverlay] = textOverlays;\n  }\n\n  if (showBlazeOverlay) {\n    this.blazeOverlay.viewTransform = Grids._altAzTextBatch?.viewTransform;\n    this.blazeOverlay.draw(this.renderContext, 1, Color.fromArgb(255, 255, 255, 255));\n  }\n  if (showAlphaOverlay) {\n    this.alphaOverlay.viewTransform = Grids._altAzTextBatch?.viewTransform;\n    this.alphaOverlay.draw(this.renderContext, 1, Color.fromArgb(255, 255, 255, 255));\n  }\n\n  Annotation2.prepBatch(this.renderContext);\n  for (const item of Annotation2.annotations) {\n    item.draw(this.renderContext);\n  }\n  Annotation2.drawBatch(this.renderContext);\n\n  const worldSave = this.renderContext.get_world();\n  const viewSave = this.renderContext.get_view();\n  const projSave = this.renderContext.get_projection();\n  if (Settings.get_current().get_showCrosshairs()) {\n    this._drawCrosshairs(this.renderContext);\n  }\n\n  const tilesAllLoaded = !TileCache.get_queueCount();\n  this.renderContext.setupMatricesOverlays();\n  this._fadeFrame();\n  this._frameCount++;\n  TileCache.decimateQueue();\n  TileCache.processQueue(this.renderContext);\n  Tile.currentRenderGeneration++;\n  if (!TourPlayer.get_playing()) {\n    this.set_crossFadeFrame(false);\n  }\n  this.renderContext.set_world(worldSave);\n  this.renderContext.set_view(viewSave);\n  this.renderContext.set_projection(projSave);\n  const now = Date.now();\n  const ms = now - this._lastUpdate;\n  if (ms > 1000) {\n    this._lastUpdate = now;\n    this._frameCount = 0;\n    RenderTriangle.trianglesRendered = 0;\n    RenderTriangle.trianglesCulled = 0;\n  }\n  if (this.capturingVideo) {\n    if ((this.dumpFrameParams != null) && (!this.dumpFrameParams.waitDownload || tilesAllLoaded)) {\n      this.captureFrameForVideo(this._videoBlobReady, this.dumpFrameParams.width, this.dumpFrameParams.height, this.dumpFrameParams.format);\n      SpaceTimeController.nextFrame();\n    }\n    if (SpaceTimeController.get_doneDumping()) {\n      SpaceTimeController.frameDumping = false;\n      SpaceTimeController.cancelFrameDump = false;\n      this.capturingVideo = false;\n    }\n  }\n}\n","// wwt_playback_control.ts\n\n// Vue composable for controlling the playback and playrate of the WWT engine\nimport { ref, watch } from \"vue\";\nimport { engineStore } from \"@wwtelescope/engine-pinia\";\ntype WWTEngineStore = ReturnType<typeof engineStore>;\nexport function usePlaybackControl(store: WWTEngineStore, debug = false) {\n  console.log(\"usePlaybackControl\");\n  const clockRate = ref(1);\n  const timePlaying = ref(false);\n  \n  const play = () => { timePlaying.value = true; };\n  \n  const pause = () => { timePlaying.value = false; };\n\n  const togglePlay = () => { timePlaying.value = !timePlaying.value; };\n  \n  \n  function setSpeed(rate: number) {\n    clockRate.value = rate;\n  }\n  \n\n  store.waitForReady().then(() => {\n    watch(clockRate, (newRate) => {\n      console.log(\"playbackRate changed\", newRate);\n      store.setClockRate(newRate);\n    });\n\n    watch(timePlaying, (newIsPlaying) => {\n      console.log(\"isPlaying changed\", newIsPlaying);\n      store.setClockSync(newIsPlaying);\n    });\n    store.setClockRate(clockRate.value);\n    store.setClockSync(timePlaying.value);\n  });\n  \n  // watch everything and log out what changes\n  if (debug) {\n    watch(clockRate, (newRate) => {\n      console.log(\"playbackRate changed\", newRate);\n    });\n    watch(timePlaying, (newIsPlaying) => {\n      console.log(\"isPlaying changed\", newIsPlaying);\n    });\n  }\n\n  \n  \n\n    \n    \n\n\n  return {\n    play, \n    pause,\n    togglePlay,\n    setSpeed,\n    timePlaying,\n    clockRate\n  };\n  \n}\n    ","import { Ref, computed} from 'vue';\nimport { getTimezoneOffset, formatInTimeZone } from \"date-fns-tz\";\nimport tzlookup from \"tz-lookup\";\nimport { LocationDeg } from './types';\n\n\n\nexport function useTimezone(selectedLocation: Ref<LocationDeg>) {\n  // selectedDate keeps track of the time the user has selected\n  \n  const selectedTimezone = computed(() => tzlookup(selectedLocation.value.latitudeDeg, selectedLocation.value.longitudeDeg));\n\n  // what we add to utc time to get the localized time\n  const selectedTimezoneOffset = computed(() => getTimezoneOffset(selectedTimezone.value));\n  const shortTimezone = computed(() => formatInTimeZone(new Date(), selectedTimezone.value, \"zzz\"));\n\n  const browserTimezone = Intl.DateTimeFormat().resolvedOptions().timeZone;\n  // this is added to (new Date()).getHours() to get UTC hours\n  const browserTimezoneOffset = new Date().getTimezoneOffset() * 60 * 1000; // in milliseconds\n  \n  \n  console.log('Browser timezone:', browserTimezone);\n  console.log('Browser timezone offset:', browserTimezoneOffset);\n  console.log('Selected timezone:', selectedTimezone.value);\n  console.log('Selected timezone offset:', selectedTimezoneOffset.value);\n  \n  return {\n    selectedTimezone,\n    shortTimezone,\n    selectedTimezoneOffset,\n    browserTimezone,\n    browserTimezoneOffset,\n  };\n}","import { defineComponent as _defineComponent } from 'vue'\nimport { resolveComponent as _resolveComponent, createVNode as _createVNode, createElementVNode as _createElementVNode, vShow as _vShow, withDirectives as _withDirectives, Transition as _Transition, withCtx as _withCtx, withKeys as _withKeys, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, createTextVNode as _createTextVNode, createBlock as _createBlock, unref as _unref, normalizeStyle as _normalizeStyle, mergeProps as _mergeProps } from \"vue\"\n\nconst _hoisted_1 = { id: \"main-content\" }\nconst _hoisted_2 = {\n  class: \"modal\",\n  id: \"modal-loading\"\n}\nconst _hoisted_3 = /*#__PURE__*/_createElementVNode(\"div\", { class: \"container\" }, [\n  /*#__PURE__*/_createElementVNode(\"div\", { class: \"spinner\" }),\n  /*#__PURE__*/_createElementVNode(\"p\", null, \"Loading \")\n], -1)\nconst _hoisted_4 = [\n  _hoisted_3\n]\nconst _hoisted_5 = { id: \"top-content\" }\nconst _hoisted_6 = { id: \"left-buttons\" }\nconst _hoisted_7 = {\n  id: \"controls\",\n  class: \"control-icon-wrapper\"\n}\nconst _hoisted_8 = { id: \"controls-top-row\" }\nconst _hoisted_9 = {\n  key: 0,\n  id: \"control-checkboxes\"\n}\nconst _hoisted_10 = { id: \"center-buttons\" }\nconst _hoisted_11 = { id: \"right-buttons\" }\nconst _hoisted_12 = /*#__PURE__*/_createElementVNode(\"div\", { id: \"empty-space\" }, null, -1)\nconst _hoisted_13 = { id: \"playback-controls\" }\nconst _hoisted_14 = /*#__PURE__*/_createElementVNode(\"span\", { class: \"jl_icon_button_text\" }, \"Show me how to find the Nova!\", -1)\nconst _hoisted_15 = { class: \"jl_icon_button_text\" }\nconst _hoisted_16 = /*#__PURE__*/_createElementVNode(\"span\", null, \" Go to T CrB\", -1)\nconst _hoisted_17 = { id: \"bottom-content\" }\nconst _hoisted_18 = /*#__PURE__*/_createElementVNode(\"div\", { style: {\"flex-grow\":\"1\"} }, null, -1)\nconst _hoisted_19 = { id: \"date-picker\" }\nconst _hoisted_20 = { class: \"video-wrapper\" }\nconst _hoisted_21 = /*#__PURE__*/_createElementVNode(\"video\", {\n  controls: \"\",\n  id: \"info-video\"\n}, [\n  /*#__PURE__*/_createElementVNode(\"source\", {\n    src: \"\",\n    type: \"video/mp4\"\n  })\n], -1)\n\nimport { storeToRefs } from \"pinia\";\nimport { ref, reactive, computed, onMounted, nextTick, watch } from \"vue\";\nimport { Color, Grids, Place, Settings, WWTControl } from \"@wwtelescope/engine\";\nimport { Classification, SolarSystemObjects } from \"@wwtelescope/engine-types\";\nimport { GotoRADecZoomParams, engineStore } from \"@wwtelescope/engine-pinia\";\nimport { BackgroundImageset, skyBackgroundImagesets, supportsTouchscreen, blurActiveElement, useWWTKeyboardControls, D2R, LocationDeg } from \"@cosmicds/vue-toolkit\";\n\nimport {throttle} from './debounce';\n\nimport { createHorizon, createSky, removeHorizon, equatorialToHorizontal } from \"./annotations\";\nimport { EquatorialRad, HorizontalRad, LocationRad } from \"./types\";\nimport { makeAltAzGridText, setupConstellationFigures, renderOneFrame } from \"./wwt-hacks\";\n\nimport { usePlaybackControl } from \"./wwt_playback_control\";\nimport { useTimezone } from \"./timezones\";\n\ntype SheetType = \"text\" | \"video\";\ntype CameraParams = Omit<GotoRADecZoomParams, \"instant\">;\nexport interface MainComponentProps {\n  wwtNamespace?: string;\n  initialCameraParams?: CameraParams;\n}\n\nconst clockRate = 1000;\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'BlazeStarNova',\n  props: {\n    wwtNamespace: { default: \"MainComponent\" },\n    initialCameraParams: { default: () => {\n    return {\n      raRad: 4.001238944138198,\n      decRad: 0.5307600894728279,\n      zoomDeg: 180\n    };\n  } }\n  },\n  setup(__props: any) {\n\nconst store = engineStore();\nconst { isTourPlaying } = storeToRefs(store);\n\nuseWWTKeyboardControls(store);\n\nconst playbackControl = usePlaybackControl(store, true);\n// initialize playback. \nplaybackControl.setSpeed(1000);\nplaybackControl.pause();\n// destructure playbackControl\nconst { timePlaying } = playbackControl;\n\nconst touchscreen = supportsTouchscreen();\n// const { smAndDown } = useDisplay();\n\n\n\nconst props = __props;\n\nconst splash = new URLSearchParams(window.location.search).get(\"splash\")?.toLowerCase() !== \"false\";\nconst showSplashScreen = ref(splash);\nconst backgroundImagesets = reactive<BackgroundImageset[]>([]);\nconst sheet = ref<SheetType | null>(null);\nconst layersLoaded = ref(false);\nconst positionSet = ref(false);\nconst accentColor = ref(\"#f7bb48\");\nconst buttonColor = ref(\"#f7bb48\");\n// const tab = ref(0);\nconst showHorizon = ref(true);\nconst showAltAzGrid = ref(true);\nconst showControls = ref(false);\nconst showConstellations = ref(true);\nconst showBlazeOverlay = ref(true);\nconst showAlphaOverlay = ref(true);\nconst crbBelowHorizon = ref(true);\nconst _showDatePicker= ref(false);\n\nconst originalFrameRender = WWTControl.singleton.renderOneFrame.bind(WWTControl.singleton);\nconst boundRenderOneFrame = renderOneFrame.bind(WWTControl.singleton);\nconst newFrameRender = function() { \n  boundRenderOneFrame(showBlazeOverlay.value, showAlphaOverlay.value);\n};\nlet beforeTourTime: Date = new Date();\n\n// For now, we're not allowing a user to change this\nconst sunPlace = new Place();\nsunPlace.set_names([\"Sun\"]);\nsunPlace.set_classification(Classification.solarSystem);\nsunPlace.set_target(SolarSystemObjects.sun);\nsunPlace.set_zoomLevel(20);\n\nconst crbPlace = new Place();\ncrbPlace.set_RA(15 + 59 / 60 + 30.1622 / 3600);\ncrbPlace.set_dec(25 + 55 / 60 + 12.613 / 3600);\n\n\n\n// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-ignore\nconst wwtSettings: Settings = Settings.get_active();\nfunction getWWTLocation(): LocationRad {\n  return {\n    longitudeRad: wwtSettings.get_locationLng() * D2R,\n    latitudeRad: wwtSettings.get_locationLat() * D2R,\n  };\n}\n\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nconst blazeStarLocation: EquatorialRad = {\n  raRad: (15 + 59 / 60 + 30.1622 / 3600) * 15 * D2R,\n  decRad: (25 + 55 / 60 + 12.613 / 3600) * D2R,\n};\n\n\nfunction goToTCrB(instant=false) {\n  store.gotoRADecZoom({\n    raRad: blazeStarLocation.raRad,\n    decRad: blazeStarLocation.decRad,\n    zoomDeg: 180,\n    instant: instant,\n  });\n}\n// create selectedDate by default is today at 9pm localtime\nfunction todayAt9pm() {\n  // get's today's date and \n  // sets time time to 9pm local time\n  const today = new Date();\n  today.setHours(21, 0, 0, 0);\n  return today;\n}\n\nconst selectedDate = ref(todayAt9pm());\n\nfunction updateDate(value: Date) {\n  selectedDate.value = value;\n}\nconst throttledUpdateDate = throttle(updateDate, 500);\n\nconst showLocationSelector = ref(false);\n\nconst selectedLocation = ref<LocationDeg>({\n  longitudeDeg: -71.1056,\n  latitudeDeg: 42.3581,\n});\n\n// useTimezone also provides selectedTimezone and browserTimezone\nconst { shortTimezone, selectedTimezoneOffset, browserTimezoneOffset} = useTimezone(selectedLocation);\n\n\n// faking localization because\n// <date-time-picker> and <time-display> are not timezone aware\nconst localSelectedDate = computed({\n  // if you console log this date it will still say the local timezone \n  // as determined by the browser Intl.DateTimeFormat().resolvedOptions().timeZone\n  // but we have manually offset it so the hours are correct for the selected timezone\n  get: () => {\n    const time = selectedDate.value.getTime();\n    const fakeUTC = time + browserTimezoneOffset;\n    return new Date(fakeUTC + selectedTimezoneOffset.value);\n  },\n  set: (value: Date) => {\n    // get local time\n    const time = value.getTime();\n    // undo fake localization\n    const newTime = time - selectedTimezoneOffset.value - browserTimezoneOffset;\n    selectedDate.value = new Date(newTime);\n  }\n});\n\n\nfunction setWWTLocation(location: LocationDeg) {\n  wwtSettings.set_locationLat(location.latitudeDeg);\n  wwtSettings.set_locationLng(location.longitudeDeg);\n  console.log(\"Setting location to\", location);\n}\n\nonMounted(() => {\n  store.waitForReady().then(async () => {\n    skyBackgroundImagesets.forEach(iset => backgroundImagesets.push(iset));\n\n    store.setBackgroundImageByName(\"Tycho (Synthetic, Optical)\");\n\n    // If there are layers to set up, do that here!\n    layersLoaded.value = true;\n\n    store.setTime(selectedDate.value);\n    setWWTLocation(selectedLocation.value);\n\n    store.setClockSync(timePlaying.value);\n    store.setClockRate(clockRate);\n\n    store.applySetting([\"localHorizonMode\", true]);\n    store.applySetting([\"showAltAzGrid\", showAltAzGrid.value]);\n    store.applySetting([\"showAltAzGridText\", showAltAzGrid.value]);\n    store.applySetting([\"altAzGridColor\", Color.fromArgb(180, 133, 201, 254)]);\n    store.applySetting([\"showConstellationLabels\", showConstellations.value]);\n    store.applySetting([\"showConstellationFigures\", showConstellations.value]);\n    updateHorizonAndSky();\n\n    // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n    // @ts-ignore\n    Grids._makeAltAzGridText = makeAltAzGridText;\n\n    // We need to render one frame ahead of time\n    // as there's a lot of setup done on the first frame\n    // render that we need to use\n    WWTControl.singleton.renderOneFrame();\n\n    // Hack the engine to display our Annotation2 annotations\n    // which go in front of the planet layer\n    // as well as our custom text overlays\n    // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n    // @ts-ignore\n    WWTControl.singleton.renderOneFrame = newFrameRender;\n    setupConstellationFigures();\n\n    setInterval(() => {\n      if (timePlaying.value) {\n        updateHorizonAndSky(store.currentTime); \n        updateCrbBelowHorizon(store.currentTime);\n        throttledUpdateDate(new Date(store.currentTime));\n      }\n    }, 10);\n\n    // We want to make sure that the location change happens AFTER\n    // the camera reposition caused by local horizon mode.\n    // TODO: What is a better way to do this?\n    setTimeout(() => {\n      store.gotoRADecZoom({\n        ...props.initialCameraParams,\n        instant: true\n      }).then(() => {\n        updateHorizonAndSky();\n        positionSet.value = true;\n      });\n    }, 50);\n  });\n});\n\nconst ready = computed(() => layersLoaded.value && positionSet.value);\n\n/* `isLoading` is a bit redundant here, but it could potentially have independent logic */\nconst isLoading = computed(() => !ready.value);\n\nfunction getSunPosition(when: Date | null): EquatorialRad & HorizontalRad {\n  const location = getWWTLocation();\n  const sunAltAz = equatorialToHorizontal(sunPlace.get_RA() * 15 * D2R,\n    sunPlace.get_dec() * D2R,\n    location.latitudeRad,\n    location.longitudeRad,\n    when ?? store.currentTime);\n\n  return {\n    raRad: sunPlace.get_RA() * 15 * D2R,\n    decRad: sunPlace.get_dec() * D2R,\n    ...sunAltAz\n  };\n}\n\nfunction getCrbAlt(when: Date | null = null) {\n  const location = getWWTLocation();\n  const crbAltAz = equatorialToHorizontal(\n    crbPlace.get_RA() * 15 * D2R,\n    crbPlace.get_dec() * D2R,\n    location.latitudeRad,\n    location.longitudeRad,\n    when ?? store.currentTime);\n\n  return crbAltAz.altRad;\n}\n\n/* Properties related to device/screen characteristics */\n// TODO: This seems to be giving the wrong value? Investigate why\n// const smallSize = computed(() => smAndDown);\n\n/* This lets us inject component data into element CSS */\nconst cssVars = computed(() => {\n  // get the text-bottom-sheet id height and subtract it from 100vh\n  return {\n    \"--accent-color\": accentColor.value,\n    \"--app-content-height\": showTextSheet.value ? \"66%\" : \"100%\",\n  };\n});\n\n\n/**\n  Computed flags that control whether the relevant dialogs display.\n  The `sheet` data member stores which sheet is open, so these are just\n  computed wrappers around modifying/querying that which can be used as\n  dialog v-model values\n*/\nconst showTextSheet = computed({\n  get() {\n    return sheet.value === \"text\";\n  },\n  set(_value: boolean) {\n    selectSheet(\"text\");\n  }\n});\n\nconst showVideoSheet = computed({\n  get() {\n    return sheet.value === \"video\";\n  },\n  set(value: boolean) {\n    selectSheet(\"video\");\n    if (!value) {\n      const video = document.querySelector(\"#info-video\") as HTMLVideoElement;\n      video.pause();\n    }\n  }\n});\n\n/**\n  This is convenient if there's any other logic that we want to run\n  when the splash screen is closed\n*/\nfunction closeSplashScreen() {\n  showSplashScreen.value = false;\n}\n\nfunction selectSheet(sheetType: SheetType | null) {\n  if (sheet.value === sheetType) {\n    sheet.value = null;\n    nextTick(() => {\n      blurActiveElement();\n    });\n  } else {\n    sheet.value = sheetType;\n  }\n}\n\nfunction removeSky() {\n  store.clearAnnotations();\n}\n\n\nfunction updateHorizonAndSky(when: Date | null = null) {\n  try {\n    removeHorizon();\n    removeSky();\n  } finally {\n    const location = getWWTLocation();\n    if (showHorizon.value) {\n      const time = when ?? store.currentTime;\n      createHorizon({ location, opacity: 0.95, when: time });\n      const sunPosition = getSunPosition(time);\n      const opacity = skyOpacityForSunAlt(sunPosition.altRad);\n      store.setForegroundOpacity((1 - opacity) * 100);\n      createSky({ location, when: time, opacity });\n    }\n  }\n}\n\nfunction updateCrbBelowHorizon(when: Date | null = null) {\n  const alt = getCrbAlt(when);\n  crbBelowHorizon.value = alt <= 0;\n}\n\nfunction skyOpacityForSunAlt(sunAltRad: number) {\n  const civilTwilight = -6 * D2R;\n  const astronomicalTwilight = 3 * civilTwilight;\n  \n  return (1 + Math.atan(Math.PI * sunAltRad / (-astronomicalTwilight))) / 2;\n}\n\nfunction clearCurrentTour() {\n  // NB: Both of these calls are necessary\n  WWTControl.singleton.stopCurrentTour();\n  WWTControl.singleton.uiController = null;\n}\n\nfunction playPauseTour() {\n  if (!isTourPlaying.value) {\n    beforeTourTime = store.currentTime;\n    store.loadTour({ url: `${window.location.origin}/FindingCoronaBorealis.WTT`, play: true });\n  } else {\n    clearCurrentTour();\n  }\n}\n\nfunction onTourPlayingChange(playing: boolean) {\n  WWTControl.singleton.renderOneFrame = playing ? originalFrameRender : newFrameRender;\n  if (!playing) {\n    clearCurrentTour();\n    store.applySetting([\"localHorizonMode\", true]);\n    store.gotoRADecZoom({\n      raRad: store.raRad,\n      decRad: store.decRad,\n      zoomDeg: store.zoomDeg,\n      rollRad: 0,\n      instant: true,\n    });\n    store.setTime(beforeTourTime);\n    WWTControl.singleton.renderOneFrame();\n\n    // Not a huge fan of this, but `nextTick` wasn't working\n    setTimeout(updateHorizonAndSky, 100);\n  }\n}\n\n\nfunction logWWTState() {\n  const loc = getWWTLocation();\n  const locDeg = {\n    latitudeDeg: loc.latitudeRad * 180 / Math.PI,\n    longitudeDeg: loc.longitudeRad * 180 / Math.PI,\n  };\n  console.log(getWWTLocation());\n  console.table({\n    time: store.currentTime,\n    location: locDeg,\n    selectedLocation: selectedLocation.value,\n    showHorizon: showHorizon.value,\n    showAltAzGrid: showAltAzGrid.value,\n    showConstellations: showConstellations.value,\n    crbBelowHorizon: crbBelowHorizon.value,\n  });\n}\n\n\nfunction set9pm() {\n  const time = new Date(selectedDate.value.getTime());\n  time.setHours(21, 0, 0, 0);\n  selectedDate.value = time;\n}\n\nfunction setMidnight(){\n  const time = new Date(selectedDate.value.getTime());\n  time.setHours(23, 59, 0, 0);\n  selectedDate.value = time;\n}\n\n\nwatch(showHorizon, (_show) => updateHorizonAndSky());\nwatch(isTourPlaying, onTourPlayingChange);\n\nwatch(showAltAzGrid, (show) => {\n  store.applySetting([\"showAltAzGrid\", show]);\n});\n\nwatch(showConstellations, (show) => {\n  store.applySetting([\"showConstellationLabels\", show]);\n  store.applySetting([\"showConstellationFigures\", show]);\n});\n\n\nwatch(selectedDate, (date) => {\n  // if we are playing this already getting updated\n  store.setTime(date);\n  updateHorizonAndSky(date);\n  updateCrbBelowHorizon(date);\n  WWTControl.singleton.renderOneFrame();\n});\n\nwatch(selectedLocation, (location: LocationDeg) => {\n  setWWTLocation(location);\n  updateHorizonAndSky();\n  updateCrbBelowHorizon();\n  WWTControl.singleton.renderOneFrame();\n});\n\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_WorldWideTelescope = _resolveComponent(\"WorldWideTelescope\")!\n  const _component_splash_screen = _resolveComponent(\"splash-screen\")!\n  const _component_icon_button = _resolveComponent(\"icon-button\")!\n  const _component_font_awesome_icon = _resolveComponent(\"font-awesome-icon\")!\n  const _component_v_checkbox = _resolveComponent(\"v-checkbox\")!\n  const _component_location_selector = _resolveComponent(\"location-selector\")!\n  const _component_geolocation_button = _resolveComponent(\"geolocation-button\")!\n  const _component_v_card = _resolveComponent(\"v-card\")!\n  const _component_v_dialog = _resolveComponent(\"v-dialog\")!\n  const _component_v_chip = _resolveComponent(\"v-chip\")!\n  const _component_v_icon = _resolveComponent(\"v-icon\")!\n  const _component_credit_logos = _resolveComponent(\"credit-logos\")!\n  const _component_time_display = _resolveComponent(\"time-display\")!\n  const _component_date_time_picker = _resolveComponent(\"date-time-picker\")!\n  const _component_v_overlay = _resolveComponent(\"v-overlay\")!\n  const _component_bottom_sheet = _resolveComponent(\"bottom-sheet\")!\n  const _component_v_app = _resolveComponent(\"v-app\")!\n\n  return (_openBlock(), _createBlock(_component_v_app, {\n    id: \"app\",\n    style: _normalizeStyle(cssVars.value)\n  }, {\n    default: _withCtx(() => [\n      _createElementVNode(\"div\", _hoisted_1, [\n        _createVNode(_component_WorldWideTelescope, { \"wwt-namespace\": _ctx.wwtNamespace }, null, 8, [\"wwt-namespace\"]),\n        _createVNode(_component_splash_screen, {\n          modelValue: showSplashScreen.value,\n          \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((showSplashScreen).value = $event)),\n          onClose: closeSplashScreen,\n          \"css-vars\": cssVars.value\n        }, null, 8, [\"modelValue\", \"css-vars\"]),\n        _createVNode(_Transition, { name: \"fade\" }, {\n          default: _withCtx(() => [\n            _withDirectives(_createElementVNode(\"div\", _hoisted_2, _hoisted_4, 512), [\n              [_vShow, isLoading.value]\n            ])\n          ]),\n          _: 1\n        }),\n        _createElementVNode(\"div\", _hoisted_5, [\n          _createElementVNode(\"div\", _hoisted_6, [\n            _createVNode(_component_icon_button, {\n              modelValue: showTextSheet.value,\n              \"onUpdate:modelValue\": _cache[1] || (_cache[1] = ($event: any) => ((showTextSheet).value = $event)),\n              \"fa-icon\": \"book-open\",\n              color: buttonColor.value,\n              \"tooltip-text\": showTextSheet.value ? 'Hide Info' : 'Learn More',\n              \"tooltip-location\": \"start\"\n            }, null, 8, [\"modelValue\", \"color\", \"tooltip-text\"]),\n            _createElementVNode(\"div\", _hoisted_7, [\n              _createElementVNode(\"div\", _hoisted_8, [\n                _createVNode(_component_font_awesome_icon, {\n                  size: \"lg\",\n                  color: accentColor.value,\n                  icon: showControls.value ? `chevron-down` : `gear`,\n                  onClick: _cache[2] || (_cache[2] = ($event: any) => (showControls.value = !showControls.value)),\n                  onKeyup: _cache[3] || (_cache[3] = _withKeys(($event: any) => (showControls.value = !showControls.value), [\"enter\"])),\n                  tabindex: \"0\"\n                }, null, 8, [\"color\", \"icon\"])\n              ]),\n              (showControls.value)\n                ? (_openBlock(), _createElementBlock(\"div\", _hoisted_9, [\n                    _createVNode(_component_v_checkbox, {\n                      color: accentColor.value,\n                      modelValue: showAltAzGrid.value,\n                      \"onUpdate:modelValue\": _cache[4] || (_cache[4] = ($event: any) => ((showAltAzGrid).value = $event)),\n                      onKeyup: _cache[5] || (_cache[5] = _withKeys(($event: any) => (showAltAzGrid.value = !showAltAzGrid.value), [\"enter\"])),\n                      label: \"Sky Grid\",\n                      \"hide-details\": \"\"\n                    }, null, 8, [\"color\", \"modelValue\"]),\n                    _createVNode(_component_v_checkbox, {\n                      color: accentColor.value,\n                      modelValue: showHorizon.value,\n                      \"onUpdate:modelValue\": _cache[6] || (_cache[6] = ($event: any) => ((showHorizon).value = $event)),\n                      onKeyup: _cache[7] || (_cache[7] = _withKeys(($event: any) => (showHorizon.value = !showHorizon.value), [\"enter\"])),\n                      label: \"Horizon\",\n                      \"hide-details\": \"\"\n                    }, null, 8, [\"color\", \"modelValue\"]),\n                    _createVNode(_component_v_checkbox, {\n                      color: accentColor.value,\n                      modelValue: showConstellations.value,\n                      \"onUpdate:modelValue\": _cache[8] || (_cache[8] = ($event: any) => ((showConstellations).value = $event)),\n                      onKeyup: _cache[9] || (_cache[9] = _withKeys(($event: any) => (showConstellations.value = !showConstellations.value), [\"enter\"])),\n                      label: \"Constellations\",\n                      \"hide-details\": \"\"\n                    }, null, 8, [\"color\", \"modelValue\"]),\n                    _createVNode(_component_v_checkbox, {\n                      color: accentColor.value,\n                      modelValue: showBlazeOverlay.value,\n                      \"onUpdate:modelValue\": _cache[10] || (_cache[10] = ($event: any) => ((showBlazeOverlay).value = $event)),\n                      onKeyup: _cache[11] || (_cache[11] = _withKeys(($event: any) => (showBlazeOverlay.value = !showBlazeOverlay.value), [\"enter\"])),\n                      label: \"Blaze Star Location\",\n                      \"hide-details\": \"\"\n                    }, null, 8, [\"color\", \"modelValue\"]),\n                    _createVNode(_component_v_checkbox, {\n                      color: accentColor.value,\n                      modelValue: showAlphaOverlay.value,\n                      \"onUpdate:modelValue\": _cache[12] || (_cache[12] = ($event: any) => ((showAlphaOverlay).value = $event)),\n                      onKeyup: _cache[13] || (_cache[13] = _withKeys(($event: any) => (showAlphaOverlay.value = !showAlphaOverlay.value), [\"enter\"])),\n                      label: \"Alphecca Location\",\n                      \"hide-details\": \"\"\n                    }, null, 8, [\"color\", \"modelValue\"])\n                  ]))\n                : _createCommentVNode(\"\", true)\n            ])\n          ]),\n          _createElementVNode(\"div\", _hoisted_10, [\n            _createVNode(_component_icon_button, {\n              modelValue: showLocationSelector.value,\n              \"onUpdate:modelValue\": _cache[14] || (_cache[14] = ($event: any) => ((showLocationSelector).value = $event)),\n              \"fa-icon\": \"location-dot\",\n              color: buttonColor.value,\n              \"tooltip-text\": \"Select Location\",\n              \"tooltip-location\": \"start\"\n            }, null, 8, [\"modelValue\", \"color\"]),\n            _createVNode(_component_v_dialog, {\n              modelValue: showLocationSelector.value,\n              \"onUpdate:modelValue\": _cache[19] || (_cache[19] = ($event: any) => ((showLocationSelector).value = $event)),\n              \"max-width\": \"fit-content\",\n              transition: \"slide-y-transition\",\n              id: \"eclipse-prediction-sheet\"\n            }, {\n              default: _withCtx(() => [\n                _createVNode(_component_v_card, null, {\n                  default: _withCtx(() => [\n                    _createVNode(_component_font_awesome_icon, {\n                      style: {\"position\":\"absolute\",\"right\":\"12px\",\"top\":\"12px\",\"cursor\":\"pointer\",\"padding\":\"1em\",\"margin\":\"-1em\",\"z-index\":\"1000\"},\n                      icon: \"square-xmark\",\n                      size: \"xl\",\n                      onClick: _cache[15] || (_cache[15] = ($event: any) => (showLocationSelector.value = false)),\n                      onKeyup: _cache[16] || (_cache[16] = _withKeys(($event: any) => (showLocationSelector.value = false), [\"enter\"])),\n                      tabindex: \"0\",\n                      color: \"black\"\n                    }),\n                    _createVNode(_component_location_selector, {\n                      modelValue: selectedLocation.value,\n                      \"onUpdate:modelValue\": _cache[17] || (_cache[17] = ($event: any) => ((selectedLocation).value = $event))\n                    }, null, 8, [\"modelValue\"]),\n                    _createVNode(_component_geolocation_button, {\n                      debug: false,\n                      size: \"30px\",\n                      density: \"default\",\n                      elevation: \"5\",\n                      color: \"black\",\n                      onLocation: _cache[18] || (_cache[18] = ($event: any) => (selectedLocation.value = {longitudeDeg: $event.longitude, latitudeDeg: $event.latitude}))\n                    })\n                  ]),\n                  _: 1\n                })\n              ]),\n              _: 1\n            }, 8, [\"modelValue\"])\n          ]),\n          _createElementVNode(\"div\", _hoisted_11, [\n            (crbBelowHorizon.value)\n              ? (_openBlock(), _createBlock(_component_v_chip, { key: 0 }, {\n                  default: _withCtx(() => [\n                    _createTextVNode(\" Corona Borealis is Set \")\n                  ]),\n                  _: 1\n                }))\n              : _createCommentVNode(\"\", true),\n            _createElementVNode(\"button\", {\n              class: \"icon-wrapper jl_icon-button jl_debug\",\n              onClick: _cache[20] || (_cache[20] = () => updateHorizonAndSky())\n            }, \"Update Horizon and Sky\"),\n            _createElementVNode(\"button\", {\n              class: \"icon-wrapper jl_icon-button jl_debug\",\n              onClick: _cache[21] || (_cache[21] = () => updateCrbBelowHorizon())\n            }, \"Update CRB Below Horizon\"),\n            _createElementVNode(\"button\", {\n              class: \"icon-wrapper jl_icon-button jl_debug\",\n              onClick: _cache[22] || (_cache[22] = () => logWWTState())\n            }, \"Log WWT State\"),\n            _createElementVNode(\"button\", {\n              class: \"icon-wrapper jl_icon-button jl_debug\",\n              onClick: _cache[23] || (_cache[23] = () => _unref(WWTControl).singleton.renderOneFrame())\n            }, \"Render one frame\")\n          ])\n        ]),\n        _hoisted_12,\n        _createElementVNode(\"div\", _hoisted_13, [\n          _createVNode(_component_icon_button, {\n            onActivate: _cache[24] || (_cache[24] = () => playPauseTour()),\n            \"fa-icon\": _unref(isTourPlaying) ? 'stop' : 'play',\n            color: buttonColor.value,\n            \"tooltip-text\": _unref(isTourPlaying) ? 'Stop tour' : 'Play tour',\n            \"tooltip-location\": \"start\"\n          }, {\n            button: _withCtx(() => [\n              _hoisted_14\n            ]),\n            _: 1\n          }, 8, [\"fa-icon\", \"color\", \"tooltip-text\"]),\n          _createVNode(_component_icon_button, {\n            onActivate: _cache[25] || (_cache[25] = () => goToTCrB()),\n            \"fa-icon\": 'star',\n            color: buttonColor.value,\n            \"tooltip-text\": 'Go to T CrB',\n            \"tooltip-location\": \"start\"\n          }, {\n            button: _withCtx(() => [\n              _createElementVNode(\"span\", _hoisted_15, [\n                _createVNode(_component_v_icon, null, {\n                  default: _withCtx(() => [\n                    _createTextVNode(\"mdi-flare\")\n                  ]),\n                  _: 1\n                }),\n                _hoisted_16\n              ])\n            ]),\n            _: 1\n          }, 8, [\"color\"]),\n          _createElementVNode(\"button\", {\n            class: \"icon-wrapper jl_icon-button jl_debug\",\n            onClick: _cache[26] || (_cache[26] = ($event: any) => (selectedDate.value = new Date())),\n            style: _normalizeStyle({color: buttonColor.value})\n          }, [\n            _createVNode(_component_font_awesome_icon, { icon: \"clock\" }),\n            _createTextVNode(\"Set time to Now\")\n          ], 4),\n          _createElementVNode(\"button\", {\n            class: \"icon-wrapper jl_icon-button jl_debug\",\n            onClick: _cache[27] || (_cache[27] = ($event: any) => (selectedDate.value = todayAt9pm())),\n            style: _normalizeStyle({color: buttonColor.value})\n          }, [\n            _createVNode(_component_font_awesome_icon, { icon: \"clock\" }),\n            _createTextVNode(\"Set time to 9pm\")\n          ], 4)\n        ]),\n        _createElementVNode(\"div\", _hoisted_17, [\n          _createVNode(_component_credit_logos, {\n            style: {\"margin\":\"1em\"},\n            \"logo-size\": \"25px\"\n          }),\n          _hoisted_18,\n          _createVNode(_component_icon_button, {\n            \"fa-icon\": _unref(timePlaying) ? 'pause' : 'play',\n            color: buttonColor.value,\n            \"tooltip-text\": \"Let time move forward\",\n            \"tooltip-location\": \"start\",\n            onActivate: _cache[28] || (_cache[28] = ()=>{_unref(playbackControl).togglePlay()}),\n            style: {\"align-self\":\"center\"}\n          }, null, 8, [\"fa-icon\", \"color\"]),\n          _createElementVNode(\"div\", _hoisted_19, [\n            _createVNode(_component_v_overlay, {\n              activator: \"parent\",\n              \"location-strategy\": \"connected\",\n              location: \"top end\",\n              origin: \"bottom end\",\n              scrim: false,\n              style: _normalizeStyle(cssVars.value)\n            }, {\n              activator: _withCtx(({props}) => [\n                _createVNode(_component_v_card, _mergeProps(props, {\n                  class: \"td__card\",\n                  width: \"fit-content\",\n                  rounded: \"lg\",\n                  elevation: \"5\"\n                }), {\n                  default: _withCtx(() => [\n                    _createVNode(_component_time_display, {\n                      date: localSelectedDate.value,\n                      ampm: \"\",\n                      \"show-timezone\": \"\",\n                      timezone: _unref(shortTimezone)\n                    }, null, 8, [\"date\", \"timezone\"]),\n                    _createVNode(_component_v_icon, { class: \"td__icon\" }, {\n                      default: _withCtx(() => [\n                        _createTextVNode(\"mdi-cursor-default-click\")\n                      ]),\n                      _: 1\n                    })\n                  ]),\n                  _: 2\n                }, 1040)\n              ]),\n              default: _withCtx(() => [\n                _createVNode(_component_v_card, {\n                  width: \"fit-content\",\n                  elevation: \"5\"\n                }, {\n                  default: _withCtx(() => [\n                    _createVNode(_component_date_time_picker, {\n                      modelValue: localSelectedDate.value,\n                      \"onUpdate:modelValue\": _cache[32] || (_cache[32] = ($event: any) => ((localSelectedDate).value = $event)),\n                      \"editable-time\": true\n                    }, {\n                      default: _withCtx(() => [\n                        _createElementVNode(\"button\", {\n                          class: \"dtp__button\",\n                          onClick: _cache[29] || (_cache[29] = () => {_unref(playbackControl).pause(); set9pm(); goToTCrB()}),\n                          name: \"set-9pm\",\n                          \"aria-label\": \"Set time to 9pm\"\n                        }, \"9pm\"),\n                        _createElementVNode(\"button\", {\n                          class: \"dtp__button\",\n                          onClick: _cache[30] || (_cache[30] = () => {_unref(playbackControl).pause(); setMidnight(); goToTCrB()}),\n                          name: \"set-midnight\",\n                          \"aria-label\": \"Set time to Midnight\"\n                        }, \"Midnight\"),\n                        _createElementVNode(\"button\", {\n                          class: \"dtp__button\",\n                          onClick: _cache[31] || (_cache[31] = () => {_unref(playbackControl).pause(); selectedDate.value = new Date(); goToTCrB()}),\n                          name: \"set-now\",\n                          \"aria-label\": \"Set time to Now\"\n                        }, \"Now\")\n                      ]),\n                      _: 1\n                    }, 8, [\"modelValue\"])\n                  ]),\n                  _: 1\n                })\n              ]),\n              _: 1\n            }, 8, [\"style\"])\n          ])\n        ]),\n        _createVNode(_component_v_dialog, {\n          id: \"video-container\",\n          modelValue: showVideoSheet.value,\n          \"onUpdate:modelValue\": _cache[35] || (_cache[35] = ($event: any) => ((showVideoSheet).value = $event)),\n          transition: \"slide-y-transition\",\n          fullscreen: \"\"\n        }, {\n          default: _withCtx(() => [\n            _createElementVNode(\"div\", _hoisted_20, [\n              _createVNode(_component_font_awesome_icon, {\n                id: \"video-close-icon\",\n                class: \"close-icon\",\n                icon: \"times\",\n                size: \"lg\",\n                onClick: _cache[33] || (_cache[33] = ($event: any) => (showVideoSheet.value = false)),\n                onKeyup: _cache[34] || (_cache[34] = _withKeys(($event: any) => (showVideoSheet.value = false), [\"enter\"])),\n                tabindex: \"0\"\n              }),\n              _hoisted_21\n            ])\n          ]),\n          _: 1\n        }, 8, [\"modelValue\"]),\n        _createVNode(_component_bottom_sheet, {\n          cssVars: cssVars.value,\n          modelValue: showTextSheet.value,\n          \"onUpdate:modelValue\": _cache[36] || (_cache[36] = ($event: any) => ((showTextSheet).value = $event)),\n          \"accent-color\": accentColor.value,\n          touchscreen: _unref(touchscreen),\n          \"show-blaze-overlay\": showBlazeOverlay.value,\n          \"show-alpha-overlay\": showAlphaOverlay.value,\n          onToggleBlaze: _cache[37] || (_cache[37] = () => _unref(store).gotoRADecZoom({ raRad: _unref(crbPlace).get_RA() * 15 * _unref(D2R), decRad: _unref(crbPlace).get_dec() * _unref(D2R), zoomDeg: 90, instant: false })),\n          onToggleAlpha: _cache[38] || (_cache[38] = () => _unref(store).gotoRADecZoom({ raRad: 233.6719500 * _unref(D2R), decRad: 26.7146850 * _unref(D2R), zoomDeg: 90, instant: false }))\n        }, null, 8, [\"cssVars\", \"modelValue\", \"accent-color\", \"touchscreen\", \"show-blaze-overlay\", \"show-alpha-overlay\"])\n      ])\n    ]),\n    _: 1\n  }, 8, [\"style\"]))\n}\n}\n\n})","<template>\n  <v-app id=\"app\" :style=\"cssVars\">\n    <div id=\"main-content\">\n      <WorldWideTelescope :wwt-namespace=\"wwtNamespace\"></WorldWideTelescope>\n\n\n      <!-- This contains the splash screen content -->\n      <splash-screen\n        v-model=\"showSplashScreen\"\n        @close=\"closeSplashScreen\"\n        :css-vars=\"cssVars\"\n      />\n\n      <transition name=\"fade\">\n        <div class=\"modal\" id=\"modal-loading\" v-show=\"isLoading\">\n          <div class=\"container\">\n            <div class=\"spinner\"></div>\n            <p>Loading </p>\n          </div>\n        </div>\n      </transition>\n\n\n      <!-- This block contains the elements (e.g. icon buttons displayed at/near the top of the screen -->\n\n      <div id=\"top-content\">\n        <div id=\"left-buttons\">\n          <icon-button v-model=\"showTextSheet\" fa-icon=\"book-open\" :color=\"buttonColor\"\n            :tooltip-text=\"showTextSheet ? 'Hide Info' : 'Learn More'\" tooltip-location=\"start\">\n          </icon-button>\n          <!-- <icon-button v-model=\"showVideoSheet\" fa-icon=\"video\" :color=\"buttonColor\" tooltip-text=\"Watch video\"\n            tooltip-location=\"start\">\n          </icon-button> -->\n          \n          \n          <div id=\"controls\" class=\"control-icon-wrapper\">\n          <div id=\"controls-top-row\">\n            <font-awesome-icon size=\"lg\" :color=\"accentColor\" :icon=\"showControls ? `chevron-down` : `gear`\"\n              @click=\"showControls = !showControls\" @keyup.enter=\"showControls = !showControls\" tabindex=\"0\" />\n          </div>\n          \n          <div v-if=\"showControls\" id=\"control-checkboxes\">\n            <v-checkbox :color=\"accentColor\" v-model=\"showAltAzGrid\" @keyup.enter=\"showAltAzGrid = !showAltAzGrid\"\n              label=\"Sky Grid\" hide-details />\n            <v-checkbox :color=\"accentColor\" v-model=\"showHorizon\" @keyup.enter=\"showHorizon = !showHorizon\"\n              label=\"Horizon\" hide-details />\n            <v-checkbox :color=\"accentColor\" v-model=\"showConstellations\" @keyup.enter=\"showConstellations = !showConstellations\"\n              label=\"Constellations\" hide-details />\n            <v-checkbox :color=\"accentColor\" v-model=\"showBlazeOverlay\" @keyup.enter=\"showBlazeOverlay = !showBlazeOverlay\"\n              label=\"Blaze Star Location\" hide-details />\n            <v-checkbox :color=\"accentColor\" v-model=\"showAlphaOverlay\" @keyup.enter=\"showAlphaOverlay = !showAlphaOverlay\"\n              label=\"Alphecca Location\" hide-details />\n          </div>\n        </div>\n          \n        </div>\n        <div id=\"center-buttons\">\n          <icon-button\n            v-model=\"showLocationSelector\"\n            fa-icon=\"location-dot\"\n            :color=\"buttonColor\"\n            tooltip-text=\"Select Location\"\n            tooltip-location=\"start\"\n            ></icon-button>\n\n              <v-dialog\n                v-model=\"showLocationSelector\"\n                max-width=\"fit-content\"\n                transition=\"slide-y-transition\"\n                id=\"eclipse-prediction-sheet\"\n              >\n                <v-card>\n                    <font-awesome-icon\n                      style=\"position: absolute; right: 12px; top: 12px; cursor: pointer; padding: 1em; margin: -1em; z-index: 1000;\"\n                      icon=\"square-xmark\"\n                      size=\"xl\"\n                      @click=\"showLocationSelector = false\"\n                      @keyup.enter=\"showLocationSelector = false\"\n                      tabindex=\"0\"\n                      color=\"black\"\n                    ></font-awesome-icon>\n                    <location-selector\n                      v-model=\"selectedLocation\"\n                      />\n                    <geolocation-button\n                      :debug=\"false\"\n                      size=\"30px\"\n                      density=\"default\"\n                      elevation=\"5\"\n                      color=\"black\"\n                      @location=\"selectedLocation = {longitudeDeg: $event.longitude, latitudeDeg: $event.latitude}\"\n                    />\n                </v-card>\n              </v-dialog>\n                \n\n              \n        </div>\n        <div id=\"right-buttons\">\n          <v-chip\n            v-if=\"crbBelowHorizon\"\n          >\n            Corona Borealis is Set\n          </v-chip>\n          <button \n            class=\"icon-wrapper jl_icon-button jl_debug\" \n            @click=\"() => updateHorizonAndSky()\"\n            >Update Horizon and Sky</button>\n          <button\n            class=\"icon-wrapper jl_icon-button jl_debug\"\n            @click=\"() => updateCrbBelowHorizon()\"\n            >Update CRB Below Horizon</button>\n          <button\n            class=\"icon-wrapper jl_icon-button jl_debug\"\n            @click=\"() => logWWTState()\"\n            >Log WWT State</button>\n          <button\n            class=\"icon-wrapper jl_icon-button jl_debug\"\n            @click=\"() => WWTControl.singleton.renderOneFrame()\"\n            >Render one frame</button>\n        </div>\n      </div>\n\n      <!-- Date Picker -->\n       <div id=\"empty-space\">\n       </div>\n       <div id=\"playback-controls\">\n            \n            <icon-button\n            @activate=\"() => playPauseTour()\"\n            :fa-icon=\"isTourPlaying ? 'stop' : 'play'\"\n            :color=\"buttonColor\"\n            :tooltip-text=\"isTourPlaying ? 'Stop tour' : 'Play tour'\"\n            tooltip-location=\"start\">\n              <template #button>\n                <span class=\"jl_icon_button_text\">Show me how to find the Nova!</span>\n              </template>\n          </icon-button>\n          <!-- icon button to go to TCrB -->\n          <icon-button\n            @activate=\"() => goToTCrB()\"\n            :fa-icon=\"'star'\"\n            :color=\"buttonColor\"\n            :tooltip-text=\"'Go to T CrB'\"\n            tooltip-location=\"start\">\n              <template #button>\n                <span class=\"jl_icon_button_text\"><v-icon>mdi-flare</v-icon><span> Go to T CrB</span></span>\n              </template>\n          </icon-button>\n          \n          <!-- reset time to now button -->\n           <button \n            class=\"icon-wrapper jl_icon-button jl_debug\"\n            @click=\"selectedDate = new Date()\"\n            :style=\"{color: buttonColor}\"\n            ><font-awesome-icon icon=\"clock\"/>&nbsp;Set time to Now</button>\n            <!-- reset to 9pm button -->\n            <button\n            class=\"icon-wrapper jl_icon-button jl_debug\"\n            @click=\"selectedDate = todayAt9pm()\"\n            :style=\"{color: buttonColor}\"\n            ><font-awesome-icon icon=\"clock\"/>&nbsp;Set time to 9pm</button>\n       </div>\n       \n       \n       \n       \n      \n      <!-- This block contains the elements (e.g. the project icons) displayed along the bottom of the screen -->\n      \n      <div id=\"bottom-content\">\n        <credit-logos style=\"margin:1em;\" logo-size=\"25px\"/>\n        \n        <div style=\"flex-grow:1;\"></div>\n        \n        <icon-button \n          :fa-icon=\"timePlaying ? 'pause' : 'play'\"\n          :color=\"buttonColor\" \n          tooltip-text=\"Let time move forward\"\n          tooltip-location=\"start\" \n          @activate=\"()=>{playbackControl.togglePlay()}\" \n          style=\"align-self: center;\"\n        />\n        <div id=\"date-picker\">\n            <v-overlay \n            activator=\"parent\"\n            location-strategy=\"connected\"\n            location=\"top end\"\n            origin=\"bottom end\"\n            :scrim=\"false\"\n            :style=\"cssVars\"\n            >\n            <template #activator=\"{props}\">\n              <!-- any props added are passed directly to v-card -->\n              <v-card \n                v-bind=\"props\"\n                class=\"td__card\"\n                width=\"fit-content\"\n                rounded=\"lg\"\n                elevation=\"5\"\n                >\n                <time-display :date=\"localSelectedDate\" ampm show-timezone :timezone=\"shortTimezone\" />\n                <v-icon class=\"td__icon\">mdi-cursor-default-click</v-icon>\n              </v-card>\n            </template>\n              <v-card width=\"fit-content\" elevation=\"5\">\n                <date-time-picker v-model=\"localSelectedDate\" :editable-time=\"true\">\n                  <button class=\"dtp__button\" @click=\"() => {playbackControl.pause(); set9pm(); goToTCrB()}\" name=\"set-9pm\" aria-label=\"Set time to 9pm\">9pm</button>\n                  <button class=\"dtp__button\" @click=\"() => {playbackControl.pause(); setMidnight(); goToTCrB()}\" name=\"set-midnight\" aria-label=\"Set time to Midnight\">Midnight</button>\n                  <button class=\"dtp__button\" @click=\"() => {playbackControl.pause(); selectedDate = new Date(); goToTCrB()}\" name=\"set-now\" aria-label=\"Set time to Now\">Now</button>\n                </date-time-picker>\n              </v-card>\n            </v-overlay>\n        </div>\n        \n        \n      </div>\n    \n\n      <!-- This dialog contains the video that is displayed when the video icon is clicked -->\n\n      <v-dialog id=\"video-container\" v-model=\"showVideoSheet\" transition=\"slide-y-transition\" fullscreen>\n        <div class=\"video-wrapper\">\n          <font-awesome-icon id=\"video-close-icon\" class=\"close-icon\" icon=\"times\" size=\"lg\"\n            @click=\"showVideoSheet = false\" @keyup.enter=\"showVideoSheet = false\" tabindex=\"0\"></font-awesome-icon>\n          <video controls id=\"info-video\">\n            <source src=\"\" type=\"video/mp4\">\n          </video>\n        </div>\n      </v-dialog>\n\n\n\n\n      <!-- This dialog contains the informational content that is displayed when the book icon is clicked -->\n      <bottom-sheet\n        :cssVars=\"cssVars\"\n        v-model=\"showTextSheet\"\n        :accent-color=\"accentColor\"\n        :touchscreen=\"touchscreen\"\n        :show-blaze-overlay=\"showBlazeOverlay\"\n        :show-alpha-overlay=\"showAlphaOverlay\"\n        @toggle-blaze=\"() => store.gotoRADecZoom({ raRad: crbPlace.get_RA() * 15 * D2R, decRad: crbPlace.get_dec() * D2R, zoomDeg: 90, instant: false })\"\n        @toggle-alpha=\"() => store.gotoRADecZoom({ raRad: 233.6719500 * D2R, decRad: 26.7146850 * D2R, zoomDeg: 90, instant: false })\"\n       />\n     \n\n    </div>\n  </v-app>\n</template>\n\n<script setup lang=\"ts\">\nimport { storeToRefs } from \"pinia\";\nimport { ref, reactive, computed, onMounted, nextTick, watch } from \"vue\";\nimport { Color, Grids, Place, Settings, WWTControl } from \"@wwtelescope/engine\";\nimport { Classification, SolarSystemObjects } from \"@wwtelescope/engine-types\";\nimport { GotoRADecZoomParams, engineStore } from \"@wwtelescope/engine-pinia\";\nimport { BackgroundImageset, skyBackgroundImagesets, supportsTouchscreen, blurActiveElement, useWWTKeyboardControls, D2R, LocationDeg } from \"@cosmicds/vue-toolkit\";\n\nimport {throttle} from './debounce';\n\nimport { createHorizon, createSky, removeHorizon, equatorialToHorizontal } from \"./annotations\";\nimport { EquatorialRad, HorizontalRad, LocationRad } from \"./types\";\nimport { makeAltAzGridText, setupConstellationFigures, renderOneFrame } from \"./wwt-hacks\";\n\nimport { usePlaybackControl } from \"./wwt_playback_control\";\nimport { useTimezone } from \"./timezones\";\n\ntype SheetType = \"text\" | \"video\";\ntype CameraParams = Omit<GotoRADecZoomParams, \"instant\">;\nexport interface MainComponentProps {\n  wwtNamespace?: string;\n  initialCameraParams?: CameraParams;\n}\n\nconst store = engineStore();\nconst { isTourPlaying } = storeToRefs(store);\n\nuseWWTKeyboardControls(store);\n\nconst playbackControl = usePlaybackControl(store, true);\n// initialize playback. \nplaybackControl.setSpeed(1000);\nplaybackControl.pause();\n// destructure playbackControl\nconst { timePlaying } = playbackControl;\n\nconst touchscreen = supportsTouchscreen();\n// const { smAndDown } = useDisplay();\n\n\n\nconst props = withDefaults(defineProps<MainComponentProps>(), {\n  wwtNamespace: \"MainComponent\",\n  initialCameraParams: () => {\n    return {\n      raRad: 4.001238944138198,\n      decRad: 0.5307600894728279,\n      zoomDeg: 180\n    };\n  }\n});\n\nconst splash = new URLSearchParams(window.location.search).get(\"splash\")?.toLowerCase() !== \"false\";\nconst showSplashScreen = ref(splash);\nconst backgroundImagesets = reactive<BackgroundImageset[]>([]);\nconst sheet = ref<SheetType | null>(null);\nconst layersLoaded = ref(false);\nconst positionSet = ref(false);\nconst accentColor = ref(\"#f7bb48\");\nconst buttonColor = ref(\"#f7bb48\");\n// const tab = ref(0);\nconst showHorizon = ref(true);\nconst showAltAzGrid = ref(true);\nconst showControls = ref(false);\nconst showConstellations = ref(true);\nconst showBlazeOverlay = ref(true);\nconst showAlphaOverlay = ref(true);\nconst crbBelowHorizon = ref(true);\nconst _showDatePicker= ref(false);\n\nconst originalFrameRender = WWTControl.singleton.renderOneFrame.bind(WWTControl.singleton);\nconst boundRenderOneFrame = renderOneFrame.bind(WWTControl.singleton);\nconst newFrameRender = function() { \n  boundRenderOneFrame(showBlazeOverlay.value, showAlphaOverlay.value);\n};\nlet beforeTourTime: Date = new Date();\n\n// For now, we're not allowing a user to change this\nconst clockRate = 1000;\n\nconst sunPlace = new Place();\nsunPlace.set_names([\"Sun\"]);\nsunPlace.set_classification(Classification.solarSystem);\nsunPlace.set_target(SolarSystemObjects.sun);\nsunPlace.set_zoomLevel(20);\n\nconst crbPlace = new Place();\ncrbPlace.set_RA(15 + 59 / 60 + 30.1622 / 3600);\ncrbPlace.set_dec(25 + 55 / 60 + 12.613 / 3600);\n\n\n\n// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-ignore\nconst wwtSettings: Settings = Settings.get_active();\nfunction getWWTLocation(): LocationRad {\n  return {\n    longitudeRad: wwtSettings.get_locationLng() * D2R,\n    latitudeRad: wwtSettings.get_locationLat() * D2R,\n  };\n}\n\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nconst blazeStarLocation: EquatorialRad = {\n  raRad: (15 + 59 / 60 + 30.1622 / 3600) * 15 * D2R,\n  decRad: (25 + 55 / 60 + 12.613 / 3600) * D2R,\n};\n\n\nfunction goToTCrB(instant=false) {\n  store.gotoRADecZoom({\n    raRad: blazeStarLocation.raRad,\n    decRad: blazeStarLocation.decRad,\n    zoomDeg: 180,\n    instant: instant,\n  });\n}\n// create selectedDate by default is today at 9pm localtime\nfunction todayAt9pm() {\n  // get's today's date and \n  // sets time time to 9pm local time\n  const today = new Date();\n  today.setHours(21, 0, 0, 0);\n  return today;\n}\n\nconst selectedDate = ref(todayAt9pm());\n\nfunction updateDate(value: Date) {\n  selectedDate.value = value;\n}\nconst throttledUpdateDate = throttle(updateDate, 500);\n\nconst showLocationSelector = ref(false);\n\nconst selectedLocation = ref<LocationDeg>({\n  longitudeDeg: -71.1056,\n  latitudeDeg: 42.3581,\n});\n\n// useTimezone also provides selectedTimezone and browserTimezone\nconst { shortTimezone, selectedTimezoneOffset, browserTimezoneOffset} = useTimezone(selectedLocation);\n\n\n// faking localization because\n// <date-time-picker> and <time-display> are not timezone aware\nconst localSelectedDate = computed({\n  // if you console log this date it will still say the local timezone \n  // as determined by the browser Intl.DateTimeFormat().resolvedOptions().timeZone\n  // but we have manually offset it so the hours are correct for the selected timezone\n  get: () => {\n    const time = selectedDate.value.getTime();\n    const fakeUTC = time + browserTimezoneOffset;\n    return new Date(fakeUTC + selectedTimezoneOffset.value);\n  },\n  set: (value: Date) => {\n    // get local time\n    const time = value.getTime();\n    // undo fake localization\n    const newTime = time - selectedTimezoneOffset.value - browserTimezoneOffset;\n    selectedDate.value = new Date(newTime);\n  }\n});\n\n\nfunction setWWTLocation(location: LocationDeg) {\n  wwtSettings.set_locationLat(location.latitudeDeg);\n  wwtSettings.set_locationLng(location.longitudeDeg);\n  console.log(\"Setting location to\", location);\n}\n\nonMounted(() => {\n  store.waitForReady().then(async () => {\n    skyBackgroundImagesets.forEach(iset => backgroundImagesets.push(iset));\n\n    store.setBackgroundImageByName(\"Tycho (Synthetic, Optical)\");\n\n    // If there are layers to set up, do that here!\n    layersLoaded.value = true;\n\n    store.setTime(selectedDate.value);\n    setWWTLocation(selectedLocation.value);\n\n    store.setClockSync(timePlaying.value);\n    store.setClockRate(clockRate);\n\n    store.applySetting([\"localHorizonMode\", true]);\n    store.applySetting([\"showAltAzGrid\", showAltAzGrid.value]);\n    store.applySetting([\"showAltAzGridText\", showAltAzGrid.value]);\n    store.applySetting([\"altAzGridColor\", Color.fromArgb(180, 133, 201, 254)]);\n    store.applySetting([\"showConstellationLabels\", showConstellations.value]);\n    store.applySetting([\"showConstellationFigures\", showConstellations.value]);\n    updateHorizonAndSky();\n\n    // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n    // @ts-ignore\n    Grids._makeAltAzGridText = makeAltAzGridText;\n\n    // We need to render one frame ahead of time\n    // as there's a lot of setup done on the first frame\n    // render that we need to use\n    WWTControl.singleton.renderOneFrame();\n\n    // Hack the engine to display our Annotation2 annotations\n    // which go in front of the planet layer\n    // as well as our custom text overlays\n    // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n    // @ts-ignore\n    WWTControl.singleton.renderOneFrame = newFrameRender;\n    setupConstellationFigures();\n\n    setInterval(() => {\n      if (timePlaying.value) {\n        updateHorizonAndSky(store.currentTime); \n        updateCrbBelowHorizon(store.currentTime);\n        throttledUpdateDate(new Date(store.currentTime));\n      }\n    }, 10);\n\n    // We want to make sure that the location change happens AFTER\n    // the camera reposition caused by local horizon mode.\n    // TODO: What is a better way to do this?\n    setTimeout(() => {\n      store.gotoRADecZoom({\n        ...props.initialCameraParams,\n        instant: true\n      }).then(() => {\n        updateHorizonAndSky();\n        positionSet.value = true;\n      });\n    }, 50);\n  });\n});\n\nconst ready = computed(() => layersLoaded.value && positionSet.value);\n\n/* `isLoading` is a bit redundant here, but it could potentially have independent logic */\nconst isLoading = computed(() => !ready.value);\n\nfunction getSunPosition(when: Date | null): EquatorialRad & HorizontalRad {\n  const location = getWWTLocation();\n  const sunAltAz = equatorialToHorizontal(sunPlace.get_RA() * 15 * D2R,\n    sunPlace.get_dec() * D2R,\n    location.latitudeRad,\n    location.longitudeRad,\n    when ?? store.currentTime);\n\n  return {\n    raRad: sunPlace.get_RA() * 15 * D2R,\n    decRad: sunPlace.get_dec() * D2R,\n    ...sunAltAz\n  };\n}\n\nfunction getCrbAlt(when: Date | null = null) {\n  const location = getWWTLocation();\n  const crbAltAz = equatorialToHorizontal(\n    crbPlace.get_RA() * 15 * D2R,\n    crbPlace.get_dec() * D2R,\n    location.latitudeRad,\n    location.longitudeRad,\n    when ?? store.currentTime);\n\n  return crbAltAz.altRad;\n}\n\n/* Properties related to device/screen characteristics */\n// TODO: This seems to be giving the wrong value? Investigate why\n// const smallSize = computed(() => smAndDown);\n\n/* This lets us inject component data into element CSS */\nconst cssVars = computed(() => {\n  // get the text-bottom-sheet id height and subtract it from 100vh\n  return {\n    \"--accent-color\": accentColor.value,\n    \"--app-content-height\": showTextSheet.value ? \"66%\" : \"100%\",\n  };\n});\n\n\n/**\n  Computed flags that control whether the relevant dialogs display.\n  The `sheet` data member stores which sheet is open, so these are just\n  computed wrappers around modifying/querying that which can be used as\n  dialog v-model values\n*/\nconst showTextSheet = computed({\n  get() {\n    return sheet.value === \"text\";\n  },\n  set(_value: boolean) {\n    selectSheet(\"text\");\n  }\n});\n\nconst showVideoSheet = computed({\n  get() {\n    return sheet.value === \"video\";\n  },\n  set(value: boolean) {\n    selectSheet(\"video\");\n    if (!value) {\n      const video = document.querySelector(\"#info-video\") as HTMLVideoElement;\n      video.pause();\n    }\n  }\n});\n\n/**\n  This is convenient if there's any other logic that we want to run\n  when the splash screen is closed\n*/\nfunction closeSplashScreen() {\n  showSplashScreen.value = false;\n}\n\nfunction selectSheet(sheetType: SheetType | null) {\n  if (sheet.value === sheetType) {\n    sheet.value = null;\n    nextTick(() => {\n      blurActiveElement();\n    });\n  } else {\n    sheet.value = sheetType;\n  }\n}\n\nfunction removeSky() {\n  store.clearAnnotations();\n}\n\n\nfunction updateHorizonAndSky(when: Date | null = null) {\n  try {\n    removeHorizon();\n    removeSky();\n  } finally {\n    const location = getWWTLocation();\n    if (showHorizon.value) {\n      const time = when ?? store.currentTime;\n      createHorizon({ location, opacity: 0.95, when: time });\n      const sunPosition = getSunPosition(time);\n      const opacity = skyOpacityForSunAlt(sunPosition.altRad);\n      store.setForegroundOpacity((1 - opacity) * 100);\n      createSky({ location, when: time, opacity });\n    }\n  }\n}\n\nfunction updateCrbBelowHorizon(when: Date | null = null) {\n  const alt = getCrbAlt(when);\n  crbBelowHorizon.value = alt <= 0;\n}\n\nfunction skyOpacityForSunAlt(sunAltRad: number) {\n  const civilTwilight = -6 * D2R;\n  const astronomicalTwilight = 3 * civilTwilight;\n  \n  return (1 + Math.atan(Math.PI * sunAltRad / (-astronomicalTwilight))) / 2;\n}\n\nfunction clearCurrentTour() {\n  // NB: Both of these calls are necessary\n  WWTControl.singleton.stopCurrentTour();\n  WWTControl.singleton.uiController = null;\n}\n\nfunction playPauseTour() {\n  if (!isTourPlaying.value) {\n    beforeTourTime = store.currentTime;\n    store.loadTour({ url: `${window.location.origin}/FindingCoronaBorealis.WTT`, play: true });\n  } else {\n    clearCurrentTour();\n  }\n}\n\nfunction onTourPlayingChange(playing: boolean) {\n  WWTControl.singleton.renderOneFrame = playing ? originalFrameRender : newFrameRender;\n  if (!playing) {\n    clearCurrentTour();\n    store.applySetting([\"localHorizonMode\", true]);\n    store.gotoRADecZoom({\n      raRad: store.raRad,\n      decRad: store.decRad,\n      zoomDeg: store.zoomDeg,\n      rollRad: 0,\n      instant: true,\n    });\n    store.setTime(beforeTourTime);\n    WWTControl.singleton.renderOneFrame();\n\n    // Not a huge fan of this, but `nextTick` wasn't working\n    setTimeout(updateHorizonAndSky, 100);\n  }\n}\n\n\nfunction logWWTState() {\n  const loc = getWWTLocation();\n  const locDeg = {\n    latitudeDeg: loc.latitudeRad * 180 / Math.PI,\n    longitudeDeg: loc.longitudeRad * 180 / Math.PI,\n  };\n  console.log(getWWTLocation());\n  console.table({\n    time: store.currentTime,\n    location: locDeg,\n    selectedLocation: selectedLocation.value,\n    showHorizon: showHorizon.value,\n    showAltAzGrid: showAltAzGrid.value,\n    showConstellations: showConstellations.value,\n    crbBelowHorizon: crbBelowHorizon.value,\n  });\n}\n\n\nfunction set9pm() {\n  const time = new Date(selectedDate.value.getTime());\n  time.setHours(21, 0, 0, 0);\n  selectedDate.value = time;\n}\n\nfunction setMidnight(){\n  const time = new Date(selectedDate.value.getTime());\n  time.setHours(23, 59, 0, 0);\n  selectedDate.value = time;\n}\n\n\nwatch(showHorizon, (_show) => updateHorizonAndSky());\nwatch(isTourPlaying, onTourPlayingChange);\n\nwatch(showAltAzGrid, (show) => {\n  store.applySetting([\"showAltAzGrid\", show]);\n});\n\nwatch(showConstellations, (show) => {\n  store.applySetting([\"showConstellationLabels\", show]);\n  store.applySetting([\"showConstellationFigures\", show]);\n});\n\n\nwatch(selectedDate, (date) => {\n  // if we are playing this already getting updated\n  store.setTime(date);\n  updateHorizonAndSky(date);\n  updateCrbBelowHorizon(date);\n  WWTControl.singleton.renderOneFrame();\n});\n\nwatch(selectedLocation, (location: LocationDeg) => {\n  setWWTLocation(location);\n  updateHorizonAndSky();\n  updateCrbBelowHorizon();\n  WWTControl.singleton.renderOneFrame();\n});\n\n</script>\n\n<style lang=\"less\">\n@font-face {\n  font-family: \"Highway Gothic Narrow\";\n  src: url(\"./assets/HighwayGothicNarrow.ttf\");\n}\n\n:root {\n  --default-font-size: clamp(0.9rem, min(2.2vh, 2.2vw), 1.4rem);\n  --default-line-height: clamp(1.3rem, min(2.8vh, 2.8vw), 2.1rem);\n}\n\nhtml {\n  height: 100%;\n  margin: 0;\n  padding: 0;\n  background-color: #000;\n  overflow: hidden;\n\n\n  -ms-overflow-style: none;\n  // scrollbar-width: none;\n}\n\nbody {\n  position: fixed;\n  width: 100%;\n  height: 100%;\n  margin: 0;\n  padding: 0;\n  overflow: hidden;\n\n  font-family: Verdana, Arial, Helvetica, sans-serif;\n}\n\nh4 {\n  margin-top: 1rem;\n  margin-bottom: 0.5rem;\n  color: var(--accent-color);\n}\n\np {\n  margin-bottom: 0.5rem;\n}\n\n#main-content {\n  position: fixed;\n  width: 100%;\n  height: var(--app-content-height);\n  overflow: hidden;\n\n  transition: height 0.1s ease-in-out;\n  display: flex;\n  flex-direction: column;\n}\n\n#app {\n  width: 100%;\n  height: 100%;\n  margin: 0;\n  overflow: hidden;\n  font-size: 11pt;\n\n  .wwtelescope-component {\n    position: absolute;\n    top: 0;\n    width: 100%;\n    height: 100%;\n    border-style: none;\n    border-width: 0;\n    margin: 0;\n    padding: 0;\n  }\n}\n\n\n.fade-enter-active,\n.fade-leave-active {\n  transition: opacity 0.3s;\n}\n\n.fade-enter,\n.fade-leave-to {\n  opacity: 0;\n}\n\n.modal {\n  position: absolute;\n  top: 0px;\n  left: 0px;\n  width: 100%;\n  height: 100%;\n  z-index: 100;\n  color: #fff;\n  background-color: rgba(0, 0, 0, 0.7);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n#modal-loading {\n  background-color: #000;\n\n  .container {\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    justify-content: center;\n\n    .spinner {\n      background-image: url(\"https://projects.cosmicds.cfa.harvard.edu/cds-website/misc/lunar_loader.gif\");\n      background-repeat: no-repeat;\n      background-size: contain;\n      width: 3rem;\n      height: 3rem;\n    }\n\n    p {\n      margin: 0 0 0 1rem;\n      padding: 0;\n      font-size: 150%;\n    }\n  }\n}\n\n#top-content {\n  position: relative;\n  flex-grow:0;\n  margin: 1rem;\n  pointer-events: none;\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: flex-start;\n  gap: 10px;\n}\n\n#left-buttons {\n  display: flex;\n  flex-direction: column;\n  flex-grow: .333;\n  gap: 10px;\n  align-items: flex-start;\n}\n\n#center-buttons {\n  position: absolute;\n  top: 0;\n  left: 50%;\n  transform: translateX(-50%);\n}\n\n.map-container {\n  width: 60svw;\n  width:60vw;\n  height: 60svh;\n  height: 60vh;\n}\n\n#geolocation-wrapper {\n  position: absolute;\n  bottom: 1rem;\n  left: 1rem;\n  z-index: 1000;\n}\n\n#right-buttons {\n  display: flex;\n  flex-direction: column;\n  flex-grow: .333;\n  gap: 10px;\n  align-items: flex-end;\n}\n\n#empty-space {\n  flex-grow:1;\n}\n\n#playback-controls {\n  position: relative;\n  pointer-events: auto;\n  display: flex;\n  flex-direction: row;\n  gap: 20px;\n  justify-content: center;\n}\n\n#bottom-content {\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  position: relative;\n  flex-grow: 0;\n  height: fit-content;\n  pointer-events: none;\n  align-items: center;\n  gap: 5px;\n}\n\n#logo-credits {\n  align-self: flex-end;\n}\n#date-picker {\n  margin: 1rem;\n  pointer-events: auto;\n  display: flex;\n  align-items: center;\n  gap: 1rem;\n}\n\n#controls {\n  background: black;\n  padding-block: 0.5em;\n  padding-right: 0.5em;\n  border-radius: 5px;\n  border: solid 1px var(--accent-color);\n  display: flex;\n  flex-direction: column;\n  pointer-events: auto;\n\n  .v-label {\n    color: var(--accent-color);\n    opacity: 1;\n    font-size: var(--default-font-size);\n  }\n\n  #control-checkboxes {\n    display: flex;\n    flex-direction: column;\n    justify-content: flex-start;\n    padding-left: calc(0.5 * var(--default-line-height));\n\n    .v-checkbox .v-selection-control {\n      font-size: calc(1.1 * var(--default-font-size));\n      height: calc(1.2 * var(--default-line-height));\n      min-height: calc(1.2 * var(--default-line-height));\n    }\n\n    .v-checkbox .v-selection-control__input {\n      width: calc(1.2 * var(--default-line-height));\n      height: calc(1.2 * var(--default-line-height));\n    }\n\n    .v-checkbox .v-selection-control__wrapper {\n      width: calc(1.2 * var(--default-line-height));\n      height: calc(1.2 * var(--default-line-height));\n    }\n\n    .v-btn {\n      align-self: center;\n      padding-left: 5px;\n      padding-right: 5px;\n      border: solid 1px #899499;\n\n      &:focus {\n        border: 2px solid white;\n      }\n    }\n\n    .v-btn__content {\n      color: black;\n      font-weight: 900;\n      white-space: break-spaces;\n      width: 150px;\n    }\n  }\n  #controls-top-row {\n    padding-left: 0.5em;\n    display: flex;\n    width: 100%;\n    flex-direction: row;\n    justify-content: flex-end;\n  }\n}\n\n.video-wrapper {\n  height: 100%;\n  background: black;\n  text-align: center;\n  z-index: 1000;\n\n  #video-close-icon {\n    position: absolute;\n    top: 10px;\n    right: 10px;\n    z-index: 15;\n\n    &:hover {\n      cursor: pointer;\n    }\n\n    &:focus {\n      color: white;\n      border: 2px solid white;\n    }\n  }\n}\n\nvideo {\n  height: 100%;\n  width: auto;\n  max-width: 100%;\n  object-fit: contain;\n}\n\n#info-video {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  max-width: 100%;\n  overflow: hidden;\n  padding: 0px;\n  z-index: 10;\n}\n\n#left-buttons, #right-buttons {\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n  pointer-events: auto;\n}\n.icon-wrapper {\n  width: fit-content;\n  min-width: 50px;\n}\n\n.jl_icon-button {\n  border-radius: 20px;\n  border:2px solid  var(--accent-color);\n  background-color: black;\n}\n\n.jl_icon_button_text {\n  font-size : 1.15em; \n  padding-inline: 1em; \n  max-width: 20ch; text-align: center;\n}\n\n.jl_debug {\n  display: none;\n  outline: 3px solid red !important;\n  background-color: teal;\n}\n\n.dtp__button {\n  background-color: var(--accent-color);\n  font-size: 0.85em;\n  color: black;\n  border-radius: 5px;\n  padding: 4px;\n  margin: 4px;\n  cursor: pointer;\n}\n\n.td__card {\n  border: 1px solid var(--accent-color);\n  text-align: right;\n  position: relative;\n}\n\n.td__icon {\n  position: absolute;\n  bottom: 2px;\n  right: 2px;\n}\n</style>\n","import script from \"./BlazeStarNova.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./BlazeStarNova.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./BlazeStarNova.vue?vue&type=style&index=0&id=b336a9e8&lang=less\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { aliases, mdi } from 'vuetify/iconsets/mdi';\nimport { createVuetify } from 'vuetify';\n\n// For test use. Do not include createVuetify()\n// see https://next.vuetifyjs.com/en/features/treeshaking/\n//import * as components from 'vuetify/components';\n//import * as directives from 'vuetify/directives';\n\n// Translations provided by Vuetify\nimport { en } from 'vuetify/locale';\n\n// Styles\nimport 'vuetify/styles';\nimport '@mdi/font/css/materialdesignicons.css';\n\nexport default createVuetify({\n  // Icon Fonts\n  icons: {\n    defaultSet: 'mdi',\n    aliases,\n    sets: {\n      mdi,\n    },\n  },\n  locale: {\n    locale: 'en',\n    fallback: 'en',\n    messages: { en },\n  },\n  theme: {\n    defaultTheme: 'dark',\n  },\n});\n\n// Export for test.\n//export { components, directives };\n","import { useModel as _useModel, mergeModels as _mergeModels, defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, withKeys as _withKeys, createTextVNode as _createTextVNode, withModifiers as _withModifiers, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, normalizeStyle as _normalizeStyle } from \"vue\"\n\nconst _hoisted_1 = /*#__PURE__*/_createElementVNode(\"h3\", null, \"Information\", -1)\nconst _hoisted_2 = /*#__PURE__*/_createElementVNode(\"h3\", null, \"Using WWT\", -1)\nconst _hoisted_3 = /*#__PURE__*/_createElementVNode(\"p\", null, \"You may have heard that a star in our night sky is going to \\\"go nova\\\" soon. Learn what this means and how you can see the nova!\", -1)\nconst _hoisted_4 = /*#__PURE__*/_createElementVNode(\"h4\", null, \"What is a nova?\", -1)\nconst _hoisted_5 = /*#__PURE__*/_createElementVNode(\"p\", null, [\n  /*#__PURE__*/_createTextVNode(\" Novas are bright stars that seem to appear out of nowhere. They are named for the Latin word for \\\"new.\\\" In reality, stars that \\\"go nova\\\" have been there the whole time, but they did not not appear very bright, and therefore were not obvious in the sky. An explosion of gas on the surface of the star (the nova event) temporarily makes the star much, \"),\n  /*#__PURE__*/_createElementVNode(\"strong\", null, \"MUCH\"),\n  /*#__PURE__*/_createTextVNode(\" brighter than it was before. \")\n], -1)\nconst _hoisted_6 = /*#__PURE__*/_createElementVNode(\"h4\", null, \"How do I see this nova?\", -1)\nconst _hoisted_7 = /*#__PURE__*/_createElementVNode(\"p\", null, \" On a clear night, go out and look for Corona Borealis, so you can get used to its U-shape in the sky. Once T CrB goes nova, which can be any day now, or possibly weeks or months from now, it will seem as if a new star appeared just to the lower left of the U shape of the constellation. \", -1)\nconst _hoisted_8 = /*#__PURE__*/_createElementVNode(\"h4\", null, \"How bright will the nova be?\", -1)\nconst _hoisted_9 = /*#__PURE__*/_createElementVNode(\"h4\", null, \"What causes a nova?\", -1)\nconst _hoisted_10 = /*#__PURE__*/_createElementVNode(\"p\", null, \" Novas occur in binary star systems where small, very dense, very hot stars called white dwarfs orbit another large star at close range. The graviational pull from the white dwarf can pull gas from the outer layers of the large companion star onto the surface of the white dwarf. When enough of this gas collects on the surface of the white dwarf, it triggers a nuclear explosion that causes the temporary brightening of the nova. \", -1)\nconst _hoisted_11 = {\n  class: \"fig-right\",\n  style: {\"width\":\"40%\"}\n}\nconst _hoisted_12 = /*#__PURE__*/_createElementVNode(\"h4\", null, \"How do we know this nova is getting ready to blow?\", -1)\nconst _hoisted_13 = /*#__PURE__*/_createElementVNode(\"p\", null, \" Luckily, novas only blow up the gas that has settled on the surface of the white dwarf, and NOT the white dwarf itself. This means that the white dwarf can pull a new round of gas from its companion star. In some nova systems, this cycle of collecting gas, going nova, collecting more gas, going nova again, happens at a repeatable timescale. For T CrB, this has happened roughly every 80 years. It last blew in 1946, and before that, it blew in 1866. Astronomers have observed changes in the star's overall brightness that suggest it is getting ready to go nova again soon! \", -1)\nconst _hoisted_14 = /*#__PURE__*/_createElementVNode(\"h4\", null, \"Why does this star have multiple names?\", -1)\nconst _hoisted_15 = /*#__PURE__*/_createElementVNode(\"p\", null, \" Astronomers usually name stars for the constellation they are in, and approximately for the relative brightness within the constellation, as designated by Greek letters. For example, the brightest star in Corona Borealis, Alphecca, is also known as -CrB. The 2nd brightest star is -CrB. \", -1)\nconst _hoisted_16 = /*#__PURE__*/_createElementVNode(\"p\", null, \" The astronomer Friedrich Argelander began the practice of assigning Roman letters to stars that vary in brightness, beginning with the letter R. So the \\\"T\\\" in T CrB means that it is the third variable star discovered within Corona Borealis. \", -1)\nconst _hoisted_17 = /*#__PURE__*/_createElementVNode(\"p\", null, [\n  /*#__PURE__*/_createTextVNode(\" The nickname \\\"Blaze Star\\\" was given to T CrB after it \\\"blazed forth suddenly\\\" on May 12, 1866, becoming as bright as Alphecca. Learn more about the history in this 1897 \"),\n  /*#__PURE__*/_createElementVNode(\"a\", {\n    href: \"https://articles.adsabs.harvard.edu/pdf/1897PA......5...97P\",\n    target: \"_blank\",\n    rel: \"noopener noreferrer\"\n  }, \"article\"),\n  /*#__PURE__*/_createTextVNode(\", \"),\n  /*#__PURE__*/_createElementVNode(\"em\", null, \"Heavens for June\"),\n  /*#__PURE__*/_createTextVNode(\" (see section \\\"The Northern Crown\\\"), by Mary Proctor. \")\n], -1)\nconst _hoisted_18 = /*#__PURE__*/_createElementVNode(\"br\", null, null, -1)\nconst _hoisted_19 = /*#__PURE__*/_createElementVNode(\"br\", null, null, -1)\nconst _hoisted_20 = /*#__PURE__*/_createElementVNode(\"div\", { class: \"credits\" }, [\n  /*#__PURE__*/_createElementVNode(\"h3\", null, \"Credits:\"),\n  /*#__PURE__*/_createElementVNode(\"h4\", null, [\n    /*#__PURE__*/_createElementVNode(\"a\", {\n      href: \"https://www.cosmicds.cfa.harvard.edu/\",\n      target: \"_blank\",\n      rel: \"noopener noreferrer\"\n    }, \"CosmicDS\"),\n    /*#__PURE__*/_createTextVNode(\" Vue Data Stories Team:\")\n  ]),\n  /*#__PURE__*/_createTextVNode(\" John Lewis\"),\n  /*#__PURE__*/_createElementVNode(\"br\"),\n  /*#__PURE__*/_createTextVNode(\" Jon Carifio\"),\n  /*#__PURE__*/_createElementVNode(\"br\"),\n  /*#__PURE__*/_createTextVNode(\" Pat Udomprasert\"),\n  /*#__PURE__*/_createElementVNode(\"br\"),\n  /*#__PURE__*/_createTextVNode(\" Alyssa Goodman\"),\n  /*#__PURE__*/_createElementVNode(\"br\"),\n  /*#__PURE__*/_createTextVNode(\" Mary Dussault\"),\n  /*#__PURE__*/_createElementVNode(\"br\"),\n  /*#__PURE__*/_createTextVNode(\" Harry Houghton\"),\n  /*#__PURE__*/_createElementVNode(\"br\"),\n  /*#__PURE__*/_createTextVNode(\" Anna Nolin\"),\n  /*#__PURE__*/_createElementVNode(\"br\"),\n  /*#__PURE__*/_createTextVNode(\" Evaluator: Sue Sunbury\"),\n  /*#__PURE__*/_createElementVNode(\"br\"),\n  /*#__PURE__*/_createElementVNode(\"br\"),\n  /*#__PURE__*/_createElementVNode(\"h4\", null, \"WorldWide Telescope Team:\"),\n  /*#__PURE__*/_createTextVNode(\" Peter Williams\"),\n  /*#__PURE__*/_createElementVNode(\"br\"),\n  /*#__PURE__*/_createTextVNode(\" A. David Weigel\"),\n  /*#__PURE__*/_createElementVNode(\"br\"),\n  /*#__PURE__*/_createTextVNode(\" Jon Carifio\"),\n  /*#__PURE__*/_createElementVNode(\"br\")\n], -1)\n\nimport { watch, ref } from 'vue';\nimport { engineStore } from \"@wwtelescope/engine-pinia\";\n\nexport interface Props {\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  cssVars?: any;\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  accentColor?: any;\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  touchscreen?: any;\n  showBlazeOverlay: boolean;\n  showAlphaOverlay: boolean;\n}\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'BottomSheet',\n  props: /*#__PURE__*/_mergeModels({\n    cssVars: { default: () => ({}) },\n    accentColor: { default: () => 'accent' },\n    touchscreen: { default: () => false },\n    showBlazeOverlay: { type: Boolean, default: false },\n    showAlphaOverlay: { type: Boolean }\n  }, {\n    \"modelValue\": {default: true},\n    \"modelModifiers\": {},\n  }),\n  emits: /*#__PURE__*/_mergeModels(['close', 'toggle-blaze', 'toggle-alpha'], [\"update:modelValue\"]),\n  setup(__props: any, { emit: __emit }) {\n\nconst props = __props;\n\nconst emits = __emit;\n\nconst { cssVars, accentColor, touchscreen } = props;\n\nconst tab = ref(0);\n\nconst showTextSheet = _useModel(__props, \"modelValue\");\n\nconst store = engineStore();\n\nfunction playTour() {\n  store.loadTour({ url: `${window.location.origin}/FindingCoronaBorealis.WTT`, play: true });\n}\n\nwatch(() => showTextSheet, (newVal) => {\n  if (!newVal) {\n    emits('close');\n  }\n});\n\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_v_tab = _resolveComponent(\"v-tab\")!\n  const _component_v_tabs = _resolveComponent(\"v-tabs\")!\n  const _component_font_awesome_icon = _resolveComponent(\"font-awesome-icon\")!\n  const _component_v_img = _resolveComponent(\"v-img\")!\n  const _component_credit = _resolveComponent(\"credit\")!\n  const _component_v_card_text = _resolveComponent(\"v-card-text\")!\n  const _component_v_chip = _resolveComponent(\"v-chip\")!\n  const _component_v_col = _resolveComponent(\"v-col\")!\n  const _component_v_row = _resolveComponent(\"v-row\")!\n  const _component_v_spacer = _resolveComponent(\"v-spacer\")!\n  const _component_funding_acknowledgement = _resolveComponent(\"funding-acknowledgement\")!\n  const _component_v_container = _resolveComponent(\"v-container\")!\n  const _component_v_card = _resolveComponent(\"v-card\")!\n  const _component_v_dialog = _resolveComponent(\"v-dialog\")!\n\n  return (_openBlock(), _createBlock(_component_v_dialog, {\n    style: _normalizeStyle(_unref(cssVars)),\n    class: \"bottom-sheet\",\n    id: \"text-bottom-sheet\",\n    \"hide-overlay\": \"\",\n    persistent: \"\",\n    \"no-click-animation\": \"\",\n    absolute: \"\",\n    width: \"100%\",\n    scrim: false,\n    location: \"bottom\",\n    modelValue: showTextSheet.value,\n    \"onUpdate:modelValue\": _cache[6] || (_cache[6] = ($event: any) => ((showTextSheet).value = $event)),\n    transition: \"dialog-bottom-transition\"\n  }, {\n    default: _withCtx(() => [\n      _createVNode(_component_v_card, {\n        id: \"bottom-sheet-card\",\n        height: \"100%\"\n      }, {\n        default: _withCtx(() => [\n          _createVNode(_component_v_tabs, {\n            modelValue: tab.value,\n            \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((tab).value = $event)),\n            height: \"32px\",\n            color: _unref(accentColor),\n            \"slider-color\": _unref(accentColor),\n            id: \"tabs\",\n            dense: \"\"\n          }, {\n            default: _withCtx(() => [\n              _createVNode(_component_v_tab, {\n                class: \"info-tabs\",\n                tabindex: \"0\"\n              }, {\n                default: _withCtx(() => [\n                  _hoisted_1\n                ]),\n                _: 1\n              }),\n              _createVNode(_component_v_tab, {\n                class: \"info-tabs\",\n                tabindex: \"0\"\n              }, {\n                default: _withCtx(() => [\n                  _hoisted_2\n                ]),\n                _: 1\n              })\n            ]),\n            _: 1\n          }, 8, [\"modelValue\", \"color\", \"slider-color\"]),\n          _createVNode(_component_font_awesome_icon, {\n            id: \"close-text-icon\",\n            class: \"control-icon\",\n            icon: \"times\",\n            size: \"lg\",\n            onClick: _cache[1] || (_cache[1] = ($event: any) => (showTextSheet.value = false)),\n            onKeyup: _cache[2] || (_cache[2] = _withKeys(($event: any) => (showTextSheet.value = false), [\"enter\"])),\n            tabindex: \"0\"\n          }),\n          (tab.value==0)\n            ? (_openBlock(), _createBlock(_component_v_card_text, {\n                key: 0,\n                class: \"info-text tab-items no-bottom-border-radius scrollable\"\n              }, {\n                default: _withCtx(() => [\n                  _hoisted_3,\n                  _hoisted_4,\n                  _hoisted_5,\n                  _hoisted_6,\n                  _createElementVNode(\"p\", null, [\n                    _createTextVNode(\" The star that will become a nova is named \\\"T Coronae Borealis.\\\" It is often referred to as \\\"T CrB\\\" for short and is also nicknamed, the \\\"Blaze Star\\\" (Go to \"),\n                    _createElementVNode(\"a\", {\n                      href: \"#\",\n                      onClick: _cache[3] || (_cache[3] = _withModifiers(($event: any) => (_ctx.$emit('toggle-blaze')), [\"prevent\"]))\n                    }, \"T CrB\"),\n                    _createTextVNode(\"). As the name suggests, it is located within the constellation Corona Borealis, the \\\"Northern Crown.\\\" \"),\n                    _createElementVNode(\"a\", {\n                      href: \"#\",\n                      onclick: \"return false;\",\n                      onClick: _cache[4] || (_cache[4] = () => playTour())\n                    }, \"This guide\"),\n                    _createTextVNode(\" explains how you can find Corona Borealis in your night sky. \")\n                  ]),\n                  _hoisted_7,\n                  _hoisted_8,\n                  _createElementVNode(\"p\", null, [\n                    _createTextVNode(\" At its normal brightness, T CrB is about a 10th magnitude star. This is about 30-40 times fainter than the faintest star a person could see from a dark sky, so you would need a telescope to see it. When it goes nova, it is predicted to be about 2-2.5 magnitudes. It is comparable in brightness to Alphecca (Go to \"),\n                    _createElementVNode(\"a\", {\n                      href: \"#\",\n                      onClick: _cache[5] || (_cache[5] = _withModifiers(($event: any) => (_ctx.$emit('toggle-alpha')), [\"prevent\"]))\n                    }, \"Alphecca\"),\n                    _createTextVNode(\"), the brightest star you can see in the crown of Corona Borealis.(TODO: add a link to turn on the layer that shows the brightness comparison.) \")\n                  ]),\n                  _hoisted_9,\n                  _hoisted_10,\n                  _createElementVNode(\"figure\", _hoisted_11, [\n                    _createVNode(_component_v_img, { src: \"https://www.nasa.gov/wp-content/uploads/2024/06/novacyg093500952-print.jpg\" }),\n                    _createElementVNode(\"figcaption\", null, [\n                      _createTextVNode(\"A red giant star and white dwarf orbit each other, similar to T Coronae Borealis, the Blaze Star. A disk of material is pulled off the red giant, into a disk, and then onto the white dwarf. \"),\n                      _createVNode(_component_credit, null, {\n                        default: _withCtx(() => [\n                          _createTextVNode(\"(Credit: NASA / Goddard Space Flight Center)\")\n                        ]),\n                        _: 1\n                      })\n                    ])\n                  ]),\n                  _hoisted_12,\n                  _hoisted_13,\n                  _hoisted_14,\n                  _hoisted_15,\n                  _hoisted_16,\n                  _hoisted_17\n                ]),\n                _: 1\n              }))\n            : _createCommentVNode(\"\", true),\n          (tab.value==1)\n            ? (_openBlock(), _createBlock(_component_v_card_text, {\n                key: 1,\n                class: \"info-text tab-items no-bottom-border-radius scrollable\"\n              }, {\n                default: _withCtx(() => [\n                  _createVNode(_component_v_container, null, {\n                    default: _withCtx(() => [\n                      _createVNode(_component_v_row, { align: \"center\" }, {\n                        default: _withCtx(() => [\n                          _createVNode(_component_v_col, { cols: \"4\" }, {\n                            default: _withCtx(() => [\n                              _createVNode(_component_v_chip, {\n                                label: \"\",\n                                outlined: \"\"\n                              }, {\n                                default: _withCtx(() => [\n                                  _createTextVNode(\" Pan \")\n                                ]),\n                                _: 1\n                              })\n                            ]),\n                            _: 1\n                          }),\n                          _createVNode(_component_v_col, {\n                            cols: \"8\",\n                            class: \"pt-1\"\n                          }, {\n                            default: _withCtx(() => [\n                              _createElementVNode(\"strong\", null, _toDisplayString(_unref(touchscreen) ? \"press + drag\" : \"click + drag\"), 1),\n                              _createTextVNode(\" \" + _toDisplayString(_unref(touchscreen) ? \":\" : \"or\") + \" \", 1),\n                              _createElementVNode(\"strong\", null, _toDisplayString(_unref(touchscreen) ? \":\" : \"W-A-S-D\"), 1),\n                              _createTextVNode(\" \" + _toDisplayString(_unref(touchscreen) ? \":\" : \"keys\"), 1),\n                              _hoisted_18\n                            ]),\n                            _: 1\n                          })\n                        ]),\n                        _: 1\n                      }),\n                      _createVNode(_component_v_row, { align: \"center\" }, {\n                        default: _withCtx(() => [\n                          _createVNode(_component_v_col, { cols: \"4\" }, {\n                            default: _withCtx(() => [\n                              _createVNode(_component_v_chip, {\n                                label: \"\",\n                                outlined: \"\"\n                              }, {\n                                default: _withCtx(() => [\n                                  _createTextVNode(\" Zoom \")\n                                ]),\n                                _: 1\n                              })\n                            ]),\n                            _: 1\n                          }),\n                          _createVNode(_component_v_col, {\n                            cols: \"8\",\n                            class: \"pt-1\"\n                          }, {\n                            default: _withCtx(() => [\n                              _createElementVNode(\"strong\", null, _toDisplayString(_unref(touchscreen) ? \"pinch in and out\" : \"scroll in and out\"), 1),\n                              _createTextVNode(\" \" + _toDisplayString(_unref(touchscreen) ? \":\"\n                    : \"or\") + \" \", 1),\n                              _createElementVNode(\"strong\", null, _toDisplayString(_unref(touchscreen) ? \":\" : \"I-O\"), 1),\n                              _createTextVNode(\" \" + _toDisplayString(_unref(touchscreen) ? \":\" : \"keys\"), 1),\n                              _hoisted_19\n                            ]),\n                            _: 1\n                          })\n                        ]),\n                        _: 1\n                      }),\n                      _createVNode(_component_v_row, null, {\n                        default: _withCtx(() => [\n                          _createVNode(_component_v_col, { cols: \"12\" }, {\n                            default: _withCtx(() => [\n                              _hoisted_20,\n                              _createVNode(_component_v_spacer, { class: \"end-spacer\" })\n                            ]),\n                            _: 1\n                          })\n                        ]),\n                        _: 1\n                      }),\n                      _createVNode(_component_v_row, null, {\n                        default: _withCtx(() => [\n                          _createVNode(_component_v_col, null, {\n                            default: _withCtx(() => [\n                              _createVNode(_component_funding_acknowledgement)\n                            ]),\n                            _: 1\n                          })\n                        ]),\n                        _: 1\n                      })\n                    ]),\n                    _: 1\n                  })\n                ]),\n                _: 1\n              }))\n            : _createCommentVNode(\"\", true)\n        ]),\n        _: 1\n      })\n    ]),\n    _: 1\n  }, 8, [\"style\", \"modelValue\"]))\n}\n}\n\n})","<template>\n  <v-dialog :style=\"cssVars\" class=\"bottom-sheet\" id=\"text-bottom-sheet\" hide-overlay persistent no-click-animation\n  absolute width=\"100%\" :scrim=\"false\" location=\"bottom\" v-model=\"showTextSheet\"\n  transition=\"dialog-bottom-transition\">\n  <v-card id=\"bottom-sheet-card\" height=\"100%\">\n    <v-tabs v-model=\"tab\" height=\"32px\" :color=\"accentColor\" :slider-color=\"accentColor\" id=\"tabs\" dense>\n      <v-tab class=\"info-tabs\" tabindex=\"0\">\n        <h3>Information</h3>\n      </v-tab>\n      <v-tab class=\"info-tabs\" tabindex=\"0\">\n        <h3>Using WWT</h3>\n      </v-tab>\n    </v-tabs>\n    <font-awesome-icon id=\"close-text-icon\" class=\"control-icon\" icon=\"times\" size=\"lg\"\n      @click=\"showTextSheet = false\" @keyup.enter=\"showTextSheet = false\" tabindex=\"0\"></font-awesome-icon>\n          <v-card-text v-if=\"tab==0\" class=\"info-text tab-items no-bottom-border-radius scrollable\">\n            <p>You may have heard that a star in our night sky is going to \"go nova\" soon. Learn what this means and how you can see the nova!</p>\n\n            <h4>What is a nova?</h4>\n            <p>\n              Novas are bright stars that seem to appear out of nowhere. They are named for the Latin word for \"new.\" In reality, stars that \"go nova\" have been there the whole time, but they did not not appear very bright, and therefore were not obvious in the sky. An explosion of gas on the surface of the star (the nova event) temporarily makes the star much, <strong>MUCH</strong> brighter than it was before.\n            </p>\n            <h4>How do I see this nova?</h4>\n            <p>\n              The star that will become a nova is named \"T Coronae Borealis.\" It is often referred to as \"T CrB\" for short and is also nicknamed, the \"Blaze Star\" (Go to <a href=\"#\" @click.prevent=\"$emit('toggle-blaze')\">T CrB</a>). As the name suggests, it is located within the constellation Corona Borealis, the \"Northern Crown.\" <a href=\"#\" onclick=\"return false;\" @click=\"() => playTour()\">This guide</a> explains how you can find Corona Borealis in your night sky.\n            </p>\n            <!-- <v-btn @click=\"$emit('toggle-blaze')\">{{ `${showBlazeOverlay ? 'Hide' : 'Show'} T CrB label` }}</v-btn> -->\n            <p>\n              On a clear night, go out and look for Corona Borealis, so you can get used to its U-shape in the sky. Once T CrB goes nova, which can be any day now, or possibly weeks or months from now, it will seem as if a new star appeared just to the lower left of the U shape of the constellation.\n            </p>\n            <h4>How bright will the nova be?</h4>\n            <p>\n              At its normal brightness, T CrB is about a 10th magnitude star. This is about 30-40 times fainter than the faintest star a person could see from a dark sky, so you would need a telescope to see it. When it goes nova, it is predicted to be about 2-2.5 magnitudes. It is comparable in brightness to Alphecca (Go to <a href=\"#\" @click.prevent=\"$emit('toggle-alpha')\">Alphecca</a>), the brightest star you can see in the crown of Corona Borealis.(TODO: add a link to turn on the layer that shows the brightness comparison.)\n            </p>\n            <!-- <v-btn @click=\"$emit('toggle-alpha')\">{{ `${showAlphaOverlay ? 'Hide' : 'Show'} alpha label` }}</v-btn> -->\n            <h4>What causes a nova?</h4>\n            <p>\n              Novas occur in binary star systems where small, very dense, very hot stars called white dwarfs orbit another large star at close range. The graviational pull from the white dwarf can pull gas from the outer layers of the large companion star onto the surface of the white dwarf. When enough of this gas collects on the surface of the white dwarf, it triggers a nuclear explosion that causes the temporary brightening of the nova.\n            </p>\n            \n            <figure class=\"fig-right\" style=\"width:40%;\"> <!-- floats, the old magic, before flex-->\n              <v-img\n                src=\"https://www.nasa.gov/wp-content/uploads/2024/06/novacyg093500952-print.jpg\"\n              ></v-img>\n              <figcaption>A red giant star and white dwarf orbit each other, similar to T Coronae Borealis, the Blaze Star. \n                A disk of material is pulled off the red giant, into a disk, and then onto the white dwarf. <credit>(Credit: NASA / Goddard Space Flight Center)</credit>\n              </figcaption>\n            </figure>\n            \n            <h4>How do we know this nova is getting ready to blow?</h4>\n            <p>\n              Luckily, novas only blow up the gas that has settled on the surface of the white dwarf, and NOT the white dwarf itself. This means that the white dwarf can pull a new round of gas from its companion star. In some nova systems, this cycle of collecting gas, going nova, collecting more gas, going nova again, happens at a repeatable timescale. For T CrB, this has happened roughly every 80 years. It last blew in 1946, and before that, it blew in 1866. Astronomers have observed changes in the star's overall brightness that suggest it is getting ready to go nova again soon!\n            </p>\n            <h4>Why does this star have multiple names?</h4>\n            <p>\n              Astronomers usually name stars for the constellation they are in, and approximately for the relative brightness within the constellation, as designated by Greek letters. For example, the brightest star in Corona Borealis, Alphecca, is also known as &#945;-CrB. The 2nd brightest star is &#946;-CrB. \n            </p>\n            <p>\n              The astronomer Friedrich Argelander began the practice of assigning Roman letters to stars that vary in brightness, beginning with the letter R. So the \"T\" in T CrB means that it is the third variable star discovered within Corona Borealis.\n            </p>\n            <p>\n              The nickname \"Blaze Star\" was given to T CrB after it \"blazed forth suddenly\" on May 12, 1866, becoming as bright as Alphecca. Learn more about the history in this 1897 <a href=\"https://articles.adsabs.harvard.edu/pdf/1897PA......5...97P\" target=\"_blank\"\n              rel=\"noopener noreferrer\">article</a>, <em>Heavens for June</em> (see section \"The Northern Crown\"), by Mary Proctor.\n            </p>\n          </v-card-text>\n          <v-card-text v-if=\"tab==1\" class=\"info-text tab-items no-bottom-border-radius scrollable\">\n            <v-container>\n              <v-row align=\"center\">\n                <v-col cols=\"4\">\n                  <v-chip label outlined>\n                    Pan\n                  </v-chip>\n                </v-col>\n                <v-col cols=\"8\" class=\"pt-1\">\n                  <strong>{{ touchscreen ? \"press + drag\" : \"click + drag\" }}</strong> {{ touchscreen ? \":\" : \"or\"\n                  }} <strong>{{ touchscreen ? \":\" : \"W-A-S-D\" }}</strong> {{ touchscreen ? \":\" : \"keys\" }}<br>\n                </v-col>\n              </v-row>\n              <v-row align=\"center\">\n                <v-col cols=\"4\">\n                  <v-chip label outlined>\n                    Zoom\n                  </v-chip>\n                </v-col>\n                <v-col cols=\"8\" class=\"pt-1\">\n                  <strong>{{ touchscreen ? \"pinch in and out\" : \"scroll in and out\" }}</strong> {{ touchscreen ? \":\"\n                    : \"or\" }} <strong>{{ touchscreen ? \":\" : \"I-O\" }}</strong> {{ touchscreen ? \":\" : \"keys\" }}<br>\n                </v-col>\n              </v-row>\n              <v-row>\n                <v-col cols=\"12\">\n                  <div class=\"credits\">\n                    <h3>Credits:</h3>\n                    <h4><a href=\"https://www.cosmicds.cfa.harvard.edu/\" target=\"_blank\"\n                        rel=\"noopener noreferrer\">CosmicDS</a> Vue Data Stories Team:</h4>\n                    John Lewis<br>\n                    Jon Carifio<br>\n                    Pat Udomprasert<br>\n                    Alyssa Goodman<br>\n                    Mary Dussault<br>\n                    Harry Houghton<br>\n                    Anna Nolin<br>\n                    Evaluator: Sue Sunbury<br>\n                    <br>\n                    <h4>WorldWide Telescope Team:</h4>\n                    Peter Williams<br>\n                    A. David Weigel<br>\n                    Jon Carifio<br>\n                  </div>\n                  <v-spacer class=\"end-spacer\"></v-spacer>\n                </v-col>\n              </v-row>\n              <v-row>\n                <v-col>\n                  <funding-acknowledgement />\n                </v-col>\n              </v-row>\n            </v-container>\n          </v-card-text>\n  </v-card>\n  </v-dialog>\n</template>\n\n\n<script setup lang=\"ts\">\nimport { defineProps, defineEmits, withDefaults, defineModel, watch, ref } from 'vue';\nimport { engineStore } from \"@wwtelescope/engine-pinia\";\n\nexport interface Props {\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  cssVars?: any;\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  accentColor?: any;\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  touchscreen?: any;\n  showBlazeOverlay: boolean;\n  showAlphaOverlay: boolean;\n}\n\nconst props = withDefaults(defineProps<Props>(),{\n  cssVars: () => ({}),\n  accentColor: () => 'accent',\n  touchscreen: () => false,\n  showBlazeOverlay: false,\n  showalphaOverlay: false,\n});\n\nconst emits = defineEmits(['close', 'toggle-blaze', 'toggle-alpha']);\n\nconst { cssVars, accentColor, touchscreen } = props;\n\nconst tab = ref(0);\n\nconst showTextSheet = defineModel({default: true});\n\nconst store = engineStore();\n\nfunction playTour() {\n  store.loadTour({ url: `${window.location.origin}/FindingCoronaBorealis.WTT`, play: true });\n}\n\nwatch(() => showTextSheet, (newVal) => {\n  if (!newVal) {\n    emits('close');\n  }\n});\n\n</script>\n\n<style lang=\"less\">\n\n.bottom-sheet {\n  .v-overlay__content {\n    align-self: flex-end;\n    padding: 0;\n    margin: 0;\n    max-width: 100%;\n    height: 34%;\n  }\n\n  #tabs {\n    width: calc(100% - 3em);\n    align-self: left;\n  }\n  \n  .info-tabs {\n    border-bottom: 2px solid var(--accent-color);\n  }\n\n  .info-text {\n    height: 33vh;\n    padding-bottom: 25px;\n\n    & a {\n      text-decoration: none;\n    }\n  }\n\n  .close-icon {\n    position: absolute;\n    top: 10px;\n    right: 10px;\n    z-index: 15;\n\n    &:hover {\n      cursor: pointer;\n    }\n\n    &:focus {\n      color: white;\n      border: 2px solid white;\n    }\n  }\n\n  .scrollable {\n    overflow-y: auto;\n  }\n\n\n\n  #bottom-sheet-card .tab-items.v-card-text {\n    font-size: ~\"max(14px, calc(0.7em + 0.3vw))\";\n    padding-top: ~\"max(2vw, 16px)\";\n    padding-left: ~\"max(4vw, 16px)\";\n    padding-right: ~\"max(4vw, 16px)\";\n\n    .end-spacer {\n      height: 25px;\n    }\n  }\n\n\n  #close-text-icon {\n    position: absolute;\n    top: 0.25em;\n    right: calc((3em - 0.6875em) / 3); // font-awesome-icons have width 0.6875em\n    color: white;\n  }\n\n  // This prevents the tabs from having some extra space to the left when the screen is small\n  // (around 400px or less)\n  .v-tabs:not(.v-tabs--vertical).v-tabs--right>.v-slide-group--is-overflowing.v-tabs-bar--is-mobile:not(.v-slide-group--has-affixes) .v-slide-group__next,\n  .v-tabs:not(.v-tabs--vertical):not(.v-tabs--right)>.v-slide-group--is-overflowing.v-tabs-bar--is-mobile:not(.v-slide-group--has-affixes) .v-slide-group__prev {\n    display: none;\n  }\n}\n\nfigure {\n  padding: 0.5em;\n  margin: 1em;\n  background-color: #151515;\n}\n\n.fig-right {\n  float: right;\n}\n\n.fig-left {\n  float: left;\n}\n\nfigcaption {\n  font-size: 0.8em;\n  color: #ccc;\n}\n\n</style>\n","import script from \"./BottomSheet.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./BottomSheet.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./BottomSheet.vue?vue&type=style&index=0&id=43603f34&lang=less\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { useModel as _useModel, mergeModels as _mergeModels, defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, createTextVNode as _createTextVNode, normalizeStyle as _normalizeStyle, resolveDirective as _resolveDirective, openBlock as _openBlock, createElementBlock as _createElementBlock, withDirectives as _withDirectives, withCtx as _withCtx, createBlock as _createBlock } from \"vue\"\n\nconst _hoisted_1 = /*#__PURE__*/_createElementVNode(\"div\", { id: \"splash-screen-text\" }, [\n  /*#__PURE__*/_createElementVNode(\"p\", null, \"Coming soon:\"),\n  /*#__PURE__*/_createElementVNode(\"p\", { class: \"highlight\" }, \"Blaze Star Nova\"),\n  /*#__PURE__*/_createElementVNode(\"p\", null, \"Learn where in the sky to watch for a \\\"new\\\" star!\")\n], -1)\nconst _hoisted_2 = {\n  id: \"splash-screen-acknowledgements\",\n  class: \"small\"\n}\nconst _hoisted_3 = /*#__PURE__*/_createElementVNode(\"a\", {\n  href: \"https://www.cosmicds.cfa.harvard.edu/\",\n  target: \"_blank\",\n  rel: \"noopener noreferrer\"\n}, \"Cosmic Data Stories\", -1)\nconst _hoisted_4 = /*#__PURE__*/_createElementVNode(\"a\", {\n  href: \"https://www.worldwidetelescope.org/home/\",\n  target: \"_blank\",\n  rel: \"noopener noreferrer\"\n}, \"WorldWide Telescope\", -1)\nconst _hoisted_5 = { id: \"splash-screen-logos\" }\n\n\nexport interface Props {\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  cssVars?: any;\n}\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'SplashScreen',\n  props: /*#__PURE__*/_mergeModels({\n    cssVars: { default: () => ({}) }\n  }, {\n    \"modelValue\": {default: true},\n    \"modelModifiers\": {},\n  }),\n  emits: /*#__PURE__*/_mergeModels(['close'], [\"update:modelValue\"]),\n  setup(__props: any, { emit: __emit }) {\n\nconsole.log('SplashScreen.vue');\n\nconst props = __props;\n\nconst emits = __emit;\n\nconst showSplashScreen = _useModel(__props, \"modelValue\");\n\n\nfunction closeSplashScreen() {\n  showSplashScreen.value = false;\n  emits('close');\n}\n\n\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_credit_logos = _resolveComponent(\"credit-logos\")!\n  const _component_v_overlay = _resolveComponent(\"v-overlay\")!\n  const _directive_click_outside = _resolveDirective(\"click-outside\")!\n\n  return (_openBlock(), _createBlock(_component_v_overlay, {\n    \"model-value\": showSplashScreen.value,\n    absolute: \"\",\n    opacity: \"0.6\",\n    style: _normalizeStyle(props.cssVars),\n    id: \"splash-overlay\"\n  }, {\n    default: _withCtx(() => [\n      _withDirectives((_openBlock(), _createElementBlock(\"div\", {\n        id: \"splash-screen\",\n        style: _normalizeStyle(props.cssVars)\n      }, [\n        _createElementVNode(\"div\", {\n          id: \"close-splash-button\",\n          onClick: closeSplashScreen\n        }, \" \"),\n        _hoisted_1,\n        _createElementVNode(\"div\", _hoisted_2, [\n          _createTextVNode(\" This Data Story is brought to you by \"),\n          _hoisted_3,\n          _createTextVNode(\" and \"),\n          _hoisted_4,\n          _createTextVNode(\". \"),\n          _createElementVNode(\"div\", _hoisted_5, [\n            _createVNode(_component_credit_logos, { \"logo-size\": \"5vmin\" })\n          ])\n        ])\n      ], 4)), [\n        [_directive_click_outside, closeSplashScreen]\n      ])\n    ]),\n    _: 1\n  }, 8, [\"model-value\", \"style\"]))\n}\n}\n\n})","<template>\n  <v-overlay :model-value=\"showSplashScreen\" absolute opacity=\"0.6\" :style=\"props.cssVars\" id=\"splash-overlay\">\n      <div id=\"splash-screen\" v-click-outside=\"closeSplashScreen\" :style=\"props.cssVars\">\n        <div id=\"close-splash-button\" @click=\"closeSplashScreen\">&times;\n        </div>\n        <div id=\"splash-screen-text\">\n          <p>Coming soon:</p> \n          <p class=\"highlight\">Blaze Star Nova</p>\n          <p>Learn where in the sky to watch for a \"new\" star!</p>\n        </div>\n        <div id=\"splash-screen-acknowledgements\" class=\"small\">\n          This Data Story is brought to you by <a href=\"https://www.cosmicds.cfa.harvard.edu/\" target=\"_blank\"\n            rel=\"noopener noreferrer\">Cosmic Data Stories</a> and <a href=\"https://www.worldwidetelescope.org/home/\"\n            target=\"_blank\" rel=\"noopener noreferrer\">WorldWide Telescope</a>.\n\n          <div id=\"splash-screen-logos\">\n            <credit-logos logo-size=\"5vmin\" />\n          </div>\n        </div>\n      </div>\n    </v-overlay>\n</template>\n\n\n<script setup lang=\"ts\">\nimport { defineProps, defineModel, defineEmits, withDefaults } from 'vue';\nconsole.log('SplashScreen.vue');\n\nexport interface Props {\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  cssVars?: any;\n}\n\nconst props = withDefaults(defineProps<Props>(),{\n  cssVars: () => ({})\n});\n\nconst emits = defineEmits(['close']);\n\nconst showSplashScreen = defineModel({default: true});\n\n\nfunction closeSplashScreen() {\n  showSplashScreen.value = false;\n  emits('close');\n}\n\n\n</script>\n\n\n<style lang=\"less\">\n\n\n#splash-overlay {\n  position: fixed;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n}\n\np.highlight {\n    color: var(--accent-color);\n    text-transform: uppercase;\n    font-weight: bolder;\n\n    @media (max-width: 750px) {\n      font-weight: bold;\n    }\n}\n\n#splash-screen {\n  color: #FFFFFF;\n  background-color: #000000;\n  display: flex;\n  flex-direction: column;\n  // flex-wrap: wrap;\n  align-content: center;\n  justify-content: space-around;\n\n  font-family: 'Highway Gothic Narrow', 'Roboto', sans-serif;\n  font-size: min(9vw, 6vh);\n\n  border-radius: 30px;\n  border: min(1.2vw, 0.9vh) solid var(--accent-color);\n  overflow: auto;\n  padding-top: 4rem;\n  padding-bottom: 1rem;\n\n  @media (max-width: 699px) {\n    max-height: 80vh;\n    max-width: 90vw;\n  }\n\n  @media (min-width: 700px) {\n    max-height: 85vh;\n    max-width: min(65vw, 800px);\n  }\n\n  div {\n    margin-inline: 7%;\n    text-align: center;\n  }\n\n  .small {\n    font-size: var(--default-font-size);\n    font-weight: bold;\n    margin-top: 1rem;\n  }\n\n  #splash-screen-logos {\n    margin-top: 1.5rem;\n  }\n\n  #close-splash-button {\n    position: absolute;\n    top: 0.5rem;\n    right: 0;\n    text-align: end;\n    color: var(--accent-color);\n    font-size: min(8vw, 5vh);\n\n    &:hover {\n      cursor: pointer;\n    }\n  }\n}\n\n\n</style>","import script from \"./SplashScreen.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./SplashScreen.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./SplashScreen.vue?vue&type=style&index=0&id=9fd5d0cc&lang=less\"\n\nconst __exports__ = script;\n\nexport default __exports__","// geolocation.ts\n\n// Vue composable for interacting with the geolocation API\nimport { ref, onMounted, onUnmounted, computed } from \"vue\";\n\ntype Position = {\n  latitude: number | null;\n  longitude: number | null;\n};\n\nexport function useGeolocation(requestOnMount = true) {\n  const isSupported = \"geolocation\" in navigator;\n  const isLoading = ref(false);\n\n  // PermissionStatus states\n  // https://developer.mozilla.org/en-US/docs/Web/API/PermissionStatus/state\n  const isPermissionGranted = ref(false);\n  const isPermissionDenied = ref(false);\n  const isPermissionPrompt = ref(false);\n  const checkingPermissions = ref(false);\n  const permissionsRequested = ref(false);\n\n  const error = ref<Error | GeolocationPositionError | null>(null);\n\n  const geolocationSuccess = ref(false);\n  const position = ref<Position>({\n    latitude: null,\n    longitude: null,\n  });\n  \n  const hasError = computed(() => error.value !== null);\n\n  const handlePermission = (status: PermissionStatus) => {\n    isPermissionGranted.value = status.state === \"granted\";\n    isPermissionDenied.value = status.state === \"denied\";\n    isPermissionPrompt.value = status.state === \"prompt\";\n  };\n\n  const checkPermission = async () => {\n    checkingPermissions.value = true;\n    error.value = null;\n\n    try {\n      const status = await navigator.permissions.query({ name: \"geolocation\" });\n      handlePermission(status);\n      status.onchange = () => handlePermission(status);\n    } catch (err) {\n      console.error(\"Error getting permission\", err);\n      error.value = err as Error;\n    } finally {\n      permissionsRequested.value = true;\n      checkingPermissions.value = false;\n    }\n  };\n\n  const handleSuccess = (pos: GeolocationPosition) => {\n    isLoading.value = false;\n    geolocationSuccess.value = true;\n    position.value = {\n      latitude: pos.coords.latitude,\n      longitude: pos.coords.longitude,\n    };\n  };\n\n  const handleError = (err: GeolocationPositionError) => {\n    isLoading.value = false;\n    if (err.code === err.PERMISSION_DENIED) {\n      isPermissionDenied.value = true;\n      const url = \"https://www.lifewire.com/turn-on-mobile-location-services-4156232\";\n      error.value = {\n        code: 1,\n        message: `Location access was denied. Try enabling location services for your browser in system settings. (This feature might not work on Safari on some iPhones). <a href=\"${url}\" target=\"_blank\" rel=\"noopener noreferrer\">Help</a>`,\n      } as GeolocationPositionError;\n    } else if (err.code === err.POSITION_UNAVAILABLE) {\n      error.value = {\n        code: 2,\n        message: \"Location information is unavailable.\",\n      } as GeolocationPositionError;\n    } else if (err.code === err.TIMEOUT) {\n      error.value = {\n        code: 3,\n        message: \"The request to get user location timed out.\",\n      } as GeolocationPositionError;\n    } else {\n      error.value = err;\n    }\n  };\n\n  const getCurrentLocation = async () => {\n    if (!isSupported) {\n      return;\n    }\n    \n    if (!permissionsRequested.value) {\n      checkPermission();\n    }\n\n    isLoading.value = true;\n    error.value = null;\n\n    const options = {\n      enableHighAccuracy: true,\n      timeout: 60 * 1000, // 1 minute\n      maximumAge: 5 * 60 * 1000, // 5 minutes\n    };\n\n    navigator.geolocation.getCurrentPosition(\n      handleSuccess,\n      handleError,\n      options\n    );\n  };\n\n  let watchId: number | null = null;\n\n  const watchLocation = () => {\n    if (!isSupported) {\n      return;\n    }\n\n    isLoading.value = true;\n    error.value = null;\n\n    const options = {\n      enableHighAccuracy: true,\n      timeout: 60 * 1000, // 1 minute\n      maximumAge: 5 * 60 * 1000, // 5 minutes\n    };\n\n    watchId = navigator.geolocation.watchPosition(\n      handleSuccess,\n      handleError,\n      options\n    );\n  };\n\n  const clearWatch = () => {\n    if (watchId !== null) {\n      navigator.geolocation.clearWatch(watchId);\n      watchId = null;\n    }\n  };\n\n  onMounted(() => {\n    if (requestOnMount) {\n      checkPermission();\n    }\n  });\n\n  onUnmounted(() => {\n    clearWatch();\n  });\n\n  return {\n    isSupported, // If geolocation is supported in the browser\n    isPermissionGranted, // If the user has granted geolocation permission\n    isPermissionDenied, // If the user has denied geolocation permission\n    isPermissionPrompt, // If the user has not yet been prompted for geolocation permission\n    permissionsRequested, // flag that we have requested permissions\n    checkingPermissions, // flag that we are checking the permissions\n    isLoading, // flag that we are getting the location\n    error, // error object if there was an error\n    hasError, // flag that there was an error\n    geolocationSuccess, // flag that we have successfully gotten the location\n    position, // object with latitude and longitude\n    checkPermission, // function to request geolocation permission\n    getCurrentLocation, // function to get the current location\n    watchLocation, // function to watch the location\n    clearWatch, // function to clear the location watch\n  };\n}\n","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, withModifiers as _withModifiers, createVNode as _createVNode, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode } from \"vue\"\n\nconst _hoisted_1 = [\"id\"]\nconst _hoisted_2 = {\n  key: 0,\n  class: \"geolocation-debug\"\n}\n\nimport { computed, watch } from 'vue';\nimport { VBtn } from 'vuetify/components/VBtn';\nimport { useGeolocation } from './geolocation';\n\ntype Density = null | 'default' | 'comfortable' | 'compact';\n\nexport interface GeolocationProps {\n  color?: string;\n  debug?: boolean;\n  disabled?: boolean;\n  size?: string;\n  density?: Density;\n  elevation?: string;\n  showCoords?: boolean;\n  showLoading?: boolean;\n  id?: string | null;\n  trueIcon?: string;\n  falseIcon?: string;\n  backgroundColor?: string;\n  showPermissions?: boolean;\n}\n\n// Define props with default values using withDefaults\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'GeolocationButton',\n  props: {\n    color: { default: 'white' },\n    debug: { type: Boolean, default: false },\n    disabled: { type: Boolean, default: false },\n    size: { default: 'small' },\n    density: { default: 'comfortable' },\n    elevation: { default: \"2\" },\n    showCoords: { type: Boolean, default: false },\n    showLoading: { type: Boolean, default: true },\n    id: { default: '' },\n    trueIcon: { default: 'mdi-crosshairs-gps' },\n    falseIcon: { default: 'mdi-crosshairs' },\n    backgroundColor: { default: 'black' },\n    showPermissions: { type: Boolean, default: false }\n  },\n  emits: ['location'],\n  setup(__props: any, { emit: __emit }) {\n\nconst props = __props;\n\n\n\nconst { \n  isSupported, // If geolocation is supported in the browser\n  isPermissionGranted, // If the user has granted geolocation permission\n  isPermissionDenied, // If the user has denied geolocation permission\n  isPermissionPrompt, // If the user has not yet been prompted for geolocation permission\n  permissionsRequested, // flag that we have requested permissions\n  checkingPermissions, // flag that we are checking the permissions\n  isLoading, // flag that we are getting the location\n  error, // error object if there was an error\n  hasError, // flag that there was an error\n  geolocationSuccess, // flag that we have successfully gotten the location\n  position, // object with latitude and longitude\n  getCurrentLocation, // function to get the current location\n} = useGeolocation(true);\n\nconst icon = computed(() => geolocationSuccess.value ? props.trueIcon : props.falseIcon);\n\n\nconst emits = __emit;\n\nwatch(position, (newVal) => {\n  if (newVal) {\n    emits('location', newVal);\n  }\n});\n\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"span\", {\n    id: 'geolocation-wrapper' + (_ctx.id ? '_' : '') + _ctx.id,\n    class: \"jl_geolocation\"\n  }, [\n    _createVNode(_unref(VBtn), {\n      class: \"geolocation-button\",\n      density: _ctx.density,\n      size: _ctx.size,\n      variant: \"flat\",\n      elevation: _ctx.elevation,\n      loading: _unref(isLoading),\n      icon: icon.value,\n      color: _unref(hasError) ? 'red' : _ctx.color,\n      onClick: _withModifiers(_unref(getCurrentLocation), [\"stop\"])\n    }, null, 8, [\"density\", \"size\", \"elevation\", \"loading\", \"icon\", \"color\", \"onClick\"]),\n    (_ctx.debug)\n      ? (_openBlock(), _createElementBlock(\"div\", _hoisted_2, [\n          _createElementVNode(\"div\", null, [\n            _createElementVNode(\"div\", null, \"isSupported: \" + _toDisplayString(_unref(isSupported)), 1),\n            _createElementVNode(\"div\", null, \"permissionsRequested: \" + _toDisplayString(_unref(permissionsRequested)), 1),\n            _createElementVNode(\"div\", null, \"isPermissionGranted: \" + _toDisplayString(_unref(isPermissionGranted)), 1),\n            _createElementVNode(\"div\", null, \"isPermissionDenied: \" + _toDisplayString(_unref(isPermissionDenied)), 1),\n            _createElementVNode(\"div\", null, \"isPermissionPrompt: \" + _toDisplayString(_unref(isPermissionPrompt)), 1),\n            _createElementVNode(\"div\", null, \"checkingPermissions: \" + _toDisplayString(_unref(checkingPermissions)), 1),\n            _createElementVNode(\"div\", null, \"isLoading: \" + _toDisplayString(_unref(isLoading)), 1),\n            _createElementVNode(\"div\", null, \"error: \" + _toDisplayString(_unref(error)), 1),\n            _createElementVNode(\"div\", null, \"hasError: \" + _toDisplayString(_unref(hasError)), 1),\n            _createElementVNode(\"div\", null, \"geolocationSuccess: \" + _toDisplayString(_unref(geolocationSuccess)), 1),\n            _createElementVNode(\"div\", null, \"position: \" + _toDisplayString(_unref(position)), 1)\n          ])\n        ]))\n      : _createCommentVNode(\"\", true)\n  ], 8, _hoisted_1))\n}\n}\n\n})","<template>\n  <span :id=\"'geolocation-wrapper' + (id ? '_' : '') + id\" class=\"jl_geolocation\">\n    <VBtn \n      class=\"geolocation-button\"\n      :density=\"density\"\n      :size=\"size\"\n      variant=\"flat\"\n      :elevation=\"elevation\"\n      :loading=\"isLoading\"\n      :icon=\"icon\"\n      :color=\"hasError ? 'red' : color\"\n      @click.stop=\"getCurrentLocation\" \n    />\n    \n    <div v-if=\"debug\" class=\"geolocation-debug\">\n      <div>\n        <div>isSupported: {{ isSupported }}</div>\n        <div>permissionsRequested: {{ permissionsRequested }}</div>\n        <div>isPermissionGranted: {{ isPermissionGranted }}</div>\n        <div>isPermissionDenied: {{ isPermissionDenied }}</div>\n        <div>isPermissionPrompt: {{ isPermissionPrompt }}</div>\n        <div>checkingPermissions: {{ checkingPermissions }}</div>\n        <div>isLoading: {{ isLoading }}</div>\n        <div>error: {{ error }}</div>\n        <div>hasError: {{ hasError }}</div>\n        <div>geolocationSuccess: {{ geolocationSuccess }}</div>\n        <div>position: {{ position }}</div>\n      </div>\n    </div>\n\n  </span>\n  \n\n</template>\n\n<script setup lang=\"ts\">\nimport { withDefaults, defineProps, computed, defineEmits, watch } from 'vue';\nimport { VBtn } from 'vuetify/components/VBtn';\nimport { useGeolocation } from './geolocation';\n\ntype Density = null | 'default' | 'comfortable' | 'compact';\n\nexport interface GeolocationProps {\n  color?: string;\n  debug?: boolean;\n  disabled?: boolean;\n  size?: string;\n  density?: Density;\n  elevation?: string;\n  showCoords?: boolean;\n  showLoading?: boolean;\n  id?: string | null;\n  trueIcon?: string;\n  falseIcon?: string;\n  backgroundColor?: string;\n  showPermissions?: boolean;\n}\n\n// Define props with default values using withDefaults\nconst props = withDefaults(defineProps<GeolocationProps>(), {\n  color: 'white',\n  debug: false,\n  disabled: false,\n  size: 'small',\n  density: 'comfortable',\n  elevation: \"2\",\n  showCoords: false,\n  showLoading: true,\n  useTextButton: false,\n  progressCircleSize: 12,\n  id: '',\n  trueIcon: 'mdi-crosshairs-gps',\n  falseIcon: 'mdi-crosshairs',\n  backgroundColor: 'black',\n  showPermissions: false,\n});\n\n\n\nconst { \n  isSupported, // If geolocation is supported in the browser\n  isPermissionGranted, // If the user has granted geolocation permission\n  isPermissionDenied, // If the user has denied geolocation permission\n  isPermissionPrompt, // If the user has not yet been prompted for geolocation permission\n  permissionsRequested, // flag that we have requested permissions\n  checkingPermissions, // flag that we are checking the permissions\n  isLoading, // flag that we are getting the location\n  error, // error object if there was an error\n  hasError, // flag that there was an error\n  geolocationSuccess, // flag that we have successfully gotten the location\n  position, // object with latitude and longitude\n  getCurrentLocation, // function to get the current location\n} = useGeolocation(true);\n\nconst icon = computed(() => geolocationSuccess.value ? props.trueIcon : props.falseIcon);\n\n\nconst emits = defineEmits(['location']);\n\nwatch(position, (newVal) => {\n  if (newVal) {\n    emits('location', newVal);\n  }\n});\n\n</script>\n\n\n<style>\n.jl_geolocation{\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  align-items: left;\n}\n.geolocation-debug {\n  background-color: rgba(0, 0, 0, 0.5);\n  border-radius: 5px;\n  border: 1px solid red;\n  margin: 5px;\n  padding: 5px;\n}\n\n</style>","import script from \"./GeolocationButton.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./GeolocationButton.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./GeolocationButton.vue?vue&type=style&index=0&id=67055322&lang=css\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode } from \"vue\"\n\nconst _hoisted_1 = { class: \"td__container\" }\nconst _hoisted_2 = { class: \"td__time\" }\nconst _hoisted_3 = { class: \"td__time_time\" }\nconst _hoisted_4 = { class: \"td__date\" }\nconst _hoisted_5 = { class: \"td__date_date\" }\nconst _hoisted_6 = {\n  key: 0,\n  class: \"td__timezone\"\n}\nconst _hoisted_7 = { class: \"td__timezone_tz\" }\n\nimport { computed } from 'vue';\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'TimeDisplay',\n  props: {\n  date: { type: Date, required: true },\n  ampm: { type: Boolean, default: false },\n  showTimezone: { type: Boolean, default: false, required: false },\n  timezone: { \n    type: String, \n    default: Intl.DateTimeFormat().resolvedOptions().timeZone, \n    required: false \n  },\n},\n  setup(__props) {\n\nconst props = __props;\n\nfunction pad(number: number, length: number = 2): string {\n  return String(number).padStart(length, '0');\n}\n\n\nconst hours = computed(() => {\n  if (props.ampm) {\n    const hour = props.date.getHours() % 12;\n    return hour === 0 ? 12 : hour;\n  } else {\n    return props.date.getHours();\n  }\n});\n\n\nconst ampm = computed(() => {\n  return props.date.getHours() >= 12 ? 'PM' : 'AM';\n});\n\n\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      _createElementVNode(\"span\", _hoisted_3, _toDisplayString(pad(hours.value)) + \":\" + _toDisplayString(pad(props.date.getMinutes())) + \":\" + _toDisplayString(pad(props.date.getSeconds())) + \" \" + _toDisplayString(props.ampm ? ampm.value : ''), 1)\n    ]),\n    _createElementVNode(\"div\", _hoisted_4, [\n      _createElementVNode(\"span\", _hoisted_5, _toDisplayString(props.date.getFullYear()) + \"-\" + _toDisplayString(pad(props.date.getMonth() + 1)) + \"-\" + _toDisplayString(pad(props.date.getDate())), 1)\n    ]),\n    (props.showTimezone)\n      ? (_openBlock(), _createElementBlock(\"div\", _hoisted_6, [\n          _createElementVNode(\"span\", _hoisted_7, _toDisplayString(props.timezone), 1)\n        ]))\n      : _createCommentVNode(\"\", true)\n  ]))\n}\n}\n\n})","<template>\n    <div class=\"td__container\">\n      <div class=\"td__time\">\n        <span class=\"td__time_time\">{{ pad(hours) }}:{{ pad(props.date.getMinutes()) }}:{{ pad(props.date.getSeconds()) }} {{ props.ampm ? ampm : '' }}</span>\n      </div>\n      <div class=\"td__date\">\n        <span class=\"td__date_date\">{{ props.date.getFullYear() }}-{{ pad(props.date.getMonth() + 1) }}-{{ pad(props.date.getDate()) }}</span>\n      </div>\n      <div class=\"td__timezone\" v-if=\"props.showTimezone\">\n        <span class=\"td__timezone_tz\">{{ props.timezone }}</span>\n      </div>\n   </div>  \n</template>\n\n\n\n<script setup lang=\"ts\">\nimport { computed, defineProps } from 'vue';\n\nconst props = defineProps({\n  date: { type: Date, required: true },\n  ampm: { type: Boolean, default: false },\n  showTimezone: { type: Boolean, default: false, required: false },\n  timezone: { \n    type: String, \n    default: Intl.DateTimeFormat().resolvedOptions().timeZone, \n    required: false \n  },\n}\n);\n\nfunction pad(number: number, length: number = 2): string {\n  return String(number).padStart(length, '0');\n}\n\n\nconst hours = computed(() => {\n  if (props.ampm) {\n    const hour = props.date.getHours() % 12;\n    return hour === 0 ? 12 : hour;\n  } else {\n    return props.date.getHours();\n  }\n});\n\n\nconst ampm = computed(() => {\n  return props.date.getHours() >= 12 ? 'PM' : 'AM';\n});\n\n\n</script>\n\n<style>\n\n.td__container {\n  margin: 1em;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  color: currentColor;\n}\n\n.td__time {\n  width: max-content;\n}\n\n.td__time_time {\n  font-size: 1em;\n  color: inherit;\n  text-align: center;\n  text-wrap: nowrap;\n  width: fit-content;\n}\n\n.td__date {\n  width: max-content;\n}\n\n.td__date_date {\n  font-size: 0.75em;\n  color: inherit;\n  text-align: center;\n  text-wrap: nowrap;\n  width: fit-content;\n}\n\n.td__timezone {\n  width: max-content;\n}\n\n.td__timezone_tz {\n  font-size: 0.75em;\n  color: inherit;\n  text-align: center;\n  text-wrap: nowrap;\n  width: fit-content;\n}\n\n</style>","import script from \"./TimeDisplay.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./TimeDisplay.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./TimeDisplay.vue?vue&type=style&index=0&id=37c26e5a&lang=css\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { useModel as _useModel, mergeModels as _mergeModels, defineComponent as _defineComponent } from 'vue'\nimport { toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode } from \"vue\"\n\nconst _hoisted_1 = [\"min\", \"max\", \"step\", \"value\"]\n\nimport { ref, watch, computed } from 'vue';\n\nexport interface Props {\n  editable?: boolean;\n  min?: string | number\n  max?: string | number ;\n  step?: number;\n  clamp?: boolean;\n  zeroPad?: number;\n  pad2?: boolean;\n}\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'TapToInput',\n  props: /*#__PURE__*/_mergeModels({\n    editable: { type: Boolean, default: true },\n    min: { default: 0 },\n    max: { default: 9999 },\n    step: { default: 1 },\n    clamp: { type: Boolean, default: false },\n    zeroPad: { default: 0 },\n    pad2: { type: Boolean, default: false }\n  }, {\n    \"modelValue\": { default: 0 },\n    \"modelModifiers\": {},\n  }),\n  emits: [\"update:modelValue\"],\n  setup(__props: any) {\n\nconst value = _useModel(__props, \"modelValue\");\nconst psuedoValue = ref(value.value);\n\nconst editing = ref(false);\nconst input = ref();\n\nconst props = __props;\n\nfunction pad(value: number) {\n  if (props.zeroPad > 0) {\n    return value.toString().padStart(props.zeroPad, '0');\n  }\n  if (props.pad2) {\n    return value.toString().padStart(2, '0');\n  }\n  return value;\n}\n\nconst parseValue = (value: string | number | CallableFunction) => {\n  if (typeof value === 'number') {\n    return value;\n  } \n  if (typeof value === 'function') {\n    return value();\n  }\n  return value.includes('.') ? parseFloat(value) : parseInt(value);\n};\n\nconst minValue = ref(parseValue(props.min));\nconst maxValue = ref(parseValue(props.max));\nconst stepValue = ref(parseValue(props.step));\n\nfunction setValue(event: Event) {\n  if (event.target) {\n    psuedoValue.value = parseInt((event.target as HTMLInputElement).value);\n  }\n}\n\nfunction blurred() {\n  editing.value = false;\n}\n\nfunction round(value, toNearest) {\n  return Math.round(value / toNearest) * toNearest;\n}\n\nconst isValid = computed(() => {\n  if (psuedoValue.value < minValue.value) {\n    return false;\n  }\n  if (psuedoValue.value > maxValue.value) {\n    return false;\n  }\n  return true;\n});\n\nfunction clampValue(value: number) {\n  if (!props.clamp) {\n    return value;\n  }\n  if (value < minValue.value) {\n    value = minValue.value;\n  } else if (value > maxValue.value) {\n    value = maxValue.value;\n  }\n  if ((value % stepValue.value) !== 0) {\n    value = round(value, stepValue.value);\n  }\n  return value;\n}\n\n// watch props\nwatch(() => props.min, (newVal) => {\n  minValue.value = parseValue(newVal);\n  psuedoValue.value = clampValue(psuedoValue.value);\n});\n\nwatch(() => props.max, (newVal) => {\n  maxValue.value = parseValue(newVal);\n  psuedoValue.value = clampValue(psuedoValue.value);\n});\n\nwatch(() => props.step, (newVal) => {\n  stepValue.value = parseValue(newVal);\n});\n\nwatch(value, (newVal) => {\n  psuedoValue.value = clampValue(newVal);\n});\n\n\nwatch(input, (value) => {\n  if (value) {\n    value.focus();\n  }    \n});\n\nwatch(psuedoValue, (newValue, oldValue) => {\n  if (isValid.value) {\n    value.value = psuedoValue.value;\n    return;\n  }\n  if (props.clamp) {\n    psuedoValue.value = clampValue(newValue);\n    value.value = psuedoValue.value;\n    return;\n  }\n  psuedoValue.value = oldValue;\n  \n});\n\n\nreturn (_ctx: any,_cache: any) => {\n  return (!editing.value || !props.editable)\n    ? (_openBlock(), _createElementBlock(\"span\", {\n        key: 0,\n        onClick: _cache[0] || (_cache[0] = ($event: any) => (editing.value = !editing.value)),\n        ref: \"display\",\n        class: \"tti__display\"\n      }, _toDisplayString(pad(psuedoValue.value)), 513))\n    : (_openBlock(), _createElementBlock(\"input\", {\n        key: 1,\n        type: \"number\",\n        min: minValue.value,\n        max: maxValue.value,\n        step: stepValue.value,\n        value: psuedoValue.value,\n        onChange: setValue,\n        onBlur: blurred,\n        ref_key: \"input\",\n        ref: input,\n        class: \"tti__input\"\n      }, null, 40, _hoisted_1))\n}\n}\n\n})","<!-- Input/Display with up down arrow above and below -->\n<template>\n    <span \n      v-if=\"!editing || !props.editable\"\n      @click=\"editing = !editing\"\n      ref=\"display\"\n      class=\"tti__display\"\n      >{{ pad(psuedoValue) }}\n    </span>\n    <input \n      v-else\n      type=\"number\" \n      :min=\"minValue\"\n      :max=\"maxValue\"\n      :step=\"stepValue\"\n      :value=\"psuedoValue\" \n      @change=\"setValue\"\n      @blur=\"blurred\"\n      ref=\"input\"\n      class=\"tti__input\"\n      />\n</template>\n\n<script setup lang=\"ts\">\nimport { ref, withDefaults, watch, computed } from 'vue';\n\nconst value = defineModel({ default: 0 });\nconst psuedoValue = ref(value.value);\n\nconst editing = ref(false);\nconst input = ref();\n\nexport interface Props {\n  editable?: boolean;\n  min?: string | number\n  max?: string | number ;\n  step?: number;\n  clamp?: boolean;\n  zeroPad?: number;\n  pad2?: boolean;\n}\n\nconst props = withDefaults(defineProps<Props>(), {\n  editable: true,\n  min: 0,\n  max: 9999,\n  step: 1,\n  clamp: false,\n  zeroPad: 0,\n  pad2: false,\n});\n\nfunction pad(value: number) {\n  if (props.zeroPad > 0) {\n    return value.toString().padStart(props.zeroPad, '0');\n  }\n  if (props.pad2) {\n    return value.toString().padStart(2, '0');\n  }\n  return value;\n}\n\nconst parseValue = (value: string | number | CallableFunction) => {\n  if (typeof value === 'number') {\n    return value;\n  } \n  if (typeof value === 'function') {\n    return value();\n  }\n  return value.includes('.') ? parseFloat(value) : parseInt(value);\n};\n\nconst minValue = ref(parseValue(props.min));\nconst maxValue = ref(parseValue(props.max));\nconst stepValue = ref(parseValue(props.step));\n\nfunction setValue(event: Event) {\n  if (event.target) {\n    psuedoValue.value = parseInt((event.target as HTMLInputElement).value);\n  }\n}\n\nfunction blurred() {\n  editing.value = false;\n}\n\nfunction round(value, toNearest) {\n  return Math.round(value / toNearest) * toNearest;\n}\n\nconst isValid = computed(() => {\n  if (psuedoValue.value < minValue.value) {\n    return false;\n  }\n  if (psuedoValue.value > maxValue.value) {\n    return false;\n  }\n  return true;\n});\n\nfunction clampValue(value: number) {\n  if (!props.clamp) {\n    return value;\n  }\n  if (value < minValue.value) {\n    value = minValue.value;\n  } else if (value > maxValue.value) {\n    value = maxValue.value;\n  }\n  if ((value % stepValue.value) !== 0) {\n    value = round(value, stepValue.value);\n  }\n  return value;\n}\n\n// watch props\nwatch(() => props.min, (newVal) => {\n  minValue.value = parseValue(newVal);\n  psuedoValue.value = clampValue(psuedoValue.value);\n});\n\nwatch(() => props.max, (newVal) => {\n  maxValue.value = parseValue(newVal);\n  psuedoValue.value = clampValue(psuedoValue.value);\n});\n\nwatch(() => props.step, (newVal) => {\n  stepValue.value = parseValue(newVal);\n});\n\nwatch(value, (newVal) => {\n  psuedoValue.value = clampValue(newVal);\n});\n\n\nwatch(input, (value) => {\n  if (value) {\n    value.focus();\n  }    \n});\n\nwatch(psuedoValue, (newValue, oldValue) => {\n  if (isValid.value) {\n    value.value = psuedoValue.value;\n    return;\n  }\n  if (props.clamp) {\n    psuedoValue.value = clampValue(newValue);\n    value.value = psuedoValue.value;\n    return;\n  }\n  psuedoValue.value = oldValue;\n  \n});\n\n</script>\n\n<style>\n/* Chrome, Safari, Edge, Opera */\ninput.tti__input::-webkit-outer-spin-button,\ninput.tti__input::-webkit-inner-spin-button\n{\n  -webkit-appearance: none;\n  margin: 0;\n}\n\n/* Firefox */\ninput.tti__input[type='number']\n{\n  -moz-appearance: textfield;\n  -webkit-appearance: textfield;\n  appearance: textfield;\n}\n\ninput.tti__input[type='number']\n{\n  text-align: center;\n}\n\ninput.tti__input[type='number']:invalid\n{\n  background-color: #fd6969;\n}\n\n</style>\n","import script from \"./TapToInput.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./TapToInput.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./TapToInput.vue?vue&type=style&index=0&id=7d41eae0&lang=css\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { useModel as _useModel, mergeModels as _mergeModels, defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, renderSlot as _renderSlot, normalizeClass as _normalizeClass, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString } from \"vue\"\n\nconst _hoisted_1 = { class: \"dtp__container\" }\nconst _hoisted_2 = { class: \"dtp__row\" }\nconst _hoisted_3 = { class: \"dtp__grid-container\" }\nconst _hoisted_4 = /*#__PURE__*/_createElementVNode(\"span\", { class: \"dtp__button-label\" }, \"year\", -1)\nconst _hoisted_5 = /*#__PURE__*/_createElementVNode(\"span\", null, null, -1)\nconst _hoisted_6 = /*#__PURE__*/_createElementVNode(\"span\", { class: \"dtp__button-label\" }, \"mon.\", -1)\nconst _hoisted_7 = /*#__PURE__*/_createElementVNode(\"span\", null, null, -1)\nconst _hoisted_8 = /*#__PURE__*/_createElementVNode(\"span\", { class: \"dtp__button-label\" }, \"day\", -1)\nconst _hoisted_9 = /*#__PURE__*/_createElementVNode(\"span\", null, null, -1)\nconst _hoisted_10 = /*#__PURE__*/_createElementVNode(\"span\", { class: \"dtp__button-label\" }, \"hour\", -1)\nconst _hoisted_11 = /*#__PURE__*/_createElementVNode(\"span\", null, null, -1)\nconst _hoisted_12 = /*#__PURE__*/_createElementVNode(\"span\", { class: \"dtp__button-label\" }, \"min\", -1)\nconst _hoisted_13 = /*#__PURE__*/_createElementVNode(\"span\", null, null, -1)\nconst _hoisted_14 = /*#__PURE__*/_createElementVNode(\"span\", { class: \"dtp__button-label\" }, \"sec\", -1)\nconst _hoisted_15 = /*#__PURE__*/_createElementVNode(\"span\", null, \"-\", -1)\nconst _hoisted_16 = /*#__PURE__*/_createElementVNode(\"span\", null, \"-\", -1)\nconst _hoisted_17 = { class: \"dtp__middle-slot\" }\nconst _hoisted_18 = /*#__PURE__*/_createElementVNode(\"span\", null, \":\", -1)\nconst _hoisted_19 = /*#__PURE__*/_createElementVNode(\"span\", null, \":\", -1)\nconst _hoisted_20 = /*#__PURE__*/_createElementVNode(\"span\", null, null, -1)\nconst _hoisted_21 = /*#__PURE__*/_createElementVNode(\"span\", null, null, -1)\nconst _hoisted_22 = /*#__PURE__*/_createElementVNode(\"span\", null, null, -1)\nconst _hoisted_23 = /*#__PURE__*/_createElementVNode(\"span\", null, null, -1)\nconst _hoisted_24 = /*#__PURE__*/_createElementVNode(\"span\", null, null, -1)\nconst _hoisted_25 = {\n  key: 0,\n  class: \"dtp__ampm\"\n}\nconst _hoisted_26 = { class: \"dtp__bottom-content\" }\nconst _hoisted_27 = {\n  key: 0,\n  class: \"dtp__debug\"\n}\n\nimport { ref, watch, computed } from 'vue';\nimport TapToInput from './TapToInput.vue';\n\n\nexport interface Props {\n  debug?: boolean;\n  useAmpm?: boolean;\n  editableTime?: boolean;\n}\n\ntype Unit = 'year' | 'month' | 'day' | 'hour' | 'minute' | 'second';\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'DateTimePicker',\n  props: /*#__PURE__*/_mergeModels({\n    debug: { type: Boolean, default: false },\n    useAmpm: { type: Boolean, default: true },\n    editableTime: { type: Boolean, default: true }\n  }, {\n    \"modelValue\": {default: new Date('2027-01-01 12:00:00 UTC')},\n    \"modelModifiers\": {},\n  }),\n  emits: [\"update:modelValue\"],\n  setup(__props: any) {\n\nconst props = __props;\n\n\nconst date = _useModel(__props, \"modelValue\");\n\nconst year = ref(date.value.getFullYear());\nconst month = ref(date.value.getMonth()+1);\nconst day = ref(date.value.getDate());\nconst hour = ref(date.value.getHours());\nconst minute = ref(date.value.getMinutes());\nconst second = ref(date.value.getSeconds());\n\n// const ampm = ref(hour.value >= 12);\n\n\nconst isAm = computed({\n  get: () => hour.value < 12,\n  set: (value) => {\n    if (value) {\n      for (let i = 0; i < 12; i++) {\n        decrement('hour');\n      }\n    } else {\n      for (let i = 0; i < 12; i++) {\n        increment('hour');\n      }\n    }\n  }\n});\n\n// watch(ampm, (value) => { isAm.value = value;});\n\nconst values = {\n  year: year,\n  month: month,\n  day: day,\n  hour: hour,\n  minute: minute,\n  second: second,\n};\n\nconst limits = computed(() => ({\n  year: { min: 1, max: Infinity },\n  month: { min: 1, max: 12 },\n  day: { min: 1, max: _daysInMonth(month.value, year.value) },\n  hour: { min: 0, max: 23 },\n  minute: { min: 0, max: 59 },\n  second: { min: 0, max: 59 },\n}));\n\nconst units: Unit[] = ['second', 'minute', 'hour', 'day', 'month', 'year'];\n\nfunction changeValue(unit: Unit, increment: boolean) {\n  // recursive logic help courtesy of chatgpt :)\n  const limit = limits.value[unit].max;\n  const min = limits.value[unit].min;\n\n  if (increment) {\n    if (values[unit].value < limit) {\n      values[unit].value++;\n    } else {\n      values[unit].value = min;\n      const nextUnit = units[units.indexOf(unit) + 1];\n      if (nextUnit) changeValue(nextUnit, increment);\n    }\n  } else {\n    if (values[unit].value > min) {\n      values[unit].value--;\n    } else {\n      const prevUnit = units[units.indexOf(unit) + 1];\n      if (prevUnit) {\n        changeValue(prevUnit, increment);\n        values[unit].value = limits.value[unit].max;\n      }\n    }\n  }\n}\n\nconst displayHour = computed({\n  get() {\n    if (props.useAmpm) {\n      const h = hour.value % 12;\n      return h === 0 ? 12 : h;\n    } else {\n      return hour.value;\n    }\n  },\n  set(value: number) {\n    if (props.useAmpm) {\n      if (value > 12 && value < 24) {\n        hour.value = value;\n        return;\n      }\n      if (isAm.value) {\n        hour.value = value;\n      } else {\n        hour.value = value + 12;\n      }\n    } else {\n      hour.value = value;\n    }\n  }\n});\nfunction increment(value: Unit) {\n  changeValue(value, true);\n}\n\nfunction decrement(value: Unit) {\n  changeValue(value, false);\n}\n\nfunction _daysInMonth(month: number, year: number) {\n  return new Date(year, month, 0).getDate();\n}\n\n\nfunction utcDate(date: Date) {\n  // utc date string\n  return date.toISOString(); \n}\n\nfunction pad2(n: number) {\n  return n.toString().padStart(2, '0');\n}\n\n// update the date v-model\nwatch([year, month, day, hour, minute, second], () => {\n  date.value = new Date(year.value, month.value-1, day.value, hour.value, minute.value, second.value);\n});\n\n// watcher to fix leap years\nwatch([year, month, day, hour, minute, second], () => {\n  if (month.value === 2 && day.value > _daysInMonth(month.value, year.value)) {\n    day.value = _daysInMonth(month.value, year.value);\n  }\n});\n// after we have mounted make the up and down buttons the same width\n// keep this up to date with the model value\nwatch(date, () => {\n  year.value = date.value.getFullYear();\n  month.value = date.value.getMonth()+1;\n  day.value = date.value.getDate();\n  hour.value = date.value.getHours();\n  minute.value = date.value.getMinutes();\n  second.value = date.value.getSeconds();\n});\n\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_v_icon = _resolveComponent(\"v-icon\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      _createElementVNode(\"div\", _hoisted_3, [\n        _createElementVNode(\"button\", {\n          id: \"dtp__year-up\",\n          class: \"dtp__grid-item\",\n          onClick: _cache[0] || (_cache[0] = ($event: any) => (increment('year')))\n        }, [\n          _hoisted_4,\n          _createVNode(_component_v_icon, null, {\n            default: _withCtx(() => [\n              _createTextVNode(\"mdi-menu-up\")\n            ]),\n            _: 1\n          })\n        ]),\n        _hoisted_5,\n        _createElementVNode(\"button\", {\n          id: \"dtp__month-up\",\n          class: \"dtp__grid-item\",\n          onClick: _cache[1] || (_cache[1] = ($event: any) => (increment('month')))\n        }, [\n          _hoisted_6,\n          _createVNode(_component_v_icon, null, {\n            default: _withCtx(() => [\n              _createTextVNode(\"mdi-menu-up\")\n            ]),\n            _: 1\n          })\n        ]),\n        _hoisted_7,\n        _createElementVNode(\"button\", {\n          id: \"dtp__day-up\",\n          class: \"dtp__grid-item\",\n          onClick: _cache[2] || (_cache[2] = ($event: any) => (increment('day')))\n        }, [\n          _hoisted_8,\n          _createVNode(_component_v_icon, null, {\n            default: _withCtx(() => [\n              _createTextVNode(\"mdi-menu-up\")\n            ]),\n            _: 1\n          })\n        ]),\n        _renderSlot(_ctx.$slots, \"top-middle\", {}, () => [\n          _hoisted_9\n        ]),\n        _createElementVNode(\"button\", {\n          id: \"dtp__hour-up\",\n          class: \"dtp__grid-item\",\n          onClick: _cache[3] || (_cache[3] = ($event: any) => (increment('hour')))\n        }, [\n          _hoisted_10,\n          _createVNode(_component_v_icon, null, {\n            default: _withCtx(() => [\n              _createTextVNode(\"mdi-menu-up\")\n            ]),\n            _: 1\n          })\n        ]),\n        _hoisted_11,\n        _createElementVNode(\"button\", {\n          id: \"dtp__minute-up\",\n          class: \"dtp__grid-item\",\n          onClick: _cache[4] || (_cache[4] = ($event: any) => (increment('minute')))\n        }, [\n          _hoisted_12,\n          _createVNode(_component_v_icon, null, {\n            default: _withCtx(() => [\n              _createTextVNode(\"mdi-menu-up\")\n            ]),\n            _: 1\n          })\n        ]),\n        _hoisted_13,\n        _createElementVNode(\"button\", {\n          id: \"dtp__second-up\",\n          class: \"dtp__grid-item\",\n          onClick: _cache[5] || (_cache[5] = ($event: any) => (increment('second')))\n        }, [\n          _hoisted_14,\n          _createVNode(_component_v_icon, null, {\n            default: _withCtx(() => [\n              _createTextVNode(\"mdi-menu-up\")\n            ]),\n            _: 1\n          })\n        ]),\n        _createVNode(TapToInput, {\n          editable: props.editableTime,\n          id: \"dtp__year\",\n          class: \"dtp__grid-item dtp__time_part\",\n          min: limits.value.year.min,\n          max: limits.value.year.max,\n          modelValue: year.value,\n          \"onUpdate:modelValue\": _cache[6] || (_cache[6] = ($event: any) => ((year).value = $event))\n        }, null, 8, [\"editable\", \"min\", \"max\", \"modelValue\"]),\n        _hoisted_15,\n        _createVNode(TapToInput, {\n          editable: props.editableTime,\n          id: \"dtp__month\",\n          class: \"dtp__grid-item dtp__time_part\",\n          min: limits.value.month.min,\n          max: limits.value.month.max,\n          pad2: \"\",\n          modelValue: month.value,\n          \"onUpdate:modelValue\": _cache[7] || (_cache[7] = ($event: any) => ((month).value = $event))\n        }, null, 8, [\"editable\", \"min\", \"max\", \"modelValue\"]),\n        _hoisted_16,\n        _createVNode(TapToInput, {\n          editable: props.editableTime,\n          id: \"dtp__day\",\n          class: \"dtp__grid-item dtp__time_part\",\n          min: limits.value.day.min,\n          max: limits.value.day.max,\n          pad2: \"\",\n          modelValue: day.value,\n          \"onUpdate:modelValue\": _cache[8] || (_cache[8] = ($event: any) => ((day).value = $event))\n        }, null, 8, [\"editable\", \"min\", \"max\", \"modelValue\"]),\n        _createElementVNode(\"span\", _hoisted_17, [\n          _renderSlot(_ctx.$slots, \"center-middle\")\n        ]),\n        _createVNode(TapToInput, {\n          editable: props.editableTime,\n          id: \"dtp__hour\",\n          class: \"dtp__grid-item dtp__time_part\",\n          min: limits.value.hour.min,\n          max: limits.value.hour.max,\n          pad2: \"\",\n          modelValue: displayHour.value,\n          \"onUpdate:modelValue\": _cache[9] || (_cache[9] = ($event: any) => ((displayHour).value = $event))\n        }, null, 8, [\"editable\", \"min\", \"max\", \"modelValue\"]),\n        _hoisted_18,\n        _createVNode(TapToInput, {\n          editable: props.editableTime,\n          id: \"dtp__minute\",\n          class: \"dtp__grid-item dtp__time_part\",\n          min: limits.value.minute.min,\n          max: limits.value.minute.max,\n          pad2: \"\",\n          modelValue: minute.value,\n          \"onUpdate:modelValue\": _cache[10] || (_cache[10] = ($event: any) => ((minute).value = $event))\n        }, null, 8, [\"editable\", \"min\", \"max\", \"modelValue\"]),\n        _hoisted_19,\n        _createVNode(TapToInput, {\n          editable: props.editableTime,\n          id: \"dtp__second\",\n          class: \"dtp__grid-item dtp__time_part\",\n          min: limits.value.second.min,\n          max: limits.value.second.max,\n          pad2: \"\",\n          modelValue: second.value,\n          \"onUpdate:modelValue\": _cache[11] || (_cache[11] = ($event: any) => ((second).value = $event))\n        }, null, 8, [\"editable\", \"min\", \"max\", \"modelValue\"]),\n        _createElementVNode(\"button\", {\n          id: \"dtp__year-up\",\n          class: \"dtp__grid-item\",\n          onClick: _cache[12] || (_cache[12] = ($event: any) => (decrement('year')))\n        }, [\n          _createVNode(_component_v_icon, null, {\n            default: _withCtx(() => [\n              _createTextVNode(\"mdi-menu-down\")\n            ]),\n            _: 1\n          })\n        ]),\n        _hoisted_20,\n        _createElementVNode(\"button\", {\n          id: \"dtp__month-up\",\n          class: \"dtp__grid-item\",\n          onClick: _cache[13] || (_cache[13] = ($event: any) => (decrement('month')))\n        }, [\n          _createVNode(_component_v_icon, null, {\n            default: _withCtx(() => [\n              _createTextVNode(\"mdi-menu-down\")\n            ]),\n            _: 1\n          })\n        ]),\n        _renderSlot(_ctx.$slots, \"bottom-middle\", {}, () => [\n          _hoisted_21\n        ]),\n        _createElementVNode(\"button\", {\n          id: \"dtp__day-up\",\n          class: \"dtp__grid-item\",\n          onClick: _cache[14] || (_cache[14] = ($event: any) => (decrement('day')))\n        }, [\n          _createVNode(_component_v_icon, null, {\n            default: _withCtx(() => [\n              _createTextVNode(\"mdi-menu-down\")\n            ]),\n            _: 1\n          })\n        ]),\n        _hoisted_22,\n        _createElementVNode(\"button\", {\n          id: \"dtp__hour-up\",\n          class: \"dtp__grid-item\",\n          onClick: _cache[15] || (_cache[15] = ($event: any) => (decrement('hour')))\n        }, [\n          _createVNode(_component_v_icon, null, {\n            default: _withCtx(() => [\n              _createTextVNode(\"mdi-menu-down\")\n            ]),\n            _: 1\n          })\n        ]),\n        _hoisted_23,\n        _createElementVNode(\"button\", {\n          id: \"dtp__minute-up\",\n          class: \"dtp__grid-item\",\n          onClick: _cache[16] || (_cache[16] = ($event: any) => (decrement('minute')))\n        }, [\n          _createVNode(_component_v_icon, null, {\n            default: _withCtx(() => [\n              _createTextVNode(\"mdi-menu-down\")\n            ]),\n            _: 1\n          })\n        ]),\n        _hoisted_24,\n        _createElementVNode(\"button\", {\n          id: \"dtp__second-up\",\n          class: \"dtp__grid-item\",\n          onClick: _cache[17] || (_cache[17] = ($event: any) => (decrement('second')))\n        }, [\n          _createVNode(_component_v_icon, null, {\n            default: _withCtx(() => [\n              _createTextVNode(\"mdi-menu-down\")\n            ]),\n            _: 1\n          })\n        ])\n      ]),\n      (props.useAmpm)\n        ? (_openBlock(), _createElementBlock(\"div\", _hoisted_25, [\n            _createElementVNode(\"button\", {\n              name: \"set-am\",\n              class: _normalizeClass([\"dtp__ampm-button\", \"dtp__ampm-am\", { \"dtp__ampm-active\": isAm.value }]),\n              onClick: _cache[18] || (_cache[18] = ($event: any) => (isAm.value = true)),\n              \"aria-label\": \"Set AM\"\n            }, \"AM\", 2),\n            _createElementVNode(\"button\", {\n              name: \"set-pm\",\n              class: _normalizeClass([\"dtp__ampm-button\", \"dtp__ampm-pm\", { \"dtp__ampm-active\": !isAm.value }]),\n              onClick: _cache[19] || (_cache[19] = ($event: any) => (isAm.value = false)),\n              \"aria-label\": \"Set PM\"\n            }, \"PM\", 2)\n          ]))\n        : _createCommentVNode(\"\", true)\n    ]),\n    _createElementVNode(\"div\", _hoisted_26, [\n      _renderSlot(_ctx.$slots, \"default\")\n    ]),\n    (props.debug)\n      ? (_openBlock(), _createElementBlock(\"div\", _hoisted_27, [\n          _createElementVNode(\"span\", null, \"Local: \" + _toDisplayString(year.value) + \"-\" + _toDisplayString(pad2(month.value)) + \"-\" + _toDisplayString(pad2(day.value)) + \" \" + _toDisplayString(pad2(hour.value)) + \":\" + _toDisplayString(pad2(minute.value)) + \":\" + _toDisplayString(pad2(second.value)), 1),\n          _createElementVNode(\"span\", null, \"UTC: \" + _toDisplayString(utcDate(date.value)), 1)\n        ]))\n      : _createCommentVNode(\"\", true)\n  ]))\n}\n}\n\n})","<!-- Design Inspired by Date/Time Picker at Stellarium Web https://stellarium-web.org/ -->\n<template>\n  <div class=\"dtp__container\">\n    <div class=\"dtp__row\">\n    <div class=\"dtp__grid-container\">\n      <!-- <div class=\"dtp__rollers up-rollers\"> -->\n      <button id=\"dtp__year-up\" class=\"dtp__grid-item\" @click=\"increment('year')\">\n        <span class=\"dtp__button-label\">year</span>\n        <v-icon>mdi-menu-up</v-icon>\n      </button>\n      <span></span>\n      <button id=\"dtp__month-up\" class=\"dtp__grid-item\" @click=\"increment('month')\">\n        <span class=\"dtp__button-label\">&nbsp;mon.</span>\n        <v-icon>mdi-menu-up</v-icon>\n      </button>\n      <span></span>\n      <button id=\"dtp__day-up\" class=\"dtp__grid-item\" @click=\"increment('day')\">\n        <span class=\"dtp__button-label\">day</span>\n        <v-icon>mdi-menu-up</v-icon>\n      </button>\n      <slot name=\"top-middle\"><span></span></slot>\n      <button id=\"dtp__hour-up\" class=\"dtp__grid-item\" @click=\"increment('hour')\">\n        <span class=\"dtp__button-label\">hour</span>\n        <v-icon>mdi-menu-up</v-icon>\n      </button>\n      <span></span>\n      <button id=\"dtp__minute-up\" class=\"dtp__grid-item\" @click=\"increment('minute')\">\n        <span class=\"dtp__button-label\">min</span>\n        <v-icon>mdi-menu-up</v-icon>\n      </button>\n      <span></span>\n      <button id=\"dtp__second-up\" class=\"dtp__grid-item\" @click=\"increment('second')\">\n        <span class=\"dtp__button-label\">sec</span>\n        <v-icon>mdi-menu-up</v-icon>\n      </button>\n      <!-- </div> -->\n\n      <!-- <span class=\"dtp__time-string\"> -->\n      <!-- <span id=\"dtp__year\" class=\"dtp__grid-item dtp__time_part\">{{ year }}</span> -->\n      <tap-to-input :editable=\"props.editableTime\" id=\"dtp__year\" class=\"dtp__grid-item dtp__time_part\" :min=\"limits.year.min\" :max=\"limits.year.max\" v-model=\"year\" />\n      <span>-</span>\n      <!-- <span id=\"dtp__month\" class=\"dtp__grid-item dtp__time_part\">{{ pad2(month) }}</span> -->\n      <tap-to-input :editable=\"props.editableTime\" id=\"dtp__month\" class=\"dtp__grid-item dtp__time_part\" :min=\"limits.month.min\" :max=\"limits.month.max\" pad2 v-model=\"month\" />\n      <span>-</span>\n      <!-- <span id=\"dtp__day\" class=\"dtp__grid-item dtp__time_part\">{{ pad2(day) }}</span>  -->\n      <tap-to-input :editable=\"props.editableTime\" id=\"dtp__day\" class=\"dtp__grid-item dtp__time_part\" :min=\"limits.day.min\" :max=\"limits.day.max\" pad2 v-model=\"day\" />\n      <span class=\"dtp__middle-slot\"><slot name=\"center-middle\"></slot></span>\n      <!-- <span id=\"dtp__hour\" class=\"dtp__grid-item dtp__time_part\">{{ pad2(displayHour) }}</span> -->\n      <tap-to-input :editable=\"props.editableTime\" id=\"dtp__hour\" class=\"dtp__grid-item dtp__time_part\" :min=\"limits.hour.min\" :max=\"limits.hour.max\" pad2 v-model=\"displayHour\" />\n      <span>:</span>\n      <!-- <span id=\"dtp__minute\" class=\"dtp__grid-item dtp__time_part\">{{ pad2(minute) }}</span> -->\n      <tap-to-input :editable=\"props.editableTime\" id=\"dtp__minute\" class=\"dtp__grid-item dtp__time_part\" :min=\"limits.minute.min\" :max=\"limits.minute.max\" pad2 v-model=\"minute\" />\n      <span>:</span>\n      <!-- <span id=\"dtp__second\" class=\"dtp__grid-item dtp__time_part\">{{ pad2(second) }}</span> -->\n      <tap-to-input :editable=\"props.editableTime\" id=\"dtp__second\" class=\"dtp__grid-item dtp__time_part\" :min=\"limits.second.min\" :max=\"limits.second.max\" pad2 v-model=\"second\" />\n      <!-- </span> -->\n\n      <button id=\"dtp__year-up\" class=\"dtp__grid-item\" @click=\"decrement('year')\">\n        <v-icon>mdi-menu-down</v-icon>\n      </button>\n      <span></span>\n      <button id=\"dtp__month-up\" class=\"dtp__grid-item\" @click=\"decrement('month')\">\n        <v-icon>mdi-menu-down</v-icon>\n      </button>\n      <slot name=\"bottom-middle\"><span></span></slot>\n      <button id=\"dtp__day-up\" class=\"dtp__grid-item\" @click=\"decrement('day')\">\n        <v-icon>mdi-menu-down</v-icon>\n      </button>\n      <span></span>\n      <button id=\"dtp__hour-up\" class=\"dtp__grid-item\" @click=\"decrement('hour')\">\n        <v-icon>mdi-menu-down</v-icon>\n      </button>\n      <span></span>\n      <button id=\"dtp__minute-up\" class=\"dtp__grid-item\" @click=\"decrement('minute')\">\n        <v-icon>mdi-menu-down</v-icon>\n      </button>\n      <span></span>\n      <button id=\"dtp__second-up\" class=\"dtp__grid-item\" @click=\"decrement('second')\">\n        <v-icon>mdi-menu-down</v-icon>\n      </button>\n    </div>\n    \n    <div class=\"dtp__ampm\" v-if=\"props.useAmpm\">\n      <button \n        name=\"set-am\" \n        :class='[\"dtp__ampm-button\", \"dtp__ampm-am\", { \"dtp__ampm-active\": isAm }]' \n        @click=\"isAm = true\" \n        aria-label=\"Set AM\"\n        >AM</button>\n      <button \n        name=\"set-pm\" \n        :class='[\"dtp__ampm-button\", \"dtp__ampm-pm\", { \"dtp__ampm-active\": !isAm }]' \n        @click=\"isAm = false\" \n        aria-label=\"Set PM\"\n        >PM</button>\n    </div>\n  </div>\n    \n    <div class=\"dtp__bottom-content\">\n      <slot></slot>\n    </div>\n    <div v-if=\"props.debug\" class=\"dtp__debug\">\n      <span>Local: {{ year }}-{{ pad2(month) }}-{{ pad2(day) }} {{ pad2(hour) }}:{{ pad2(minute) }}:{{ pad2(second) }}</span>\n      <span>UTC: {{ utcDate(date) }} </span>\n    </div>\n\n  </div>\n\n</template>\n\n\n<script setup lang=\"ts\">\nimport { ref, watch, computed, withDefaults } from 'vue';\nimport TapToInput from './TapToInput.vue';\n\n\nexport interface Props {\n  debug?: boolean;\n  useAmpm?: boolean;\n  editableTime?: boolean;\n}\n\nconst props = withDefaults(defineProps<Props>(), {\n  debug: false,\n  useAmpm: true,\n  editableTime: true,\n});\n\n\nconst date = defineModel({default: new Date('2027-01-01 12:00:00 UTC')});\n\nconst year = ref(date.value.getFullYear());\nconst month = ref(date.value.getMonth()+1);\nconst day = ref(date.value.getDate());\nconst hour = ref(date.value.getHours());\nconst minute = ref(date.value.getMinutes());\nconst second = ref(date.value.getSeconds());\n\n// const ampm = ref(hour.value >= 12);\n\n\nconst isAm = computed({\n  get: () => hour.value < 12,\n  set: (value) => {\n    if (value) {\n      for (let i = 0; i < 12; i++) {\n        decrement('hour');\n      }\n    } else {\n      for (let i = 0; i < 12; i++) {\n        increment('hour');\n      }\n    }\n  }\n});\n\n// watch(ampm, (value) => { isAm.value = value;});\n\nconst values = {\n  year: year,\n  month: month,\n  day: day,\n  hour: hour,\n  minute: minute,\n  second: second,\n};\n\ntype Unit = 'year' | 'month' | 'day' | 'hour' | 'minute' | 'second';\n\nconst limits = computed(() => ({\n  year: { min: 1, max: Infinity },\n  month: { min: 1, max: 12 },\n  day: { min: 1, max: _daysInMonth(month.value, year.value) },\n  hour: { min: 0, max: 23 },\n  minute: { min: 0, max: 59 },\n  second: { min: 0, max: 59 },\n}));\n\nconst units: Unit[] = ['second', 'minute', 'hour', 'day', 'month', 'year'];\n\nfunction changeValue(unit: Unit, increment: boolean) {\n  // recursive logic help courtesy of chatgpt :)\n  const limit = limits.value[unit].max;\n  const min = limits.value[unit].min;\n\n  if (increment) {\n    if (values[unit].value < limit) {\n      values[unit].value++;\n    } else {\n      values[unit].value = min;\n      const nextUnit = units[units.indexOf(unit) + 1];\n      if (nextUnit) changeValue(nextUnit, increment);\n    }\n  } else {\n    if (values[unit].value > min) {\n      values[unit].value--;\n    } else {\n      const prevUnit = units[units.indexOf(unit) + 1];\n      if (prevUnit) {\n        changeValue(prevUnit, increment);\n        values[unit].value = limits.value[unit].max;\n      }\n    }\n  }\n}\n\nconst displayHour = computed({\n  get() {\n    if (props.useAmpm) {\n      const h = hour.value % 12;\n      return h === 0 ? 12 : h;\n    } else {\n      return hour.value;\n    }\n  },\n  set(value: number) {\n    if (props.useAmpm) {\n      if (value > 12 && value < 24) {\n        hour.value = value;\n        return;\n      }\n      if (isAm.value) {\n        hour.value = value;\n      } else {\n        hour.value = value + 12;\n      }\n    } else {\n      hour.value = value;\n    }\n  }\n});\nfunction increment(value: Unit) {\n  changeValue(value, true);\n}\n\nfunction decrement(value: Unit) {\n  changeValue(value, false);\n}\n\nfunction _daysInMonth(month: number, year: number) {\n  return new Date(year, month, 0).getDate();\n}\n\n\nfunction utcDate(date: Date) {\n  // utc date string\n  return date.toISOString(); \n}\n\nfunction pad2(n: number) {\n  return n.toString().padStart(2, '0');\n}\n\n// update the date v-model\nwatch([year, month, day, hour, minute, second], () => {\n  date.value = new Date(year.value, month.value-1, day.value, hour.value, minute.value, second.value);\n});\n\n// watcher to fix leap years\nwatch([year, month, day, hour, minute, second], () => {\n  if (month.value === 2 && day.value > _daysInMonth(month.value, year.value)) {\n    day.value = _daysInMonth(month.value, year.value);\n  }\n});\n// after we have mounted make the up and down buttons the same width\n// keep this up to date with the model value\nwatch(date, () => {\n  year.value = date.value.getFullYear();\n  month.value = date.value.getMonth()+1;\n  day.value = date.value.getDate();\n  hour.value = date.value.getHours();\n  minute.value = date.value.getMinutes();\n  second.value = date.value.getSeconds();\n});\n\n</script>\n\n<style lang=\"less\">\n@import url('https://fonts.googleapis.com/css2?family=Noto+Sans+Mono:wght@500&display=swap');\n\n.dtp__container {\n  padding-top: 1.5em;\n  padding-bottom: 5px;\n  padding-inline: 15px;\n}\n\n@media (max-width: 350px) {\n  .dtp__container {\n    font-size: 5vw;\n  }\n}\n\n.dtp__grid-container {\n  display: grid;\n  grid-template-columns: repeat(11, 0fr);\n  justify-items: center;\n  justify-content: center;\n  font-family: 'Noto Sans Mono', monospace;\n  gap: 2px;\n  margin-bottom: 10px;\n}\n\n.dtp__row {\n  display: grid;\n  grid-template-columns: 0fr 0fr;\n  align-items: center;\n  gap: 1em;\n}\n\n@media (max-width: 350px) {\n  .dtp__row {\n    display: grid;\n    grid-template-columns: 0fr;\n    grid-template-rows: 0fr 0fr;\n    justify-items: center;\n    gap: 2px;\n  }\n}\n\n.dtp__grid-container > * {\n  margin: 0;\n  padding: 0;\n  width: 100%;\n}\n\n.dtp__middle-slot {\n  width: 1.5em;\n}\n\n.dtp__bottom-content {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\n.dtp__grid-item {\n  position: relative;\n  // outline: 1px solid red;\n  text-align: center;\n}\n\nspan.dtp__button-label {\n  font-size: 0.8em;\n  // display: none;\n  position:absolute;\n  top: -5px;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  // outline: 1px solid red;\n}\n\n.dtp__ampm {\n  display: grid;\n  grid-template-columns: 3em;\n  grid-template-rows: 0fr 0fr;\n  gap: 1px;\n}\n\n.dtp__ampm-button {\n  background-color: #444;\n  color: #ccc;\n  padding: 0;\n  align-self: center;\n  font-size: .9em;\n  width: 4ch;\n}\n\n// for dtp__ampm-am/pm add only left right and top/bottom border raidus\n.dtp__ampm-am {\n  border: 1px solid var(--accent-color);\n  border-top-left-radius: .75ch;\n  border-top-right-radius: .75ch;\n  border-bottom: none\n}\n\n.dtp__ampm-pm {\n  border: 1px solid var(--accent-color);\n  border-bottom-left-radius: .75ch;\n  border-bottom-right-radius: .75ch;\n  border-top: none\n}\n\n@media (max-width: 350px) { \n  .dtp__ampm {\n    grid-template-columns: 0fr 0fr;\n    grid-template-rows: 0fr;\n    margin-bottom: 0.5em;\n  }\n  \n  .dtp__ampm-am {\n    border: 1px solid var(--accent-color);\n    border-radius: 0;\n    border-top-left-radius: .75ch;\n    border-bottom-left-radius: .75ch;\n    border-right: none;\n  }\n  \n  .dtp__ampm-pm {\n    border: 1px solid var(--accent-color);\n    border-radius: 0;\n    border-top-right-radius: .75ch;\n    border-bottom-right-radius: .75ch;\n    border-left: none;\n  }\n  \n}\n\n.dtp__ampm-active {\n  color: var(--accent-color);\n}\n\n/* Chrome, Safari, Edge, Opera */\n.dtp__container input::-webkit-outer-spin-button,\ninput::-webkit-inner-spin-button {\n  -webkit-appearance: none;\n  margin: 0;\n}\n\n/* Firefox */\n.dtp__container  input[type=number] {\n  -moz-appearance: textfield;\n  appearance: textfield;\n}\n\ninput#dtp__year {\n  width: 4ch;\n}\n\ninput.dtp__time_part {\n  width: 2.5ch;\n}\n\n</style>","import script from \"./DateTimePicker.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./DateTimePicker.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./DateTimePicker.vue?vue&type=style&index=0&id=038a9285&lang=less\"\n\nconst __exports__ = script;\n\nexport default __exports__","import Vue, { createApp, type Plugin } from \"vue\";\n\nimport { FundingAcknowledgement, IconButton, CreditLogos, LocationSelector } from \"@cosmicds/vue-toolkit\";\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nimport BlazeStarNova from \"./BlazeStarNova.vue\";\n\nimport vuetify from \"../plugins/vuetify\";\n\nimport { FontAwesomeIcon } from \"@fortawesome/vue-fontawesome\";\n\nimport BottomSheet from \"./BottomSheet.vue\";\nimport SplashScreen from \"./SplashScreen.vue\";\nimport VueDatePicker from '@vuepic/vue-datepicker';\nimport '@vuepic/vue-datepicker/dist/main.css';\nimport GeolocationButton from \"./GeolocationButton.vue\";\nimport TimeDisplay from \"./TimeDisplay.vue\";\nimport DateTimePicker from \"./DateTimePicker.vue\";\n\nimport { WWTComponent, wwtPinia } from \"@wwtelescope/engine-pinia\";\n\nimport { library } from \"@fortawesome/fontawesome-svg-core\";\nimport {\n  faBookOpen,\n  faChevronDown,\n  faClock,\n  faGear,\n  faLocation,\n  faLocationDot,\n  faPlay,\n  faPause,\n  faSquareXmark,\n  faStop,\n  faTimes,\n  faVideo,\n} from \"@fortawesome/free-solid-svg-icons\";\n\nlibrary.add(faBookOpen);\nlibrary.add(faChevronDown);\nlibrary.add(faGear);\nlibrary.add(faPlay);\nlibrary.add(faStop);\nlibrary.add(faTimes);\nlibrary.add(faVideo);\nlibrary.add(faPlay);\nlibrary.add(faPause);\nlibrary.add(faLocation);\nlibrary.add(faLocationDot);\nlibrary.add(faClock);\nlibrary.add(faSquareXmark);\n\n/** v-hide directive taken from https://www.ryansouthgate.com/2020/01/30/vue-js-v-hide-element-whilst-keeping-occupied-space/ */\n// Extract the function out, up here, so I'm not writing it twice\nconst update = (el: HTMLElement, binding: Vue.DirectiveBinding) => el.style.visibility = (binding.value) ? \"hidden\" : \"\";\n\ncreateApp(BlazeStarNova, {\n  wwtNamespace: \"vue-ds-template\"\n})\n \n  // Plugins\n  .use(wwtPinia as unknown as Plugin<[]>)\n  .use(vuetify)\n\n  // Directives\n  .directive(\n    /**\n    * Hides an HTML element, keeping the space it would have used if it were visible (css: Visibility)\n    */\n    \"hide\", {\n      // Run on initialisation (first render) of the directive on the element\n      beforeMount(el, binding, _vnode, _prevVnode) {\n        update(el, binding);\n      },\n      // Run on subsequent updates to the value supplied to the directive\n      updated(el, binding, _vnode, _prevVnode) {\n        update(el, binding);\n      }\n    })\n\n  // Components\n  .component(\"WorldWideTelescope\", WWTComponent)\n  .component('font-awesome-icon', FontAwesomeIcon)\n  .component('bottom-sheet', BottomSheet)\n  .component('icon-button', IconButton)\n  .component('funding-acknowledgement', FundingAcknowledgement)\n  .component('credit-logos', CreditLogos)\n  .component('splash-screen', SplashScreen)\n  .component('vue-date-picker', VueDatePicker)\n  .component('geolocation-button', GeolocationButton)\n  .component('location-selector', LocationSelector)\n  .component('time-display', TimeDisplay)\n  .component('date-time-picker', DateTimePicker)\n\n  // Mount\n  .mount(\"#app\");\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t524: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunk_cosmicds_blaze_star_nova\"] = self[\"webpackChunk_cosmicds_blaze_star_nova\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [504], () => (__webpack_require__(9622)))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["throttle","func","duration","shouldWait","apply","this","args","setTimeout","addedToPrimitives","annotationDirty","_opacity","_showHoverLabel","prepBatch","renderContext","Annotation2","pointList","batchDirty","PointList","lineList","LineList","triangleFanPointList","TriangleFanList","triangleList","TriangleList","set_depthBuffered","depthBuffered","drawBatch","gl","draw","drawLines","separation","Alpha1","Delta1","Alpha2","Delta2","Math","PI","x","cos","sin","y","z","vvalue","atan2","sqrt","colorToUint","col","r","b","colorToUintAlpha","opacity","g","get_opacity","set_opacity","value","get_id","_id","set_id","get_tag","_tag","set_tag","get_label","_label","set_label","get_showHoverLabel","set_showHoverLabel","hitTest","RA","dec","get_center","center","set_center","addAnnotation","ann","annotations","push","clearAll","_points$1","_fill$1","_strokeWidth$1","_lineColor$1","Colors","get_white","_fillColor$1","addPoint","Coordinates","raDecTo3d","get_fill","set_fill","get_lineWidth","set_lineWidth","get_lineColor","toString","set_lineColor","Color","fromName","get_fillColor","set_fillColor","vertexList","length","lineColorWithOpacity","_clone","a","round","i","addLine","Dates","fillColorWithOpacity","indexes","Tessellator","tesselateSimplePoly","addSubdividedTriangles","ctx","device","save","globalAlpha","beginPath","first","pnt","screenSpacePnt","WVP","transform","restore","Vector3d","dot","get_viewPoint","moveTo","lineTo","closePath","lineWidth","fillStyle","fill","strokeStyle","stroke","altAzToHADec","altRad","azRad","latRad","ra","tan","asin","getJulian","utc","year","getUTCFullYear","month","getUTCMonth","day","getUTCDate","hour","getUTCHours","minute","getUTCMinutes","second","getUTCSeconds","getUTCMilliseconds","floor","c","d","jd","mstFromUTC2","longRad","lng","R2D","modifiedJD","julianCenturies","mst","horizontalToEquatorial","st","haDec","ha","raRad","D2R","decRad","equatorialToHorizontal","hourAngle","lat","sinAlt","altitude","cosAz","azimuth","acos","createHorizon","options","date","when","Date","n","delta","color","pieces","points","map","point","raDec","location","latitudeRad","longitudeRad","poly","Poly2","forEach","removeHorizon","createSky","Poly","WWTControl","scriptInterface","makeTextOverlays","glyphHeight","scale","textItems","up","create","locations","batches","items","Text3dBatch","index","batch","locs","item","idx","add","Text3d","makeAltAzGridText","Grids","_altAzTextBatch","sign","SpaceTimeController","get_location","get_lat","alt","directions","v","text","drawSingleConstellation","ls","reverse","name","get_name","centroid","Constellations","constellationCentroids","pos","get_RA","get_dec","_maxSeperation","_constellationVertexBuffers","count","linelist","SimpleLineList","temp","currentPoint","pointType","_boundry","_constToDraw","Settings","get_globalSettings","get_constellationBoundryColor","get_constellationSelectionColor","get_constellationFigureColor","load","drawConstellations","showOnlySelected","focusConstellation","clearExisting","highlight","highlightColor","max","get_fovAngle","_drawCount","lsSelected","lines","highlighted","includes","_drawSingleConstellation","setupConstellationFigures","constellationsFigures","bind","useCustomGlyphs","prepareBatch","cache","_glyphCache","_glyphItems","origin","window","imageUrl","xmlUrl","_texture","Texture","fromUrl","_webFile","WebFile","onStateChange","GlyphCache","prototype","_glyphXmlReady","send","renderOneFrame","showBlazeOverlay","showAlphaOverlay","get_backgroundImageset","renderType","get_dataSetType","sizeChange","canvas","width","parentNode","clientWidth","height","clientHeight","explorer","refresh","_crossHairs","Tile","lastDeepestLevel","deepestLevel","RenderTriangle","tilesInView","tilesTouched","set_metaNow","get__mover","set_now","get_currentDateTime","Planets","updatePlanetLocations","get_solarSystemMode","newCam","get_currentPosition","targetCamera","copy","viewCamera","space","get_active","get_galacticMode","gPoint","j2000toGalactic","targetAlt","targetAz","az","get_localHorizonMode","currentAltAz","equitorialToHorizon","fromRaDec","get_now","get_alt","get_az","get_complete","_fireArrived","singleton","zoom","set__mover","_notifyMoveComplete","updateClock","_updateViewParameters","clear","setupMatricesSpace3d","drawImageSet","get_foregroundImageset","set_foregroundImageset","_foregroundCanvas","saveDevice","_fgDevice","clearRect","drawImage","uiController","render","Annotation","_annotations","now","_lastMouseMove","raDecDown","getCoordinatesForScreenPoint","_hoverTextPoint","_annotationHover","_hoverText","_drawHoverText","imageset","get_catalogHipsImagesets","get_hipsProperties","get_catalogSpreadSheetLayer","enabled","lastVersion","get_version","constellation","containment","findConstellationForPoint","drawPlanets","_drawSkyOverlays","undefined","blazeOverlay","alphaOverlay","textOverlays","viewTransform","fromArgb","worldSave","get_world","viewSave","get_view","projSave","get_projection","get_current","get_showCrosshairs","_drawCrosshairs","tilesAllLoaded","TileCache","get_queueCount","setupMatricesOverlays","_fadeFrame","_frameCount","decimateQueue","processQueue","currentRenderGeneration","TourPlayer","get_playing","set_crossFadeFrame","set_world","set_view","set_projection","ms","_lastUpdate","trianglesRendered","trianglesCulled","capturingVideo","dumpFrameParams","waitDownload","captureFrameForVideo","_videoBlobReady","format","nextFrame","get_doneDumping","frameDumping","cancelFrameDump","usePlaybackControl","store","debug","console","log","clockRate","timePlaying","play","pause","togglePlay","setSpeed","rate","waitForReady","then","newRate","setClockRate","newIsPlaying","setClockSync","useTimezone","selectedLocation","selectedTimezone","latitudeDeg","longitudeDeg","selectedTimezoneOffset","shortTimezone","browserTimezone","Intl","DateTimeFormat","resolvedOptions","timeZone","browserTimezoneOffset","getTimezoneOffset","_hoisted_1","id","_hoisted_2","class","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","key","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","style","_hoisted_19","_hoisted_20","_hoisted_21","controls","src","type","__name","props","wwtNamespace","default","initialCameraParams","zoomDeg","setup","__props","engineStore","isTourPlaying","useWWTKeyboardControls","playbackControl","touchscreen","supportsTouchscreen","splash","URLSearchParams","search","get","toLowerCase","showSplashScreen","backgroundImagesets","sheet","layersLoaded","positionSet","accentColor","buttonColor","showHorizon","showAltAzGrid","showControls","showConstellations","crbBelowHorizon","originalFrameRender","boundRenderOneFrame","newFrameRender","beforeTourTime","sunPlace","Place","set_names","set_classification","solarSystem","set_target","sun","set_zoomLevel","crbPlace","set_RA","set_dec","wwtSettings","getWWTLocation","get_locationLng","get_locationLat","blazeStarLocation","goToTCrB","instant","gotoRADecZoom","todayAt9pm","today","setHours","selectedDate","updateDate","throttledUpdateDate","showLocationSelector","localSelectedDate","time","getTime","fakeUTC","set","newTime","setWWTLocation","set_locationLat","set_locationLng","skyBackgroundImagesets","iset","setBackgroundImageByName","setTime","applySetting","updateHorizonAndSky","_makeAltAzGridText","setInterval","currentTime","updateCrbBelowHorizon","ready","isLoading","getSunPosition","sunAltAz","getCrbAlt","crbAltAz","cssVars","showTextSheet","_value","selectSheet","showVideoSheet","video","document","querySelector","closeSplashScreen","sheetType","blurActiveElement","removeSky","clearAnnotations","sunPosition","skyOpacityForSunAlt","setForegroundOpacity","sunAltRad","civilTwilight","astronomicalTwilight","atan","clearCurrentTour","stopCurrentTour","playPauseTour","loadTour","url","onTourPlayingChange","playing","rollRad","logWWTState","loc","locDeg","table","set9pm","setMidnight","_show","show","_ctx","_cache","_component_WorldWideTelescope","_component_splash_screen","_component_icon_button","_component_font_awesome_icon","_component_location_selector","_component_geolocation_button","_component_credit_logos","_component_time_display","_component_date_time_picker","_component_bottom_sheet","modelValue","$event","onClose","_","size","icon","onClick","onKeyup","tabindex","label","transition","density","elevation","onLocation","longitude","latitude","onActivate","button","activator","scrim","rounded","ampm","timezone","fullscreen","onToggleBlaze","onToggleAlpha","__exports__","icons","defaultSet","aliases","sets","mdi","locale","fallback","messages","en","theme","defaultTheme","href","target","rel","Boolean","emits","__emit","tab","playTour","newVal","_component_credit","_component_funding_acknowledgement","persistent","absolute","dense","$emit","onclick","align","cols","outlined","useGeolocation","requestOnMount","isSupported","navigator","isPermissionGranted","isPermissionDenied","isPermissionPrompt","checkingPermissions","permissionsRequested","error","geolocationSuccess","position","hasError","handlePermission","status","state","checkPermission","permissions","query","onchange","handleSuccess","coords","handleError","err","code","PERMISSION_DENIED","message","POSITION_UNAVAILABLE","TIMEOUT","getCurrentLocation","enableHighAccuracy","timeout","maximumAge","geolocation","getCurrentPosition","watchId","watchLocation","watchPosition","clearWatch","disabled","showCoords","showLoading","trueIcon","falseIcon","backgroundColor","showPermissions","VBtn","variant","loading","required","showTimezone","String","pad","number","padStart","hours","getHours","getMinutes","getSeconds","getFullYear","getMonth","getDate","editable","min","step","clamp","zeroPad","pad2","psuedoValue","editing","input","parseValue","parseFloat","parseInt","minValue","maxValue","stepValue","setValue","event","blurred","toNearest","isValid","clampValue","focus","newValue","oldValue","onChange","onBlur","ref_key","ref","_hoisted_22","_hoisted_23","_hoisted_24","_hoisted_25","_hoisted_26","_hoisted_27","useAmpm","editableTime","isAm","decrement","increment","values","limits","Infinity","_daysInMonth","units","changeValue","unit","limit","nextUnit","indexOf","prevUnit","displayHour","h","utcDate","toISOString","$slots","TapToInput","update","el","binding","visibility","BlazeStarNova","use","wwtPinia","vuetify","directive","beforeMount","_vnode","_prevVnode","updated","component","WWTComponent","BottomSheet","IconButton","FundingAcknowledgement","CreditLogos","SplashScreen","GeolocationButton","LocationSelector","TimeDisplay","DateTimePicker","mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","__webpack_modules__","call","m","deferred","O","result","chunkIds","fn","priority","notFulfilled","fulfilled","j","Object","keys","every","splice","getter","__esModule","definition","o","defineProperty","enumerable","globalThis","Function","e","obj","prop","hasOwnProperty","Symbol","toStringTag","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","data","moreModules","runtime","some","chunkLoadingGlobal","self","__webpack_exports__"],"sourceRoot":""}